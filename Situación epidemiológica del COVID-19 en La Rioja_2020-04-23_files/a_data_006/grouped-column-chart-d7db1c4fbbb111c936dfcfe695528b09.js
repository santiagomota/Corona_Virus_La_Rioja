/*
 * datawrapper / vis / grouped-column-chart vdca10255
 * generated on 2020-04-23T14:34:11+00:00
 */
/*! datawrapper - v1.25.0 */
(function(){function getDelimiterPatterns(a,b){return new RegExp("(\\"+a+"|\\r?\\n|\\r|^)(?:"+b+"([^"+b+"]*(?:"+b+'"[^'+b+"]*)*)"+b+"|([^"+b+"\\"+a+"\\r\\n]*))","gi")}var root=this,dw={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dw),exports.dw=dw):window.dw=dw,dw.dataset=function(a,b){function c(a){for(var b=a.name(),c=b,e=1;d.hasOwnProperty(c);)c=b+"."+e++;c!=b&&a.name(c)}var d={},e=a.slice(0),f=a.slice(0);_.each(a,function(a){c(a),d[a.name()]=a}),b=_.extend(b,{});var g={columns:function(){return a},column:function(b){if(_.isString(b)){if(void 0!==d[b])return d[b];throw'No column found with that name: "'+b+'"'}if(!(b<0)){if(void 0!==a[b])return a[b];throw"No column found with that index: "+b}},numColumns:function(){return a.length},numRows:function(){return a[0].length},eachColumn:function(b){_.each(a,b)},hasColumn:function(b){return void 0!==(_.isString(b)?d[b]:a[b])},indexOf:function(b){return g.hasColumn(b)?_.indexOf(a,d[b]):-1},list:function(){return _.range(a[0].length).map(function(b){var c={};return _.each(a,function(a){c[a.name()]=a.val(b)}),c})},toCSV:function(){var b="",c=",",d='"';return _.each(a,function(a,e){var f=a.title();f.indexOf(d)>-1&&f.replace(d,"\\"+d),f.indexOf(c)>-1&&(f=d+f+d),b+=(e>0?c:"")+f}),_.each(_.range(g.numRows()),function(e){b+="\n",_.each(a,function(a,f){var g=""+("date"==a.type()?a.raw(e):a.val(e));g.indexOf(d)>-1&&g.replace(d,"\\"+d),g.indexOf(c)>-1&&(g=d+g+d),b+=(f>0?c:"")+g})}),b},filterColumns:function(b){return a=_.filter(a,function(a){return!b[a.name()]}),_.each(b,function(a,b){a&&d[b]&&delete d[b]}),g},eachRow:function(a){var b;for(b=0;b<g.numRows();b++)a(b);return g},add:function(b){return c(b),a.push(b),d[b.name()]=b,e.push(b),g},reset:function(){return a=f.slice(0),d={},_.each(a,function(a){d[a.name()]=a}),g},limitRows:function(b){return _.each(a,function(a){a.limitRows(b)}),g},limitColumns:function(b){return a.length>b&&(a.length=b,e.length=b),g},columnOrder:function(b){return arguments.length?(a.length=0,b.forEach(function(b){a.push(e[b])}),g):a.map(function(a){return e.indexOf(a)})}};return g},dw.column=function(a,b,c){function d(a){return null!==a&&void 0!==a&&""!==a}function e(a){if(_.every(b,_.isNumber))return dw.column.types.number();if(_.every(b,_.isDate))return dw.column.types.date();var c,e=[dw.column.types.date(a),dw.column.types.number(a),dw.column.types.text()],f=b.filter(d).length;return _.each(b,function(a){_.each(e,function(b){b.parse(a)})}),_.every(e,function(a){return(a.errors()/f<.1||a.errors()<=1)&&(c=a),!c}),_.isUndefined(c)&&(c=e[2]),c}var f=_.shuffle(_.range(b.length)).filter(function(a){return d(b[a])}).slice(0,200).map(function(a){return b[a]});c=c?dw.column.types[c](f):e(f);var g,h,i,j=b.slice(0),k={name:function(){return arguments.length?(a=arguments[0],k):dw.utils.purifyHtml(a)},title:function(){return arguments.length?(i=arguments[0],k):dw.utils.purifyHtml(i||a)},length:b.length,val:function(a,d){if(arguments.length){var e=d?j:b;return a<0&&(a+=e.length),c.parse(dw.utils.purifyHtml(e[a]))}},values:function(a){var d=a?j:b;return d=_.map(d,function(a){return dw.utils.purifyHtml(a)}),_.map(d,c.parse)},each:function(a){for(var c=0;c<b.length;c++)a(k.val(c),c)},raw:function(a,c){return arguments.length?2===arguments.length?(b[a]=c,k):dw.utils.purifyHtml(b[a]):b},type:function(a){if(!0===a)return c;if(_.isString(a)){if(dw.column.types[a])return c=dw.column.types[a](f),k;throw new Error("unknown column type: "+a)}return c.name()},range:function(){return!!c.toNum&&(g||(g=[Number.MAX_VALUE,-Number.MAX_VALUE],k.each(function(a){a=c.toNum(a),_.isNumber(a)&&!_.isNaN(a)&&(a<g[0]&&(g[0]=a),a>g[1]&&(g[1]=a))}),g[0]=c.fromNum(g[0]),g[1]=c.fromNum(g[1])),g)},total:function(){return!!c.toNum&&(h||(h=0,k.each(function(a){h+=c.toNum(a)}),h=c.fromNum(h)),h)},filterRows:function(a){return b=[],arguments.length?_.each(a,function(a){b.push(j[a])}):b=j.slice(0),k.length=b.length,g=h=!1,k},toString:function(){return a+" ("+c.name()+")"},indexOf:function(a){return _.find(_.range(b.length),function(b){return k.val(b)===a})},limitRows:function(a){j.length>a&&(j.length=a,b.length=a,k.length=a)}};return k},dw.column.types={},dw.column.types.text=function(){return{parse:_.identity,errors:function(){return 0},name:function(){return"text"},formatter:function(){return _.identity},isValid:function(){return!0},format:function(){}}},dw.column.types.number=function(a){function b(a,b){return 0===a?0:Math.round(b-Math.ceil(Math.log(Math.abs(a))/Math.LN10))}var c,d=0,e={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},f={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},g={na:1,"n/a":1,"-":1,":":1},h={},i=["-.",0];a=a||[],_.each(a,function(a){_.each(e,function(b,c){void 0===h[c]&&(h[c]=0),b.test(a)&&(h[c]+=1,h[c]>i[1]&&(i[0]=c,i[1]=h[c]))})}),c=i[0];var j={parse:function(a){if(_.isNumber(a)||_.isUndefined(a)||_.isNull(a))return a;var b=a.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!=c[0]&&(b=b.replace(new RegExp("."==c[0]?"\\.":c[0],"g"),"")),"."!=c[1]&&(b=b.replace(c[1],".")),isNaN(b)||""===b?(g[b.toLowerCase()]||""===b||d++,a):Number(b)},toNum:function(a){return a},fromNum:function(a){return a},errors:function(){return d},name:function(){return"number"},formatter:function(a){var c=a["number-format"]||"-",d=Number(a["number-divisor"]||0),e=(a["number-append"]||"").replace(/ /g," "),f=(a["number-prepend"]||"").replace(/ /g," ");return function(a,g,h){if(isNaN(a))return a;var i=c;if(0!==d&&"-"==i&&(i="n1"),0!==d&&(a=Number(a)/Math.pow(10,d)),"s"==i.substr(0,1)){var j=+i.substr(1);i="n"+Math.max(0,b(a,j))}if(h&&(i="n0"),"-"==i&&(i=dw.utils.equalish(a,Math.round(a))?"n0":dw.utils.equalish(a,.1*Math.round(10*a))?"n1":dw.utils.equalish(a,.01*Math.round(100*a))?"n2":dw.utils.equalish(a,.001*Math.round(1e3*a))?"n3":dw.utils.equalish(a,1e-4*Math.round(1e4*a))?"n4":dw.utils.equalish(a,1e-5*Math.round(1e5*a))?"n5":"n6"),a=Globalize.format(a,"-"!=i?i:null),f.indexOf("{+/-}")>-1){var k=Number(a.replace(/[^\d-]/g,""));k<0?(a=a.replace("-",""),f=f.replace("{+/-}","-")):f=k>0?f.replace("{+/-}","+"):f.replace("{+/-}","")}return g?f+a+e:a}},isValid:function(a){return""===a||g[String(a).toLowerCase()]||_.isNumber(j.parse(a))},ambiguousFormats:function(){var a=[];return _.each(h,function(b,c){b==i[1]&&a.push([c,f[c]])}),a},format:function(a){return arguments.length?(c=a,j):c}};return j},dw.column.types.date=function(){function a(){return new RegExp(g+Array.prototype.slice.call(arguments).join(" *")+h,"i")}function b(a,b){var c=q[b];return _.isRegExp(c.test)?c.test.test(a):c.test(a,b)}function c(a,b){var c=q[b];return _.isRegExp(c.parse)?a.match(c.parse):c.parse(a,b)}function d(a,b,c){var d=new Date(Date.UTC(a,0,3));return d.setUTCDate(3-d.getUTCDay()+7*(b-1)+parseInt(c,10)),d}function e(a){var b=a.getUTCDay(),c=new Date(a.valueOf());c.setDate(c.getDate()-(b+6)%7+3);var d=c.getUTCFullYear(),e=Math.floor((c.getTime()-new Date(d,0,1,-6))/864e5);return[d,1+Math.floor(e/7),b>0?b:7]}function f(a,b){return 12!=a?a+("pm"==b?12:0):"am"==b?0:12}var g=/^ */.source,h=/[\*']* *$/.source,i=/[ \-\/\.]?/.source,j=/[ \-\/\.]/.source,k=/[ \-\/\.,]/.source,l=/[ \-\|T]/.source,m=/[ \-\/\m]/.source,n={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},o={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},p={};_.each(o,function(a,b){_.each(a,function(a){p[a]=b})}),n.MMM={parse:new RegExp("("+_.flatten(_.values(o)).join("|")+")")},_.each(n,function(a,b){a.parse=a.parse.source,_.isRegExp(a.test)?a.test=a.test.source:a.test=a.parse});var q={YYYY:{test:a(n.YYYY2.test),parse:a(n.YYYY2.parse),precision:"year"},"YYYY-H":{test:a(n.YYYY.test,i,n.H.test),parse:a(n.YYYY.parse,i,n.H.parse),precision:"half"},"H-YYYY":{test:a(n.H.test,j,n.YYYY.test),parse:a(n.H.parse,j,n.YYYY.parse),precision:"half"},"YYYY-Q":{test:a(n.YYYY.test,i,n.Q.test),parse:a(n.YYYY.parse,i,n.Q.parse),precision:"quarter"},"Q-YYYY":{test:a(n.Q.test,j,n.YYYY.test),parse:a(n.Q.parse,j,n.YYYY.parse),precision:"quarter"},"YYYY-M":{test:a(n.YYYY.test,m,n.MM.test),parse:a(n.YYYY.parse,m,n.MM.parse),precision:"month"},"M-YYYY":{test:a(n.MM.test,j,n.YYYY.test),parse:a(n.MM.parse,j,n.YYYY.parse),precision:"month"},"YYYY-MMM":{test:a(n.YYYY.test,j,n.MMM.parse),parse:a(n.YYYY.parse,j,n.MMM.parse),precision:"month"},"MMM-YYYY":{test:a(n.MMM.parse,j,n.YYYY.test),parse:a(n.MMM.parse,j,n.YYYY.parse),precision:"month"},"MMM-YY":{test:a(n.MMM.parse,j,n.YY.test),parse:a(n.MMM.parse,j,n.YY.parse),precision:"month"},MMM:{test:a(n.MMM.parse),parse:a(n.MMM.parse),precision:"month"},"YYYY-WW":{test:a(n.YYYY.test,i,n.W.test),parse:a(n.YYYY.parse,i,n.W.parse),precision:"week"},"WW-YYYY":{test:a(n.W.test,j,n.YYYY.test),parse:a(n.W.parse,j,n.YYYY.parse),precision:"week"},"MM/DD/YY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YY.parse),precision:"day"},"DD/MM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YY.parse),precision:"day"},"MM/DD/YYYY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YY.parse),precision:"day"},"YYYY-MM-DD":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:a(n.MMM.test,j,n.DD.test,k,n.YYYY.test),parse:a(n.MMM.parse,j,n.DD.parse,k,n.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:a(n.YYYY.test,i,n.W.test,j,n.DOW.test),parse:a(n.YYYY.parse,i,n.W.parse,j,n.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test,l,n.HHMM.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse,l,n.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d+)?([+-][0-2]\d:[0-5]\d|Z)/,parse:function(a){return a},precision:"day-seconds"}};return function(a){var g,h=0,i={},j=["",0];a=a||[],_.each(q,function(c,d){_.each(a,function(a){void 0===i[d]&&(i[d]=0),b(a,d)&&(i[d]+=1,i[d]>j[1]&&(j[0]=d,j[1]=i[d]))})}),g=j[0];var k={parse:function(a){function e(a){return a=+a,a<30?2e3+a:1900+a}if(_.isDate(a)||_.isUndefined(a))return a;if(!g||!_.isString(a))return h++,a;var i=c(a.toLowerCase(),g);if(!i)return h++,a;b(a,g)||h++;var j=(new Date).getFullYear();switch(g){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],p[i[2]],1);case"MMM-YYYY":return new Date(+i[2],p[i[1]],1);case"MMM-YY":return new Date(e(+i[2]),p[i[1]],1);case"MMM":return new Date(j,p[i[1]],1);case"YYYY-WW":return d(i[1],i[2],1);case"WW-YYYY":return d(i[2],i[1],1);case"YYYY-WW-d":return d(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],p[i[3]],i[1]);case"DD/MMM/YY":return new Date(e(i[4]),p[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(e(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(e(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],p[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(i.toUpperCase());default:console.warn("unknown format",g)}return h++,a},toNum:function(a){return a.getTime()},fromNum:function(a){return new Date(a)},errors:function(){return h},name:function(){return"date"},format:function(a){return arguments.length?(g=a,k):g},precision:function(){return q[g].precision},formatter:function(a){if(!g)return _.identity;var b=Globalize.culture().calendar.patterns.M.replace("MMMM","MMM");switch(q[g].precision){case"year":return function(a){return _.isDate(a)?a.getFullYear():a};case"half":return function(a){return _.isDate(a)?a.getFullYear()+" H"+(a.getMonth()/6+1):a};case"quarter":return function(a){return _.isDate(a)?a.getFullYear()+" Q"+(a.getMonth()/3+1):a};case"month":return function(a){return _.isDate(a)?Globalize.format(a,"MMM yy"):a};case"week":return function(a){return _.isDate(a)?e(a).slice(0,2).join(" W"):a};case"day":return function(a,b){return _.isDate(a)?Globalize.format(a,b?"D":"d"):a};case"day-minutes":return function(a){return _.isDate(a)?Globalize.format(a,b).replace(" ","&nbsp;")+" - "+Globalize.format(a,"t").replace(" ","&nbsp;"):a};case"day-seconds":return function(a){return _.isDate(a)?Globalize.format(a,"T").replace(" ","&nbsp;"):a}}},isValid:function(a){return _.isDate(k.parse(a))},ambiguousFormats:function(){var a=[];return _.each(i,function(b,c){b==j[1]&&a.push([c,c])}),a}};return k}}(),dw.datasource={},dw.datasource.delimited=function(a){function b(){if(a.url){var b=(window.location.hostname||"").split("."),c="";if(b.length>=2)var c=b[b.length-2]+"."+b[b.length-1];return $.ajax({url:a.url+(a.url.indexOf("?")>-1?"&":"?")+"v="+(new Date).getTime(),method:"GET",dataType:"text",xhrFields:{withCredentials:a.url.indexOf(c)>-1}}).then(function(b){return new DelimitedParser(a).parse(b)})}if(a.csv||""===a.csv){var d=$.Deferred(),e=d.then(function(b){return new DelimitedParser(a).parse(b)});return d.resolve(a.csv),e}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return new DelimitedParser(a).parse(a.csv)}}};var DelimitedParser=function(a){a=_.extend({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},a),this.__delimiterPatterns=getDelimiterPatterns(a.delimiter,a.quoteChar),this.opts=a};_.extend(DelimitedParser.prototype,{parse:function(a){function b(a,b,c){c=c||",";for(var d,e=[[]],f=null;f=a.exec(b);){var g=f[1];g.length&&g!=c&&e.push([]),d=f[2]?f[2].replace(new RegExp('""',"g"),'"'):f[3],e[e.length-1].push(void 0===d?"":d)}e[0][0].substr(0,1)==h&&(e[0][0]=e[0][0].substr(1));var i=e.length-1,j=e[i].length-1,k=e[i][j].length-1;return e[i][j].substr(k)===h&&(e[i][j]=e[i][j].substr(0,k)),e.slice(1)}function c(a){var b=a,c=b.length?b.length:0,d=b[0]instanceof Array?b[0].length:0;if(0===d||0===c)return[];var e,f,g=[];for(e=0;e<d;e++)for(g[e]=[],f=0;f<c;f++)g[e][f]=b[f][e];return g}function d(a){var b=[],c={},d=a.length,e=a[0].length,g=f.skipRows,h=[];f.firstRowIsHeader&&(h=a[g],g++);for(var i=0;i<e;i++){var j=_.isString(h[i])?h[i].replace(/^\s+|\s+$/g,""):"",k=""!==j?"":1;for(j=""!==j?j:"X.";void 0!==c[j+k];)k=""===k?1:k+1;b.push({name:j+k,data:[]}),c[j+k]=!0}return _.each(_.range(g,d),function(c){_.each(b,function(b,d){b.data.push(""!==a[c][d]?a[c][d]:f.emptyValue)})}),b=_.map(b,function(a){return dw.column(a.name,a.data)}),dw.dataset(b)}var e=this,f=this.opts;e.__rawData=a,"auto"==f.delimiter&&(f.delimiter=e.guessDelimiter(a,f.skipRows),e.__delimiterPatterns=getDelimiterPatterns(f.delimiter,f.quoteChar));var g,h="|"!=f.delimiter?"|":"#";return a=h+"\n"+a.replace(/[ \r\n\f]+$/g,"")+h,g=b(this.__delimiterPatterns,a,f.delimiter),f.transpose&&(g=c(g)),d(g)},guessDelimiter:function(a){var b=0,c=-1,d=this,e=["\t",";","|",","];return _.each(e,function(e,f){var g=getDelimiterPatterns(e,d.quoteChar),h=a.match(g).length;"\t"==e&&(h*=1.15),h>b&&(b=h,c=f)}),e[c]}}),dw.datasource.json=function(a){function b(){if(a.url);else if(a.csv||a.json){var b=$.Deferred(),c=b.then(function(a){return JSON.parse(a)});return b.resolve(a.csv||a.json),c}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return JSON.parse(a.csv||a.json)}}},dw.utils={minMax:function(a){var b=[Number.MAX_VALUE,-Number.MAX_VALUE];return _.each(a,function(a){b[0]=Math.min(b[0],a.range()[0]),b[1]=Math.max(b[1],a.range()[1])}),b},dateFormat:function(a){function b(a){return function(b){d=!e||b.getMonth()!=e.getMonth(),e=b;for(var c=a.length-1,f=a[c];!f[1](b);)f=a[--c];return f[0](b)}}function c(a){return function(b){var c=Globalize.format(b,a);return"htt"!=a?c:c.toLowerCase()}}var d=!0,e=!1,f=function(a){return{date:"de"==a?"dd.":"dd",hour:"en"!=a?"H:00":"htt",minute:"de"==a?"H:mm":"h:mm",mm:"de"==a?"d.M.":"MM/dd",mmm:"de"==a?"d.MMM":"MMM dd",mmmm:"de"==a?"d. MMMM":"MMMM dd"}}(Globalize.culture().language);return b([[c("yyyy"),function(){return!0}],[c("MMM"),function(a){return 0!==a.getMonth()}],[c(f.date),function(a){return 1!=a.getDate()}],[c(a<7?f.mm:f.mmm),function(a){return 1!=a.getDate()&&d}],[c(f.hour),function(a){return a.getHours()}],[c(f.minute),function(a){return a.getMinutes()}],[c(":ss"),function(a){return a.getSeconds()}],[c(".fff"),function(a){return a.getMilliseconds()}]])},longDateFormat:function(a){return function(b){if("date"!=a.type())return b;switch(a.type(!0).precision()){case"year":return b.getFullYear();case"quarter":return b.getFullYear()+" Q"+(b.getMonth()/3+1);case"month":return Globalize.format(b,"MMM yy");case"day":return Globalize.format(b,"MMM d");case"minute":return Globalize.format(b,"t");case"second":return Globalize.format(b,"T")}}},columnNameColumn:function(a){var b=_.map(a,function(a){return a.title()});return dw.column("",b)},name:function(a){return _.isFunction(a.name)?a.name():_.isString(a.name)?a.name:a},getNonChartHeight:function(){function a(a,b){return getComputedStyle($(a).get(0))[b].replace("px","")}var b=0;$("body > *").each(function(a,c){function d(a){return f.split(" ").indexOf(a)>-1}var e=c.tagName.toLowerCase(),f=$(c).attr("class")||"";"script"==e||"style"==e||"chart"==c.id||$(c).attr("aria-hidden")||d("tooltip")||d("vg-tooltip")||d("hidden")||d("qtip")||d("container")||d("noscript")||d("hidden")||d("filter-ui")||d("dw-chart-body")||(b+=Number($(c).outerHeight(!0)))});var c=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return["body","body #chart"].forEach(function(d){c.forEach(function(c){b+=Number(a(d,c))})}),b},getMaxChartHeight:function(){var a=$(window).height()-8;return a-=dw.utils.getNonChartHeight()},purifyHtml:function(a,b){function c(a,b){if(null===a)return null;if(a=String(a),a.indexOf("<")<0||a.indexOf(">")<0)return a;if(a=d(a,b),"undefined"==typeof document)return a;var c=document.createElement("div");c.innerHTML=a;for(var e=c.querySelectorAll("*"),f=0;f<e.length;f++){"a"===e[f].nodeName.toLowerCase()&&("_self"!==e[f].getAttribute("target")&&e[f].setAttribute("target","_blank"),e[f].setAttribute("rel","nofollow noopener noreferrer"));for(var g=0;g<e[f].attributes.length;g++){var h=e[f].attributes[g];h.specified&&"on"==h.name.substr(0,2)&&e[f].removeAttribute(h.name)}}return c.innerHTML}function d(a,b){b=(((void 0!==b?b||"":g)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var c=a,d=a;;)if(c=d,d=c.replace(f,"").replace(e,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""}),c===d)return d}var e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,f=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,g="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";return dw.utils.purifyHtml=c,c(a,b)},significantDimension:function(a){function b(a){return dw.utils.round(a,f)}var c,d,e=[],f=0,g=_.uniq(a),h=g.length,i=Math.floor(.8*h);if(g.length<3)return Math.round(g.reduce(function(a,b){if(!b)return a;var c=Math.log(Math.abs(b))/Math.LN10;return c<8&&c>-3?a+Math.min(3,dw.utils.tailLength(g[0])):a+(c>0?-1*(c-1):-1*c)},0)/g.length);_.uniq(_.map(g,b)).length>i?(c=function(){return _.uniq(e).length==h},d=-1):(c=function(){return _.uniq(e).length<=i},d=1);var j=100;do{e=_.map(g,b),f+=d}while(c()&&j-- >0);return j<10&&console.warn("maximum iteration reached",a,e,f),d<0?f+=2:f--,f},tailLength:function(a){return String(a-Math.floor(a)).replace(/00000*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2},round:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},smartRound:function(a,b){var c=dw.utils.significantDimension(a);return c+=b||0,_.map(a,function(a){return dw.utils.round(a,c)})},nearest:function(a,b){var c,d=Number.MAX_VALUE;return _.each(a,function(a){var e=Math.abs(a-b);e<d&&(d=e,c=a)}),c},metricSuffix:function(a){switch(a.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(a){var b=Math.round(Math.log(a[0])/Math.LN10);return Math.round(Math.log(a[1])/Math.LN10)-b},logTicks:function(a,b){var c=Math.round(Math.log(a)/Math.LN10),d=Math.round(Math.log(b)/Math.LN10);return _.map(_.range(c,d),function(a){return Math.pow(10,a)})},clone:function(a){try{return JSON.parse(JSON.stringify(a))}catch(a){}return a},equalish:function(a,b){return a-b<1e-6}},dw.utils.filter=function(a,b,c,d){function e(b){_.each(g,function(c){_.isFunction(c)&&c(a.val(b),b)})}function f(c){var d;return"auto"==c&&(c="date"==a.type()?"timescale":a.length<6?"buttons":"select"),a.length<2?function(){return!1}:("select"==c&&(d=function(b){var c=$("<select />");return a.each(function(b,d){var e=a.raw()[d];e&&c.append('<option value="'+d+'">'+(_.isString(e)?$.trim(e):e)+"</option>")}),c.change(function(a){e(c.val())}),c.addClass("filter-ui filter-select"),c}),"buttons"==c&&(d=function(c){var d=$("<div />");d.addClass("filter-ui filter-links"),a.each(function(c,e){var f=a.raw()[e];if(f){var g=$('<a href="#'+e+'"'+(e==b?' class="active" ':"")+">"+(_.isString(f)?$.trim(f):f)+"</a>").data("row",e);d.append(g)}}),$("a",d).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($("a",d).removeClass("active"),b.addClass("active"),e(b.data("row")))}),d.appendTo("body");var g=$("a:first",d).offset().top+$("a:first",d).height();return $("a:last",d).offset().top+$("a:last",d).height()-g>1?(d.remove(),f("select")(c)):d}),"timescale"==c&&(d=function(b){function c(b,c){return b*(1-(a.val(-1).getTime()-c.getTime())/864e5/daysDelta)}var d=Math.min(b.__w-35);timesel=$("<div></div>").css({position:"relative",height:45,"margin-left":3}).addClass("filter-ui"),daysDelta=Math.round((a.val(-1).getTime()-a.val(0).getTime())/864e5);for(var f=0,g=0;g<a.length;g++){var h=$('<div class="point"></div>');h.data("row",g),h.css("left",c(d,a.val(g))+"px"),timesel.append(h);var i=$('<div class="point-label">'+a.raw()[g]+"</div>");i.css("left",c(d,a.val(g))+"px"),timesel.append(i),0==g&&h.addClass("active");var j=c(d,a.val(g));j>f&&(h,f=j)}var k=f;return timesel.append('<div class="line"></div>'),$(".line",timesel).width(k),$(".point",timesel).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($(".point",timesel).removeClass("active"),b.addClass("active"),e(b.data("row")))}),timesel}),d)}var g=[];return c=c||"auto",d=d||_.identity,"auto"==c&&("date"==a.type()?c="timescale":"text"==a.type()&&(c=a.length<6?"buttons":"select")),{ui:f(c),change:function(a){g.push(a)}}},dw.chart=function(attributes){function reorderColumns(a){var b=chart.get("metadata.data.column-order",[]);return b.length&&b.length==a.numColumns()&&a.columnOrder(b),a}function applyChanges(a){var b=chart.get("metadata.data.changes",[]),c=chart.get("metadata.data.transpose",!1);_.each(b,function(b){var d="row",e="column";if(c&&(d="column",e="row"),a.hasColumn(b[e]))if(0===b[d]){if(b.previous){const f=a.column(b[e]).title();if(f!==b.previous)return}a.column(b[e]).title(b.value)}else{if(b.previous){const g=a.column(b[e]).raw(b[d]-1);if(g!==b.previous)return}a.column(b[e]).raw(b[d]-1,b.value)}});var d=chart.get("metadata.data.column-format",{});return _.each(d,function(b,c){b.type&&a.hasColumn(c)&&"auto"!=b.type&&a.column(c).type(b.type),b["input-format"]&&a.hasColumn(c)&&a.column(c).type(!0).format(b["input-format"])}),a}function addComputedColumns(dataset){function add_computed_column(formula,name){var datefmt=function(a){return a.getFullYear()+"-"+left_pad(1+a.getMonth(),2,0)+"-"+left_pad(1+a.getDate(),2,0)},values=data.map(function(row,row_i){var context=[];return context.push("var __row = "+row_i+";"),_.each(row,function(a,b){columnNameToVar[b]&&(context.push("var "+columnNameToVar[b]+" = "+JSON.stringify(a)+";"),"number"==dataset.column(b).type()&&(context.push("var "+columnNameToVar[b]+"__sum = "+col_aggregates[b].sum+";"),context.push("var "+columnNameToVar[b]+"__min = "+col_aggregates[b].min+";"),context.push("var "+columnNameToVar[b]+"__max = "+col_aggregates[b].max+";"),context.push("var "+columnNameToVar[b]+"__mean = "+col_aggregates[b].mean+";"),context.push("var "+columnNameToVar[b]+"__median = "+col_aggregates[b].median+";")))}),context.push("var max = Math.max, min = Math.min;"),function(){try{return eval(this.context.join("\n")+"\n"+formula)}catch(a){return console.warn(a),"n/a"}}.call({context:context})}).map(function(a){return _.isBoolean(a)?a?"yes":"no":_.isDate(a)?datefmt(a):_.isNumber(a)?""+a:String(a)}),v_col=dw.column(name,values);v_col.isComputed=!0,dataset.add(v_col)}function column_name_to_var(a){return a.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/-/g,"_").replace(/\_\_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|window|with|yield)$/,"$1_")}function d3_min(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&b>c&&(b=c)}return b}function d3_max(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&c>b&&(b=c)}return b}function d3_sum(a){var b,c=0,d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=+a[e])&&(c+=b);return c}function d3_mean(a){for(var b,c=0,d=a.length,e=-1,f=d;++e<d;)d3_numeric(b=d3_number(a[e]))?c+=b:--f;if(f)return c/f}function d3_median(a){var b,c=[],d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=d3_number(a[e]))&&c.push(b);if(c.length)return d3_quantile(c.sort(d3_ascending),.5)}function d3_quantile(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function d3_number(a){return null===a?NaN:+a}function d3_numeric(a){return!isNaN(a)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function left_pad(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}var v_columns=chart.get("metadata.describe.computed-columns",{}),data=dataset.list(),columnNameToVar={},col_aggregates={};return dataset.eachColumn(function(a){a.isComputed||(columnNameToVar[a.name()]=column_name_to_var(a.name()),"number"==a.type()&&(col_aggregates[a.name()]={min:d3_min(a.values()),max:d3_max(a.values()),sum:d3_sum(a.values()),mean:d3_mean(a.values()),median:d3_median(a.values())}))}),_.each(v_columns,add_computed_column),dataset}function is_equal(a,b){return JSON.stringify(a)==JSON.stringify(b)}var dataset,theme,visualization,metric_prefix,change_callbacks=$.Callbacks(),dataset_change_callbacks=$.Callbacks(),locale,_ds,chart={get:function(a,b){var c=a.split("."),d=attributes;return _.some(c,function(a){return!(!_.isUndefined(d)&&!_.isNull(d))||(d=d[a],!1)}),_.isUndefined(d)||_.isNull(d)?b:d},set:function(a,b){var c=a.split("."),d=c.pop(),e=attributes;return _.each(c,function(a){(_.isUndefined(e[a])||_.isNull(e[a]))&&(e[a]={}),e=e[a]}),is_equal(e[d],b)||(e[d]=b,change_callbacks.fire(chart,a,b)),this},load:function(a,b){var c,d={firstRowIsHeader:chart.get("metadata.data.horizontal-header",!0),transpose:chart.get("metadata.data.transpose",!1)};return!a&&""!==a||b?d.url=b||"data.csv":d.csv=a,c=chart.get("metadata.data.json")?dw.datasource.json(d):dw.datasource.delimited(d),c.dataset().pipe(function(a){return chart.dataset(a),dataset_change_callbacks.fire(chart,a),a})},dataset:function(a){return arguments.length?(!0!==a&&(_ds=a),dataset=chart.get("metadata.data.json")?_ds:reorderColumns(applyChanges(addComputedColumns(_ds))),!0===a?dataset:chart):dataset},theme:function(a){return arguments.length?(theme=a,chart):theme||{}},vis:function(a){return arguments.length?(visualization=a,visualization.chart(chart),chart):visualization},hasHighlight:function(){var a=chart.get("metadata.visualize.highlighted-series");return _.isArray(a)&&a.length>0},isHighlighted:function(a){if(void 0===_.isUndefined(a))return!1;var b=this.get("metadata.visualize.highlighted-series"),c=dw.utils.name(a);return!_.isArray(b)||0===b.length||_.indexOf(b,c)>=0},locale:function(a,b){return arguments.length?(locale=a.replace("_","-"),window.Globalize&&(Globalize.cultures.hasOwnProperty(locale)?(Globalize.culture(locale),"function"==typeof b&&b()):$.getScript("/static/vendor/globalize/cultures/globalize.culture."+locale+".js",function(){chart.locale(locale),"function"==typeof b&&b()})),chart):locale},metricPrefix:function(a){return arguments.length?(metric_prefix=a,chart):metric_prefix},formatValue:function(a,b,c){
var d=chart.get("metadata.describe.number-format"),e=Number(chart.get("metadata.describe.number-divisor")),f=chart.get("metadata.describe.number-append","").replace(" ","&nbsp;"),g=chart.get("metadata.describe.number-prepend","").replace(" ","&nbsp;");return 0!==e&&(a=Number(a)/Math.pow(10,e)),"-"!=d?((c||a==Math.round(a))&&(d=d.substr(0,1)+"0"),a=Globalize.format(a,d)):0!==e&&(a=a.toFixed(1)),b?g+a+f:a},render:function(a){if(!visualization||!theme||!dataset)throw"cannot render the chart!";visualization.chart(chart),visualization.__init();var b=$(a);b.parent().addClass("vis-"+visualization.id).addClass("theme-"+theme.id),visualization.render(b)},attributes:function(a){return arguments.length?(attributes=a,chart):attributes},onChange:change_callbacks.add,onDatasetChange:dataset_change_callbacks.add,columnFormatter:function(a){var b=chart.get("metadata.data.column-format",{});if(b=_.clone(b[a.name()]||{type:"auto","number-format":"auto"}),"number"==a.type()&&("auto"==b||void 0===b["number-format"]||"auto"==b["number-format"])){var c=a.values(),d=dw.utils.significantDimension(c);b["number-format"]="n"+Math.max(0,d)}return a.type(!0).formatter(b)},dataCellChanged:function(a,b){var c=chart.get("metadata.data.changes",[]),d=chart.get("metadata.data.transpose",!1),e=!1;return _.each(c,function(c){var f="row",g="column";d&&(f="column",g="row"),a==c[g]&&c[f]==b&&(e=!0)}),e}};return chart},dw.visualization=function(){var a={},b=function(b){if(!a[b]){console.warn("unknown visualization type: "+b);var c=_.keys(a);return c.length>0&&console.warn("try one of these instead: "+c.join(", ")),!1}return new a[b]};return b.register=function(b){var c=3===arguments.length?a[arguments[1]].prototype:dw.visualization.base,d=arguments[arguments.length-1],e=a[b]=function(){};_.extend(e.prototype,c,{id:b},d)},b.has=function(b){return void 0!==a[b]},b}(),dw.visualization.base=function(){}.prototype,_.extend(dw.visualization.base,{__init:function(){return this.__renderedDfd=$.Deferred(),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render:function(a){$(a).html("implement me!")},theme:function(a){if(!arguments.length)return this.__theme;this.__theme=a;var b=["horizontalGrid","verticalGrid","yAxis","xAxis"];return _.each(b,function(b){if(a.hasOwnProperty(b))for(var c in a[b]){var d=c.replace(/([A-Z])/g,"-$1").toLowerCase();a[b].hasOwnProperty(d)||(a[b][d]=a[b][c])}}),this},size:function(a,b){var c=this;return arguments.length?(c.__w=a,c.__h=b,c):[c.__w,c.__h]},get:function(a,b){return this.chart().get("metadata.visualize"+(a?"."+a:""),b)},notify:function(a){if(dw.backend&&_.isFunction(dw.backend.notify))return dw.backend.notify(a);window.parent&&window.parent.postMessage?window.parent.postMessage("notify:"+a,"*"):window.console&&console.log(a)},signature:function(){},translate:function(a){return this.meta.locale[a]||a},checkBrowserCompatibility:function(){return!0},chart:function(a){var b=this;if(!arguments.length)return b.__chart;b.dataset=a.dataset(),b.theme(a.theme()),b.__chart=a;var c=a.get("metadata.data.column-format",{}),d={};return _.each(c,function(a,b){d[b]=!!a.ignore}),b.dataset.filterColumns&&b.dataset.filterColumns(d),b},axes:function(a,b){function c(a){_.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++)if(!e.hasColumn(a[b]))return!1;return!0}var d=this;if(!b&&d.__axisCache)return d.__axisCache[a?"axesAsColumns":"axes"];var e=d.dataset,f={},g={},h={},i=[],j=d.chart().get("metadata.axes",{});_.each(d.meta.axes,function(a,b){if(j[b]){var d=j[b];c(d)&&(g[b]=d,_.isArray(d)||(d=[d]),_.each(d,function(a){f[a]=!0}))}});var k=[];return _.each(d.meta.axes,function(a,b){function c(b){return!f[b.name()]&&_.indexOf(a.accepts,b.type())>=0}function h(){var c=dw.backend?dw.backend.messages.insufficientData:"The visualization needs at least one column of the type %type to populate axis %key";i.push(c.replace("%type",a.accepts).replace("%key",b))}function j(a){function b(a,b){if(void 0===a&&void 0!==b)return!1;if(void 0===b&&void 0!==a)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0}var c=0;return _.each(d.meta.axes,function(d,e){if(!(k.indexOf(e)>-1)&&b(d.accepts,a)&&"string"!=typeof c&&!d.optional)return d.multiple?void(c="multiple"):void(c+=1)}),c}function l(a,b){var d=0;return a.eachColumn(function(a,b){c(a)&&d++}),d}if(k.push(b),!g[b])if(a.optional&&a.overrideOptionalKey&&d.chart().get("metadata."+a.overrideOptionalKey,!1)&&(a.optional=!1),a.optional)g[b]=!1;else if(a.multiple){var m=j(a.accepts),n=l(e);g[b]=[],e.eachColumn(function(a){"multiple"===m&&g[b].length||n<=m||c(a)&&(f[a.name()]=!0,g[b].push(a.name()),n--)}),g[b].length||h()}else{var o,p=_.filter(e.columns(),c);if(a.preferred){var q=new RegExp(a.preferred,"i");o=_.find(p,function(a){return q.test(a.name())||a.title()!==a.name()&&q.test(a.title())})}if(o||(o=p[0]),o)f[o.name()]=!0,g[b]=o.name();else if(_.indexOf(a.accepts,"text")>=0){const r=_.filter(e.columns(),function(b){return _.indexOf(a.accepts,b.type())>=0});if(r.length)g[b]=r[0].name();else{var s=dw.column(b,_.map(_.range(e.numRows()),function(a){return(a>25?String.fromCharCode(64+a/26):"")+String.fromCharCode(65+a%26)}),"text");e.add(s),d.chart().dataset(e),f[s.name()]=!0,g[b]=s.name()}}else h()}}),i.length&&d.notify(i.join("<br />")),_.each(g,function(a,b){_.isArray(a)?(h[b]=[],_.each(a,function(a,c){h[b][c]=!1!==a?d.dataset.column(a):null})):h[b]=!1!==a?d.dataset.column(a):null}),d.__axisCache={axes:g,axesAsColumns:h},d.axes(a)},keys:function(){var a=this,b=a.axes();if(b.labels){var c=a.dataset.column(b.labels),d=a.chart().columnFormatter(c),e=[];return c.each(function(a){e.push(String(d(a)))}),e}return[]},keyLabel:function(a){return a},reset:function(){this.clear(),$("#chart").html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),$(".chart .filter-ui").remove(),$(".chart .legend").remove()},clear:function(){},renderingComplete:function(){window.parent&&window.parent.postMessage&&setTimeout(function(){window.parent.postMessage("datawrapper:vis:rendered","*")},200),this.__renderedDfd.resolve(),this.__rendered=!0,this.postRendering()},postRendering:function(){function a(){var a=b.options.watermark.text||"CONFIDENTIAL";$(".watermark","#chart").remove(),$(".dw-chart-body").append('<div class="export-text watermark noscript"><span>'+a+"</span></div>"),$(".watermark","#chart").css("font-size","6px");var c=$(".watermark","#chart"),d=c[0].getBoundingClientRect().width,e=Math.sqrt(Math.pow(window.innerHeight,2)+Math.pow(window.innerWidth,2)),f=.7*e/d*6,g=Math.atan(window.innerHeight/window.innerWidth),h="rotate("+-g+"rad)";c.attr("data-rotate",-1*g*180/Math.PI).css("font-size",f);var i=c[0].getBoundingClientRect().height;d=c[0].getBoundingClientRect().width;var j=(e-d)*Math.cos(g),k=(e-d)*Math.sin(g);c.css("transform",h).css("bottom",-i/2+k/2+"px").css("left",j/2+"px")}var b=this.theme();this.theme()&&this.theme().options&&this.theme().options.watermark&&(a(),$(window).off("resize",a).on("resize",a))},rendered:function(){return this.__renderedDfd.promise()},supportsSmartRendering:function(){return!1},_svgCanvas:function(){return!1},colorMap:function(){var a=this;return function(b){return a.__colors[b]=1,window.__dw&&window.__dwColorMap?window.__dwColorMap(b):b}},colorsUsed:function(){return Object.keys(this.__colors)},on:function(a,b){this.__callbacks[a]||(this.__callbacks[a]=[]),this.__callbacks[a].push(b)},fire:function(a,b){this.__callbacks[a]&&this.__callbacks[a].forEach(function(a){"function"==typeof a&&a(b)})}}),dw.theme=function(){function a(){var c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length;for("object"==typeof h||_.isFunction(h)||(h={});i<j;i++)if(null!=(c=arguments[i]))for(d in c)e=h[d],f=c[d],h!==f&&(f&&b(f)?(g=e&&b(e)?e:{},h[d]=a(g,f)):void 0!==f&&(h[d]=f));return h}function b(a){return _.isObject(a)&&!_.isArray(a)&&!_.isFunction(a)}var c={},d=function(a){return c[a]};return d.register=function(b){var d=3==arguments.length?c[arguments[1]]:dw.theme.base,e=arguments[arguments.length-1];c[b]=a({},d,{id:b},e)},d}(),dw.theme.base={colors:{palette:["#6E7DA1","#64A4C4","#53CCDD","#4EF4E8"],picker:{rowCount:6,controls:{hexEditable:!0,hue:!0,saturation:!0,lightness:!0}},secondary:[],positive:"#85B4D4",negative:"#E31A1C",neutral:"#CCCCCC",background:"#ffffff",text:"#333333",gradients:[["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],["#fefaca","#008b15"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],["#8c510a","#d8b365","#f6e8c3","#f5f7ea","#c7eae5","#5ab4ac","#01665e"],["#c51b7d","#e9a3c9","#fde0ef","#faf6ea","#e6f5d0","#a1d76a","#4d9221"],["#b2182b","#ef8a62","#fddbc7","#f8f6e9","#d1e5f0","#67a9cf","#2166ac"]],categories:[["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]]},annotation:{background:"#000",opacity:.08},padding:{left:0,right:20,bottom:30,top:10},lineChart:{strokeWidth:3,maxLabelWidth:80,fillOpacity:.2,xLabelOffset:20},columnChart:{cutGridLines:!1,barAttrs:{"stroke-width":1},darkenStroke:18},barChart:{barAttrs:{"stroke-width":1}},xAxis:{stroke:"#333"},yAxis:{strokeWidth:1},horizontalGrid:{stroke:"#d9d9d9"},verticalGrid:!1,frame:!1,frameStrokeOnTop:!1,yTicks:!1,hover:!0,tooltip:!0,hpadding:0,vpadding:10,minWidth:100,locale:"de_DE",duration:1e3,easing:"expoInOut"}}).call(this);

!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}e(function(e){"undefined"==typeof Symbol&&function(t,n){e.exports=function(t){var e=Object.defineProperty,n=Object.defineProperties,r=0,a=[],i=Array.prototype.slice,o="object"==typeof t.ES6?t.ES6:t.ES6={},s=Array.isArray,l=Object.prototype.toString,u=Array.prototype.push,c=function(){},f=function(t){return t},h=function(t){return"function"==typeof t},d=function(){},p=function(t,e){this._array=t,this._flag=e,this._nextIndex=0},g=function(t,e){this._string=t,this._flag=e,this._nextIndex=0},v=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)},m=function(t,e){if("number"==typeof t.length&&0<=t.length&&"number"==typeof e.length&&0<=e.length){var n=Math.floor(t.length),r=Math.floor(e.length),a=0;for(t.length=n+r;a<r;++a)e.hasOwnProperty(a)&&(t[n+a]=e[a])}},b=function(t,e){if("function"!=typeof t||"function"!=typeof e)throw new TypeError("Child and Parent must be function type");t.prototype=Object.create(e.prototype),t.prototype.constructor=t},y=function t(e){if(e=void 0===e?"":String(e),this instanceof t)throw new TypeError("Symbol is not a constructor");return function(t,e){return n(t,{_description:{value:e},_isSymbol:{value:!0},_id:{value:r++}}),t}(Object.create(t.prototype),e)};n(y,{for:{value:function(t){t=String(t);for(var e,n=a.length,r=0;r<n;++r)if((e=a[r]).key===t)return e.symbol;return e={key:t,symbol:y(t)},a.push(e),e.symbol},writable:!0,configurable:!0},keyFor:{value:function(t){if(!o.isSymbol(t))throw new TypeError(String(t)+" is not a symbol");for(var e,n=a.length,r=0;r<n;++r)if((e=a[r]).symbol===t)return e.key},writable:!0,configurable:!0},hasInstance:{value:y("Symbol.hasInstance")},isConcatSpreadable:{value:y("Symbol.isConcatSpreadable")},iterator:{value:y("Symbol.iterator")},toStringTag:{value:y("Symbol.toStringTag")}}),y.prototype.toString=function(){return"@@_____"+this._id+"_____"},y.prototype.valueOf=function(){return this},e(d.prototype,y.iterator.toString(),{value:function(){return this},writable:!0,configurable:!0}),b(p,d),b(g,d),e(p.prototype,y.toStringTag.toString(),{value:"Array Iterator",configurable:!0}),e(g.prototype,y.toStringTag.toString(),{value:"String Iterator",configurable:!0}),p.prototype.next=function(){if(!(this instanceof p))throw new TypeError("Method Array Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this;return-1===e._nextIndex?{done:!0,value:void 0}:"number"==typeof e._array.length&&0<=e._array.length&&e._nextIndex<Math.floor(e._array.length)?(1===e._flag?t=[e._nextIndex,e._array[e._nextIndex]]:2===e._flag?t=e._array[e._nextIndex]:3===e._flag&&(t=e._nextIndex),e._nextIndex++,{done:!1,value:t}):(e._nextIndex=-1,{done:!0,value:void 0})},g.prototype.next=function(){if(!(this instanceof g))throw new TypeError("Method String Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this,n=new String(this._string);return-1===e._nextIndex?{done:!0,value:void 0}:e._nextIndex<n.length?(t=n[e._nextIndex],e._nextIndex++,{done:!1,value:t}):(e._nextIndex=-1,{done:!0,value:void 0})};var _=function(t,e){this._target=t,this._values=[],this._thisArg=e};return _.prototype.spread=function(){var t=this;return i.call(arguments).forEach(function(e){o.forOf(e,function(e){t._values.push(e)})}),t},_.prototype.add=function(){var t=this;return i.call(arguments).forEach(function(e){t._values.push(e)}),t},_.prototype.call=function(t){if("function"!=typeof this._target)throw new TypeError("Target is not a function");return t=arguments.length<=0?this._thisArg:t,this._target.apply(t,this._values)},_.prototype.new=function(){if("function"!=typeof this._target)throw new TypeError("Target is not a constructor");var t,e;return t=Object.create(this._target.prototype),e=this._target.apply(t,this._values),v(e)?e:t},_.prototype.array=function(){if(!s(this._target))throw new TypeError("Target is not a array");return u.apply(this._target,this._values),this._target},n(o,{isSymbol:{value:function(t){return t instanceof y&&!0===(e=t)._isSymbol&&"number"==typeof e._id&&"string"==typeof e._description;var e},writable:!0,configurable:!0},instanceOf:{value:function(t,e){if(!v(e))throw new TypeError("Right-hand side of 'instanceof' is not an object");var n=e[y.hasInstance];if(void 0===n)return t instanceof e;if("function"!=typeof n)throw new TypeError(typeof n+" is not a function");return n.call(e,t)},writable:!0,configurable:!0},forOf:{value:function(t,e,n){if(e="function"!=typeof e?c:e,"function"!=typeof t[y.iterator])throw new TypeError("Iterable[Symbol.iterator] is not a function");var r,a=t[y.iterator]();if("function"!=typeof a.next)throw new TypeError(".iterator.next is not a function");for(;;){if(r=a.next(),!v(r))throw new TypeError("Iterator result "+r+" is not an object");if(r.done)break;e.call(n,r.value)}},writable:!0,configurable:!0},spreadOperator:{value:function(t,e){if("function"!=typeof t&&!s(t))throw new TypeError("Spread operator only supports on array and function objects at this moment");return new _(t,e)},writable:!0,configurable:!0}}),e(t,"Symbol",{value:y,writable:!0,configurable:!0}),e(Function.prototype,y.hasInstance.toString(),{value:function(t){return"function"==typeof this&&t instanceof this}}),e(Array.prototype,"concat",{value:function(){if(null==this)throw new TypeError("Array.prototype.concat called on null or undefined");var t=Object(this),e=i.call(arguments),n=[];return e.unshift(t),e.forEach(function(t){v(t)?void 0!==t[y.isConcatSpreadable]?t[y.isConcatSpreadable]?m(n,t):n.push(t):s(t)?m(n,t):n.push(t):n.push(t)}),n},writable:!0,configurable:!0}),e(Object.prototype,"toString",{value:function(){return null==this?l.call(this):"string"==typeof this[y.toStringTag]?"[object "+this[y.toStringTag]+"]":l.call(this)},writable:!0,configurable:!0}),e(Array.prototype,y.iterator.toString(),{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,2)},writable:!0,configurable:!0}),e(Array,"from",{value:function(t,e,n){var r,a,i,s=0;if(r=h(this)?this:Array,null==t)throw new TypeError("Cannot convert undefined or null to object");if(t=Object(t),void 0===e)e=f;else if(!h(e))throw new TypeError(e+" is not a function");if(void 0===t[y.iterator]){if(!("number"==typeof t.length&&0<=t.length))return(i=new r(0)).length=0,i;for(a=Math.floor(t.length),(i=new r(a)).length=a;s<a;++s)i[s]=e.call(n,t[s])}else(i=new r).length=0,o.forOf(t,function(t){i.length++,i[i.length-1]=e.call(n,t)});return i},writable:!0,configurable:!0}),e(Array.prototype,"entries",{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,1)},writable:!0,configurable:!0}),e(Array.prototype,"keys",{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,3)},writable:!0,configurable:!0}),e(String.prototype,y.iterator.toString(),{value:function(){if(null==this)throw new TypeError("String.prototype[Symbol.iterator] called on null or undefined");return new g(String(this),0)},writable:!0,configurable:!0}),o}(t)}("undefined"!=typeof window?window:t)});!function(){var t,e,n="hasOwnProperty",r=/[\.\/]/,a=function(){},i=function(t,e){return t-e},o={n:{}},s=function(n,r){n=String(n);var a,o=e,l=Array.prototype.slice.call(arguments,2),u=s.listeners(n),c=0,f=[],h={},d=[],p=t;t=n,e=0;for(var g=0,v=u.length;g<v;g++)"zIndex"in u[g]&&(f.push(u[g].zIndex),u[g].zIndex<0&&(h[u[g].zIndex]=u[g]));for(f.sort(i);f[c]<0;)if(a=h[f[c++]],d.push(a.apply(r,l)),e)return e=o,d;for(g=0;g<v;g++)if("zIndex"in(a=u[g]))if(a.zIndex==f[c]){if(d.push(a.apply(r,l)),e)break;do{if((a=h[f[++c]])&&d.push(a.apply(r,l)),e)break}while(a)}else h[a.zIndex]=a;else if(d.push(a.apply(r,l)),e)break;return e=o,t=p,d.length?d:null};s._events=o,s.listeners=function(t){var e,n,a,i,s,l,u,c,f=t.split(r),h=o,d=[h],p=[];for(i=0,s=f.length;i<s;i++){for(c=[],l=0,u=d.length;l<u;l++)for(n=[(h=d[l].n)[f[i]],h["*"]],a=2;a--;)(e=n[a])&&(c.push(e),p=p.concat(e.f||[]));d=c}return p},s.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(r),i=o,s=0,l=n.length;s<l;s++)i=(i=i.n).hasOwnProperty(n[s])&&i[n[s]]||(i[n[s]]={n:{}});for(i.f=i.f||[],s=0,l=i.f.length;s<l;s++)if(i.f[s]==e)return a;return i.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},s.f=function(t){var e=[].slice.call(arguments,1);return function(){s.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},s.stop=function(){e=1},s.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},s.nts=function(){return t.split(r)},s.off=s.unbind=function(t,e){if(t){var a,i,l,u,c,f,h,d=t.split(r),p=[o];for(u=0,c=d.length;u<c;u++)for(f=0;f<p.length;f+=l.length-2){if(l=[f,1],a=p[f].n,"*"!=d[u])a[d[u]]&&l.push(a[d[u]]);else for(i in a)a[n](i)&&l.push(a[i]);p.splice.apply(p,l)}for(u=0,c=p.length;u<c;u++)for(a=p[u];a.n;){if(e){if(a.f){for(f=0,h=a.f.length;f<h;f++)if(a.f[f]==e){a.f.splice(f,1);break}!a.f.length&&delete a.f}for(i in a.n)if(a.n[n](i)&&a.n[i].f){var g=a.n[i].f;for(f=0,h=g.length;f<h;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete a.n[i].f}}else for(i in delete a.f,a.n)a.n[n](i)&&a.n[i].f&&delete a.n[i].f;a=a.n}}else s._events=o={n:{}}},s.once=function(t,e){var n=function(){return s.unbind(t,n),e.apply(this,arguments)};return s.on(t,n)},s.version="0.4.2",s.toString=function(){return"You are running Eve 0.4.2"},window.eve=s}(),function(){function t(n){if(t.is(n,"function"))return e?n():eve.on("raphael.DOMload",n);if(t.is(n,S))return t._engine.create[u](t,n.splice(0,3+t.is(n[0],C))).add(n);var r=Array.prototype.slice.call(arguments,0);if(t.is(r[r.length-1],"function")){var a=r.pop();return e?a.call(t._engine.create[u](t,r)):eve.on("raphael.DOMload",function(){a.call(t._engine.create[u](t,r))})}return t._engine.create[u](t,arguments)}t.version="2.1.2",t.eve=eve;var e,n,r=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},i=/\{(\d+)\}/g,o="hasOwnProperty",s={doc:document,win:window},l=(Object.prototype[o].call(s.win,"Raphael"),s.win.Raphael,function(){this.ca=this.customAttributes={}}),u="apply",c="concat",f="ontouchstart"in s.win||s.win.DocumentTouch&&s.doc instanceof DocumentTouch,h="",d=" ",p=String,g="split",v="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[g](d),m={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=p.prototype.toLowerCase,y=Math,_=y.max,x=y.min,w=y.abs,k=y.pow,M=y.PI,C="number",S="array",T=Object.prototype.toString,L=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),N={NaN:1,Infinity:1,"-Infinity":1},A=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,D=y.round,B=parseFloat,F=parseInt,E=p.prototype.toUpperCase,$=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},P=t._availableAnimAttrs={blur:C,"clip-rect":"csv",cx:C,cy:C,fill:"colour","fill-opacity":C,"font-size":C,height:C,opacity:C,path:"path",r:C,rx:C,ry:C,stroke:"colour","stroke-opacity":C,"stroke-width":C,transform:"transform",width:C,x:C,y:C},O=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,z={hs:1,rg:1},j=/,?([achlmqrstvxz]),?/gi,R=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,I=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,H=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),U=function(t,e){return B(t)-B(e)},q=function(t){return t},W=t._rectPath=function(t,e,n,r,a){return a?[["M",t+a,e],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,r-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-r],["a",a,a,0,0,1,a,-a],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},V=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},G=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return V(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return V(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return W(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return W(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return W(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return W(e.x,e.y,e.width,e.height)}},X=t.mapPath=function(t,e){if(!e)return t;var n,r,a,i,o,s,l;for(a=0,o=(t=Ct(t)).length;a<o;a++)for(i=1,s=(l=t[a]).length;i<s;i+=2)n=e.x(l[i],l[i+1]),r=e.y(l[i],l[i+1]),l[i]=n,l[i+1]=r;return t};if(t._g=s,t.type=s.win.SVGAngle||s.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var K,Z=s.doc.createElement("div");if(Z.innerHTML='<v:shape adj="1"/>',(K=Z.firstChild).style.behavior="url(#default#VML)",!K||"object"!=typeof K.adj)return t.type=h;Z=null}function Q(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[o](n)&&(e[n]=Q(t[n]));return e}t.svg=!(t.vml="VML"==t.type),t._Paper=l,t.fn=n=l.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return"finite"==(e=b.call(e))?!N[o](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||T.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,n,r,a,i,o){if(null==i){var s=e-r,l=n-a;return s||l?(180+180*y.atan2(-l,-s)/M+360)%360:0}return t.angle(e,n,i,o)-t.angle(r,a,i,o)},t.rad=function(t){return t%360*M/180},t.deg=function(t){return Math.round(180*t/M%360*1e3)/1e3},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,S)){for(var a=e.length;a--;)if(w(e[a]-n)<=r)return e[a]}else{var i=n%(e=+e);if(i<r)return n-i;if(i>e-r)return n-i+e}return n};var J,tt;t.createUUID=(J=/[xy]/g,tt=function(t){var e=16*y.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(J,tt).toUpperCase()});t.setWindow=function(e){eve("raphael.setWindow",t,s.win,e),s.win=e,s.doc=s.win.document,t._engine.initWin&&t._engine.initWin(s.win)};var et=function(e){if(t.vml){var n,r=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),n=a.body}catch(t){n=createPopup().document.body}var i=n.createTextRange();et=st(function(t){try{n.style.color=p(t).replace(r,h);var e=i.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=s.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",s.doc.body.appendChild(o),et=st(function(t){return o.style.color=t,s.doc.defaultView.getComputedStyle(o,h).getPropertyValue("color")})}return et(e)},nt=function(){return"hsb("+[this.h,this.s,this.b]+")"},rt=function(){return"hsl("+[this.h,this.s,this.l]+")"},at=function(){return this.hex},it=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,"string")){var a=t.getRGB(e);e=a.r,n=a.g,r=a.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},ot=function(e,n,r,a){var i={r:e*=255,g:n*=255,b:r*=255,hex:t.rgb(e,n,r),toString:at};return t.is(a,"finite")&&(i.opacity=a),i};function st(t,e,n){return function r(){var a=Array.prototype.slice.call(arguments,0),i=a.join("␀"),s=r.cache=r.cache||{},l=r.count=r.count||[];return s[o](i)?(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(l,i),n?n(s[i]):s[i]):(l.length>=1e3&&delete s[l.shift()],l.push(i),s[i]=t[u](e,a),n?n(s[i]):s[i])}}t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=at,e},t.hsb2rgb=function(t,e,n,r){var a,i,o,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),s=(l=n*e)*(1-w((t=(t*=360)%360/60)%2-1)),a=i=o=n-l,ot(a+=[l,s,0,0,s,l][t=~~t],i+=[s,l,l,s,0,0][t],o+=[0,0,s,l,l,s][t],r)},t.hsl2rgb=function(t,e,n,r){var a,i,o,s,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),s=(l=2*e*(n<.5?n:1-n))*(1-w((t=(t*=360)%360/60)%2-1)),a=i=o=n-l/2,ot(a+=[l,s,0,0,s,l][t=~~t],i+=[s,l,l,s,0,0][t],o+=[0,0,s,l,l,s][t],r)},t.rgb2hsb=function(t,e,n){var r,a;return t=(n=it(t,e,n))[0],e=n[1],n=n[2],{h:((0==(a=(r=_(t,e,n))-x(t,e,n))?null:r==t?(e-n)/a:r==e?(n-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:a/r,b:r,toString:nt}},t.rgb2hsl=function(t,e,n){var r,a,i,o;return t=(n=it(t,e,n))[0],e=n[1],n=n[2],r=((a=_(t,e,n))+(i=x(t,e,n)))/2,{h:((0==(o=a-i)?null:a==t?(e-n)/o:a==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:r<.5?o/(2*r):o/(2-2*r),l:r,toString:rt}},t._path2string=function(){return this.join(",").replace(j,"$1")};t._preload=function(t,e){var n=s.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,s.doc.body.removeChild(this)},n.onerror=function(){s.doc.body.removeChild(this)},s.doc.body.appendChild(n),n.src=t};function lt(){return this.hex}function ut(t,e){for(var n=[],r=0,a=t.length;a-2*!e>r;r+=2){var i=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?a-4==r?i[3]={x:+t[0],y:+t[1]}:a-2==r&&(i[2]={x:+t[0],y:+t[1]},i[3]={x:+t[2],y:+t[3]}):i[0]={x:+t[a-2],y:+t[a-1]}:a-4==r?i[3]=i[2]:r||(i[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}t.getRGB=st(function(e){if(!e||(e=p(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:lt};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:lt};!z[o](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=et(e));var n,r,a,i,s,l,u=e.match(L);return u?(u[2]&&(a=F(u[2].substring(5),16),r=F(u[2].substring(3,5),16),n=F(u[2].substring(1,3),16)),u[3]&&(a=F((s=u[3].charAt(3))+s,16),r=F((s=u[3].charAt(2))+s,16),n=F((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4][g](O),n=B(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=B(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=B(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(i=B(l[3])),l[3]&&"%"==l[3].slice(-1)&&(i/=100)),u[5]?(l=u[5][g](O),n=B(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=B(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=B(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(i=B(l[3])),l[3]&&"%"==l[3].slice(-1)&&(i/=100),t.hsb2rgb(n,r,a,i)):u[6]?(l=u[6][g](O),n=B(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=B(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),a=B(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(i=B(l[3])),l[3]&&"%"==l[3].slice(-1)&&(i/=100),t.hsl2rgb(n,r,a,i)):((u={r:n,g:r,b:a,toString:lt}).hex="#"+(16777216|a|r<<8|n<<16).toString(16).slice(1),t.is(i,"finite")&&(u.opacity=i),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:lt}},t),t.hsb=st(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=st(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=st(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=ct(e);if(n.arr)return mt(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},a=[];return t.is(e,S)&&t.is(e[0],S)&&(a=mt(e)),a.length||p(e).replace(R,function(t,e,n){var i=[],o=e.toLowerCase();if(n.replace(I,function(t,e){e&&i.push(+e)}),"m"==o&&i.length>2&&(a.push([e][c](i.splice(0,2))),o="l",e="m"==e?"l":"L"),"r"==o)a.push([e][c](i));else for(;i.length>=r[o]&&(a.push([e][c](i.splice(0,r[o]))),r[o]););}),a.toString=t._path2string,n.arr=mt(a),a},t.parseTransformString=st(function(e){if(!e)return null;var n=[];return t.is(e,S)&&t.is(e[0],S)&&(n=mt(e)),n.length||p(e).replace(Y,function(t,e,r){var a=[];b.call(e);r.replace(I,function(t,e){e&&a.push(+e)}),n.push([e][c](a))}),n.toString=t._path2string,n});var ct=function(t){var e=ct.ps=ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[o](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};function ft(t,e,n,r,a){return t*(t*(-3*e+9*n-9*r+3*a)+6*e-12*n+6*r)-3*e+3*n}function ht(t,e,n,r,a,i,o,s,l){null==l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=0;d<12;d++){var p=u*c[d]+u,g=ft(p,t,n,a,o),v=ft(p,e,r,i,s),m=g*g+v*v;h+=f[d]*y.sqrt(m)}return u*h}function dt(t,e,n,r,a,i,o,s){if(!(_(t,n)<x(a,o)||x(t,n)>_(a,o)||_(e,r)<x(i,s)||x(e,r)>_(i,s))){var l=(t-n)*(i-s)-(e-r)*(a-o);if(l){var u=((t*r-e*n)*(a-o)-(t-n)*(a*s-i*o))/l,c=((t*r-e*n)*(i-s)-(e-r)*(a*s-i*o))/l,f=+u.toFixed(2),h=+c.toFixed(2);if(!(f<+x(t,n).toFixed(2)||f>+_(t,n).toFixed(2)||f<+x(a,o).toFixed(2)||f>+_(a,o).toFixed(2)||h<+x(e,r).toFixed(2)||h>+_(e,r).toFixed(2)||h<+x(i,s).toFixed(2)||h>+_(i,s).toFixed(2)))return{x:u,y:c}}}}function pt(e,n,r){var a=t.bezierBBox(e),i=t.bezierBBox(n);if(!t.isBBoxIntersect(a,i))return r?0:[];for(var o=ht.apply(0,e),s=ht.apply(0,n),l=_(~~(o/5),1),u=_(~~(s/5),1),c=[],f=[],h={},d=r?0:[],p=0;p<l+1;p++){var g=t.findDotsAtSegment.apply(t,e.concat(p/l));c.push({x:g.x,y:g.y,t:p/l})}for(p=0;p<u+1;p++)g=t.findDotsAtSegment.apply(t,n.concat(p/u)),f.push({x:g.x,y:g.y,t:p/u});for(p=0;p<l;p++)for(var v=0;v<u;v++){var m=c[p],b=c[p+1],y=f[v],k=f[v+1],M=w(b.x-m.x)<.001?"y":"x",C=w(k.x-y.x)<.001?"y":"x",S=dt(m.x,m.y,b.x,b.y,y.x,y.y,k.x,k.y);if(S){if(h[S.x.toFixed(4)]==S.y.toFixed(4))continue;h[S.x.toFixed(4)]=S.y.toFixed(4);var T=m.t+w((S[M]-m[M])/(b[M]-m[M]))*(b.t-m.t),L=y.t+w((S[C]-y[C])/(k[C]-y[C]))*(k.t-y.t);T>=0&&T<=1.001&&L>=0&&L<=1.001&&(r?d++:d.push({x:S.x,y:S.y,t1:x(T,1),t2:x(L,1)}))}}return d}function gt(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var a,i,o,s,l,u,c,f,h,d,p=r?0:[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"==m[0])a=l=m[1],i=u=m[2];else{"C"==m[0]?(h=[a,i].concat(m.slice(1)),a=h[6],i=h[7]):(h=[a,i,a,i,l,u,l,u],a=l,i=u);for(var b=0,y=n.length;b<y;b++){var _=n[b];if("M"==_[0])o=c=_[1],s=f=_[2];else{"C"==_[0]?(d=[o,s].concat(_.slice(1)),o=d[6],s=d[7]):(d=[o,s,o,s,c,f,c,f],o=c,s=f);var x=pt(h,d,r);if(r)p+=x;else{for(var w=0,k=x.length;w<k;w++)x[w].segment1=g,x[w].segment2=b,x[w].bez1=h,x[w].bez2=d;p=p.concat(x)}}}}}return p}t.findDotsAtSegment=function(t,e,n,r,a,i,o,s,l){var u=1-l,c=k(u,3),f=k(u,2),h=l*l,d=h*l,p=c*t+3*f*l*n+3*u*l*l*a+d*o,g=c*e+3*f*l*r+3*u*l*l*i+d*s,v=t+2*l*(n-t)+h*(a-2*n+t),m=e+2*l*(r-e)+h*(i-2*r+e),b=n+2*l*(a-n)+h*(o-2*a+n),_=r+2*l*(i-r)+h*(s-2*i+r),x=u*t+l*n,w=u*e+l*r,C=u*a+l*o,S=u*i+l*s,T=90-180*y.atan2(v-b,m-_)/M;return(v>b||m<_)&&(T+=180),{x:p,y:g,m:{x:v,y:m},n:{x:b,y:_},start:{x:x,y:w},end:{x:C,y:S},alpha:T}},t.bezierBBox=function(e,n,r,a,i,o,s,l){t.is(e,"array")||(e=[e,n,r,a,i,o,s,l]);var u=Mt.apply(null,e);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},t.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(t,e){return gt(t,e)},t.pathIntersectionNumber=function(t,e){return gt(t,e,1)},t.isPointInsidePath=function(e,n,r){var a=t.pathBBox(e);return t.isPointInsideBBox(a,n,r)&&gt(e,[["M",n,r],["H",a.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var vt=t.pathBBox=function(t){var e=ct(t);if(e.bbox)return Q(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r=0,a=0,i=[],o=[],s=0,l=(t=Ct(t)).length;s<l;s++)if("M"==(n=t[s])[0])r=n[1],a=n[2],i.push(r),o.push(a);else{var f=Mt(r,a,n[1],n[2],n[3],n[4],n[5],n[6]);i=i[c](f.min.x,f.max.x),o=o[c](f.min.y,f.max.y),r=n[5],a=n[6]}var h=x[u](0,i),d=x[u](0,o),p=_[u](0,i),g=_[u](0,o),v=p-h,m=g-d,b={x:h,y:d,x2:p,y2:g,width:v,height:m,cx:h+v/2,cy:d+m/2};return e.bbox=Q(b),b},mt=function(e){var n=Q(e);return n.toString=t._path2string,n},bt=t._pathToRelative=function(e){var n=ct(e);if(n.rel)return mt(n.rel);t.is(e,S)&&t.is(e&&e[0],S)||(e=t.parsePathString(e));var r=[],a=0,i=0,o=0,s=0,l=0;"M"==e[0][0]&&(o=a=e[0][1],s=i=e[0][2],l++,r.push(["M",a,i]));for(var u=l,c=e.length;u<c;u++){var f=r[u]=[],h=e[u];if(h[0]!=b.call(h[0]))switch(f[0]=b.call(h[0]),f[0]){case"a":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+(h[6]-a).toFixed(3),f[7]=+(h[7]-i).toFixed(3);break;case"v":f[1]=+(h[1]-i).toFixed(3);break;case"m":o=h[1],s=h[2];default:for(var d=1,p=h.length;d<p;d++)f[d]=+(h[d]-(d%2?a:i)).toFixed(3)}else{f=r[u]=[],"m"==h[0]&&(o=h[1]+a,s=h[2]+i);for(var g=0,v=h.length;g<v;g++)r[u][g]=h[g]}var m=r[u].length;switch(r[u][0]){case"z":a=o,i=s;break;case"h":a+=+r[u][m-1];break;case"v":i+=+r[u][m-1];break;default:a+=+r[u][m-2],i+=+r[u][m-1]}}return r.toString=t._path2string,n.rel=mt(r),r},yt=t._pathToAbsolute=function(e){var n=ct(e);if(n.abs)return mt(n.abs);if(t.is(e,S)&&t.is(e&&e[0],S)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],a=0,i=0,o=0,s=0,l=0;"M"==e[0][0]&&(o=a=+e[0][1],s=i=+e[0][2],l++,r[0]=["M",a,i]);for(var u,f,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=l,p=e.length;d<p;d++){if(r.push(u=[]),(f=e[d])[0]!=E.call(f[0]))switch(u[0]=E.call(f[0]),u[0]){case"A":u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=+(f[6]+a),u[7]=+(f[7]+i);break;case"V":u[1]=+f[1]+i;break;case"H":u[1]=+f[1]+a;break;case"R":for(var g=[a,i][c](f.slice(1)),v=2,m=g.length;v<m;v++)g[v]=+g[v]+a,g[++v]=+g[v]+i;r.pop(),r=r[c](ut(g,h));break;case"M":o=+f[1]+a,s=+f[2]+i;default:for(v=1,m=f.length;v<m;v++)u[v]=+f[v]+(v%2?a:i)}else if("R"==f[0])g=[a,i][c](f.slice(1)),r.pop(),r=r[c](ut(g,h)),u=["R"][c](f.slice(-2));else for(var b=0,y=f.length;b<y;b++)u[b]=f[b];switch(u[0]){case"Z":a=o,i=s;break;case"H":a=u[1];break;case"V":i=u[1];break;case"M":o=u[u.length-2],s=u[u.length-1];default:a=u[u.length-2],i=u[u.length-1]}}return r.toString=t._path2string,n.abs=mt(r),r},_t=function(t,e,n,r){return[t,e,n,r,n,r]},xt=function(t,e,n,r,a,i){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*a+2/3*n,1/3*i+2/3*r,a,i]},wt=function(t,e,n,r,a,i,o,s,l,u){var f,h=120*M/180,d=M/180*(+a||0),p=[],v=st(function(t,e,n){return{x:t*y.cos(n)-e*y.sin(n),y:t*y.sin(n)+e*y.cos(n)}});if(u)L=u[0],N=u[1],S=u[2],T=u[3];else{t=(f=v(t,e,-d)).x,e=f.y;var m=(t-(s=(f=v(s,l,-d)).x))/2,b=(e-(l=f.y))/2,_=m*m/(n*n)+b*b/(r*r);_>1&&(n*=_=y.sqrt(_),r*=_);var x=n*n,k=r*r,C=(i==o?-1:1)*y.sqrt(w((x*k-x*b*b-k*m*m)/(x*b*b+k*m*m))),S=C*n*b/r+(t+s)/2,T=C*-r*m/n+(e+l)/2,L=y.asin(((e-T)/r).toFixed(9)),N=y.asin(((l-T)/r).toFixed(9));(L=t<S?M-L:L)<0&&(L=2*M+L),(N=s<S?M-N:N)<0&&(N=2*M+N),o&&L>N&&(L-=2*M),!o&&N>L&&(N-=2*M)}var A=N-L;if(w(A)>h){var D=N,B=s,F=l;N=L+h*(o&&N>L?1:-1),s=S+n*y.cos(N),l=T+r*y.sin(N),p=wt(s,l,n,r,a,0,o,B,F,[N,D,S,T])}A=N-L;var E=y.cos(L),$=y.sin(L),P=y.cos(N),O=y.sin(N),z=y.tan(A/4),j=4/3*n*z,R=4/3*r*z,Y=[t,e],I=[t+j*$,e-R*E],H=[s+j*O,l-R*P],U=[s,l];if(I[0]=2*Y[0]-I[0],I[1]=2*Y[1]-I[1],u)return[I,H,U][c](p);for(var q=[],W=0,V=(p=[I,H,U][c](p).join()[g](",")).length;W<V;W++)q[W]=W%2?v(p[W-1],p[W],d).y:v(p[W],p[W+1],d).x;return q},kt=function(t,e,n,r,a,i,o,s,l){var u=1-l;return{x:k(u,3)*t+3*k(u,2)*l*n+3*u*l*l*a+k(l,3)*o,y:k(u,3)*e+3*k(u,2)*l*r+3*u*l*l*i+k(l,3)*s}},Mt=st(function(t,e,n,r,a,i,o,s){var l,c=a-2*n+t-(o-2*a+n),f=2*(n-t)-2*(a-n),h=t-n,d=(-f+y.sqrt(f*f-4*c*h))/2/c,p=(-f-y.sqrt(f*f-4*c*h))/2/c,g=[e,s],v=[t,o];return w(d)>"1e12"&&(d=.5),w(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=kt(t,e,n,r,a,i,o,s,d),v.push(l.x),g.push(l.y)),p>0&&p<1&&(l=kt(t,e,n,r,a,i,o,s,p),v.push(l.x),g.push(l.y)),c=i-2*r+e-(s-2*i+r),h=e-r,d=(-(f=2*(r-e)-2*(i-r))+y.sqrt(f*f-4*c*h))/2/c,p=(-f-y.sqrt(f*f-4*c*h))/2/c,w(d)>"1e12"&&(d=.5),w(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=kt(t,e,n,r,a,i,o,s,d),v.push(l.x),g.push(l.y)),p>0&&p<1&&(l=kt(t,e,n,r,a,i,o,s,p),v.push(l.x),g.push(l.y)),{min:{x:x[u](0,v),y:x[u](0,g)},max:{x:_[u](0,v),y:_[u](0,g)}}}),Ct=t._path2curve=st(function(t,e){var n=!e&&ct(t);if(!e&&n.curve)return mt(n.curve);for(var r=yt(t),a=e&&yt(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,n){var r,a;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][c](wt[u](0,[e.x,e.y][c](t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,a=2*e.y-e.by):(r=e.x,a=e.y),t=["C",r,a][c](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][c](xt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][c](xt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][c](_t(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][c](_t(e.x,e.y,t[1],e.y));break;case"V":t=["C"][c](_t(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][c](_t(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)h[e]="A",a&&(d[e]="A"),t.splice(e++,0,["C"][c](n.splice(0,6)));t.splice(e,1),m=_(r.length,a&&a.length||0)}},f=function(t,e,n,i,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],m=_(r.length,a&&a.length||0))},h=[],d=[],p="",g="",v=0,m=_(r.length,a&&a.length||0);v<m;v++){r[v]&&(p=r[v][0]),"C"!=p&&(h[v]=p,v&&(g=h[v-1])),r[v]=s(r[v],i,g),"A"!=h[v]&&"C"==p&&(h[v]="C"),l(r,v),a&&(a[v]&&(p=a[v][0]),"C"!=p&&(d[v]=p,v&&(g=d[v-1])),a[v]=s(a[v],o,g),"A"!=d[v]&&"C"==p&&(d[v]="C"),l(a,v)),f(r,a,i,o,v),f(a,r,o,i,v);var b=r[v],y=a&&a[v],x=b.length,w=a&&y.length;i.x=b[x-2],i.y=b[x-1],i.bx=B(b[x-4])||i.x,i.by=B(b[x-3])||i.y,o.bx=a&&(B(y[w-4])||o.x),o.by=a&&(B(y[w-3])||o.y),o.x=a&&y[w-2],o.y=a&&y[w-1]}return a||(n.curve=mt(r)),a?[r,a]:r},null,mt),St=(t._parseDots=st(function(e){for(var n=[],r=0,a=e.length;r<a;r++){var i={},o=e[r].match(/^([^:]*):?([\d\.]*)/);if(i.color=t.getRGB(o[1]),i.color.error)return null;i.color=i.color.hex,o[2]&&(i.offset=o[2]+"%"),n.push(i)}for(r=1,a=n.length-1;r<a;r++)if(!n[r].offset){for(var s=B(n[r-1].offset||0),l=0,u=r+1;u<a;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=a);for(var c=((l=B(l))-s)/(u-r+1);r<u;r++)s+=c,n[r].offset=s+"%"}return n}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Tt=(t._tofront=function(t,e){e.top!==t&&(St(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(St(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,n){St(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,n){St(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var n=vt(t),r={_:{transform:h},getBBox:function(){return n}};return Lt(r,e),r.matrix}),Lt=(t.transformPath=function(t,e){return X(t,Tt(t,e))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=p(n).replace(/\.{3}|\u2026/g,e._.transform||h);var r,a,i=t.parseTransformString(n),o=0,s=1,l=1,u=e._,c=new Dt;if(u.transform=i||[],i)for(var f=0,d=i.length;f<d;f++){var g,v,m,b,y,_=i[f],x=_.length,w=p(_[0]).toLowerCase(),k=_[0]!=w,M=k?c.invert():0;"t"==w&&3==x?k?(g=M.x(0,0),v=M.y(0,0),m=M.x(_[1],_[2]),b=M.y(_[1],_[2]),c.translate(m-g,b-v)):c.translate(_[1],_[2]):"r"==w?2==x?(y=y||e.getBBox(1),c.rotate(_[1],y.x+y.width/2,y.y+y.height/2),o+=_[1]):4==x&&(k?(m=M.x(_[2],_[3]),b=M.y(_[2],_[3]),c.rotate(_[1],m,b)):c.rotate(_[1],_[2],_[3]),o+=_[1]):"s"==w?2==x||3==x?(y=y||e.getBBox(1),c.scale(_[1],_[x-1],y.x+y.width/2,y.y+y.height/2),s*=_[1],l*=_[x-1]):5==x&&(k?(m=M.x(_[3],_[4]),b=M.y(_[3],_[4]),c.scale(_[1],_[2],m,b)):c.scale(_[1],_[2],_[3],_[4]),s*=_[1],l*=_[2]):"m"==w&&7==x&&c.add(_[1],_[2],_[3],_[4],_[5],_[6]),u.dirtyT=1,e.matrix=c}e.matrix=c,u.sx=s,u.sy=l,u.deg=o,u.dx=r=c.e,u.dy=a=c.f,1==s&&1==l&&!o&&u.bbox?(u.bbox.x+=+r,u.bbox.y+=+a):u.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},At=t._equaliseTransform=function(e,n){n=p(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,a,i,o,s=_(e.length,n.length),l=[],u=[],c=0;c<s;c++){if(i=e[c]||Nt(n[c]),o=n[c]||Nt(i),i[0]!=o[0]||"r"==i[0].toLowerCase()&&(i[2]!=o[2]||i[3]!=o[3])||"s"==i[0].toLowerCase()&&(i[3]!=o[3]||i[4]!=o[4]))return;for(l[c]=[],u[c]=[],r=0,a=_(i.length,o.length);r<a;r++)r in i&&(l[c][r]=i[r]),r in o&&(u[c][r]=o[r])}return{from:l,to:u}};function Dt(t,e,n,r,a,i){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+a,this.f=+i):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}t._getContainer=function(e,n,r,a){var i;if(null!=(i=null!=a||t.is(e,"object")?e:s.doc.getElementById(e)))return i.tagName?null==n?{container:i,width:i.style.pixelWidth||i.offsetWidth,height:i.style.pixelHeight||i.offsetHeight}:{container:i,width:n,height:r}:{container:1,x:e,y:n,width:r,height:a}},t.pathToRelative=bt,t._engine={},t.path2curve=Ct,t.matrix=function(t,e,n,r,a,i){return new Dt(t,e,n,r,a,i)},function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=y.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,a,i){var o,s,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,n,a],[e,r,i],[0,0,1]];for(t&&t instanceof Dt&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(u=0,l=0;l<3;l++)u+=f[o][l]*h[l][s];c[o][s]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new Dt(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new Dt(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var a=+y.cos(e).toFixed(9),i=+y.sin(e).toFixed(9);this.add(a,i,-i,a,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[p.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var a=[[this.a,this.c],[this.b,this.d]];e.scalex=y.sqrt(n(a[0])),r(a[0]),e.shear=a[0][0]*a[1][0]+a[0][1]*a[1][1],a[1]=[a[1][0]-a[0][0]*e.shear,a[1][1]-a[0][1]*e.shear],e.scaley=y.sqrt(n(a[1])),r(a[1]),e.shear/=e.scaley;var i=-a[0][1],o=a[1][1];return o<0?(e.rotate=t.deg(y.acos(o)),i<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(y.asin(i)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this[g]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:h)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:h)+(e.rotate?"r"+[e.rotate,0,0]:h)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Dt.prototype);var Bt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Bt&&Bt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Bt&&Bt[1]<8?n.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:n.safari=function(){};for(var Ft=function(){this.returnValue=!1},Et=function(){return this.originalEvent.preventDefault()},$t=function(){this.cancelBubble=!0},Pt=function(){return this.originalEvent.stopPropagation()},Ot=function(t){var e=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,n=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},zt=s.doc.addEventListener?function(t,e,n,r){var a=function(t){var e=Ot(t);return n.call(r,t,e.x,e.y)};if(t.addEventListener(e,a,!1),f&&m[e]){var i=function(e){for(var a=Ot(e),i=e,o=0,s=e.targetTouches&&e.targetTouches.length;o<s;o++)if(e.targetTouches[o].target==t){(e=e.targetTouches[o]).originalEvent=i,e.preventDefault=Et,e.stopPropagation=Pt;break}return n.call(r,e,a.x,a.y)};t.addEventListener(m[e],i,!1)}return function(){return t.removeEventListener(e,a,!1),f&&m[e]&&t.removeEventListener(m[e],i,!1),!0}}:s.doc.attachEvent?function(t,e,n,r){var a=function(t){t=t||s.win.event;var e=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,a=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,i=t.clientX+a,o=t.clientY+e;return t.preventDefault=t.preventDefault||Ft,t.stopPropagation=t.stopPropagation||$t,n.call(r,t,i,o)};return t.attachEvent("on"+e,a),function(){return t.detachEvent("on"+e,a),!0}}:void 0,jt=[],Rt=function(t){for(var e,n=t.clientX,r=t.clientY,a=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,i=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,o=jt.length;o--;){if(e=jt[o],f&&t.touches){for(var l,u=t.touches.length;u--;)if((l=t.touches[u]).identifier==e.el._drag.id){n=l.clientX,r=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,h=e.el.node,d=h.nextSibling,p=h.parentNode,g=h.style.display;s.win.opera&&p.removeChild(h),h.style.display="none",c=e.el.paper.getElementByPoint(n,r),h.style.display=g,s.win.opera&&(d?p.insertBefore(h,d):p.appendChild(h)),c&&eve("raphael.drag.over."+e.el.id,e.el,c),n+=i,r+=a,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,r-e.el._drag.y,n,r,t)}},Yt=function(e){t.unmousemove(Rt).unmouseup(Yt);for(var n,r=jt.length;r--;)(n=jt[r]).el._drag={},eve("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);jt=[]},It=t.el={},Ht=v.length;Ht--;)!function(e){t[e]=It[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:zt(this.shape||this.node||s.doc,e,n,r||this)})),this},t["un"+e]=It["un"+e]=function(n){for(var r=this.events||[],a=r.length;a--;)r[a].name!=e||!t.is(n,"undefined")&&r[a].f!=n||(r[a].unbind(),r.splice(a,1),!r.length&&delete this.events);return this}}(v[Ht]);It.data=function(e,n){var r=H[this.id]=H[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(t.is(e,"object")){for(var a in e)e[o](a)&&this.data(a,e[a]);return this}return eve("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,eve("raphael.data.set."+this.id,this,n,e),this},It.removeData=function(t){return null==t?H[this.id]={}:H[this.id]&&delete H[this.id][t],this},It.getData=function(){return Q(H[this.id]||{})},It.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},It.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Ut=[];It.drag=function(e,n,r,a,i,o){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,c=l.clientY,h=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,d=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;if(this._drag.id=l.identifier,f&&l.touches)for(var p,g=l.touches.length;g--;)if(p=l.touches[g],this._drag.id=p.identifier,p.identifier==this._drag.id){u=p.clientX,c=p.clientY;break}this._drag.x=u+d,this._drag.y=c+h,!jt.length&&t.mousemove(Rt).mouseup(Yt),jt.push({el:this,move_scope:a,start_scope:i,end_scope:o}),n&&eve.on("raphael.drag.start."+this.id,n),e&&eve.on("raphael.drag.move."+this.id,e),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,i||a||this,l.clientX+d,l.clientY+h,l)}return this._drag={},Ut.push({el:this,start:l}),this.mousedown(l),this},It.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},It.undrag=function(){for(var e=Ut.length;e--;)Ut[e].el==this&&(this.unmousedown(Ut[e].start),Ut.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!Ut.length&&t.unmousemove(Rt).unmouseup(Yt),jt=[]},n.circle=function(e,n,r){var a=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(a),a},n.rect=function(e,n,r,a,i){var o=t._engine.rect(this,e||0,n||0,r||0,a||0,i||0);return this.__set__&&this.__set__.push(o),o},n.ellipse=function(e,n,r,a){var i=t._engine.ellipse(this,e||0,n||0,r||0,a||0);return this.__set__&&this.__set__.push(i),i},n.path=function(e){e&&!t.is(e,"string")&&!t.is(e[0],S)&&(e+=h);var n=t._engine.path(t.format[u](t,arguments),this);return this.__set__&&this.__set__.push(n),n},n.image=function(e,n,r,a,i){var o=t._engine.image(this,e||"about:blank",n||0,r||0,a||0,i||0);return this.__set__&&this.__set__.push(o),o},n.text=function(e,n,r){var a=t._engine.text(this,e||0,n||0,p(r));return this.__set__&&this.__set__.push(a),a},n.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ce(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},n.setStart=function(t){this.__set__=t||this.set()},n.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},n.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},n.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},n.setViewBox=function(e,n,r,a,i){return t._engine.setViewBox.call(this,e,n,r,a,i)},n.top=n.bottom=null,n.raphael=t;function qt(){return this.x+d+this.y+d+this.width+" × "+this.height}n.getElementByPoint=function(t,e){var n,r,a,i,o,l,u,c=this.canvas,f=s.doc.elementFromPoint(t,e);if(s.win.opera&&"svg"==f.tagName){var h=(r=(n=c).getBoundingClientRect(),a=n.ownerDocument,i=a.body,o=a.documentElement,l=o.clientTop||i.clientTop||0,u=o.clientLeft||i.clientLeft||0,{y:r.top+(s.win.pageYOffset||o.scrollTop||i.scrollTop)-l,x:r.left+(s.win.pageXOffset||o.scrollLeft||i.scrollLeft)-u}),d=c.createSVGRect();d.x=t-h.x,d.y=e-h.y,d.width=d.height=1;var p=c.getIntersectionList(d,null);p.length&&(f=p[p.length-1])}if(!f)return null;for(;f.parentNode&&f!=c.parentNode&&!f.raphael;)f=f.parentNode;return f==this.canvas.parentNode&&(f=c),f=f&&f.raphael?this.getById(f.raphaelid):null},n.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(r){t.isBBoxIntersect(r.getBBox(),e)&&n.push(r)}),n},n.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},n.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},n.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},It.isPointInside=function(e,n){var r=this.realPath=G[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=t.transformPath(r,this.attr("transform"))),t.isPointInsidePath(r,e,n)},It.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=G[this.type](this),e.bboxwt=vt(this.realPath),e.bboxwt.toString=qt,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=G[this.type](this)),e.bbox=vt(X(this.realPath,this.matrix)),e.bbox.toString=qt,e.dirty=e.dirtyT=0),e.bbox)},It.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},It.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,a=r.set(),i=this.realPath||G[this.type](this);i=this.matrix?X(i,this.matrix):i;for(var o=1;o<n+1;o++)a.push(r.path(i).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*o).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return a.insertBefore(this).translate(e.offsetx,e.offsety)};var Wt=function(e,n,r,a,i,o,s,l,u){return null==u?ht(e,n,r,a,i,o,s,l):t.findDotsAtSegment(e,n,r,a,i,o,s,l,function(t,e,n,r,a,i,o,s,l){if(!(l<0||ht(t,e,n,r,a,i,o,s)<l)){var u,c=.5,f=1-c;for(u=ht(t,e,n,r,a,i,o,s,f);w(u-l)>.01;)u=ht(t,e,n,r,a,i,o,s,f+=(u<l?1:-1)*(c/=2));return f}}(e,n,r,a,i,o,s,l,u))},Vt=function(e,n){return function(r,a,i){for(var o,s,l,u,c,f="",h={},d=0,p=0,g=(r=Ct(r)).length;p<g;p++){if("M"==(l=r[p])[0])o=+l[1],s=+l[2];else{if(d+(u=Wt(o,s,l[1],l[2],l[3],l[4],l[5],l[6]))>a){if(n&&!h.start){if(f+=["C"+(c=Wt(o,s,l[1],l[2],l[3],l[4],l[5],l[6],a-d)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],i)return f;h.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),d+=u,o=+l[5],s=+l[6];continue}if(!e&&!n)return{x:(c=Wt(o,s,l[1],l[2],l[3],l[4],l[5],l[6],a-d)).x,y:c.y,alpha:c.alpha}}d+=u,o=+l[5],s=+l[6]}f+=l.shift()+l}return h.end=f,(c=e?d:n?h:t.findDotsAtSegment(o,s,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Gt=Vt(1),Xt=Vt(),Kt=Vt(0,1);t.getTotalLength=Gt,t.getPointAtLength=Xt,t.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Kt(t,e).end;var r=Kt(t,n,1);return e?Kt(r,e).end:r},It.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Gt(t)},It.getPointAtLength=function(t){var e=this.getPath();if(e)return Xt(e,t)},It.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},It.getSubpath=function(e,n){var r=this.getPath();if(r)return t.getSubpath(r,e,n)};var Zt=t.easing_formulas={linear:function(t){return t},"<":function(t){return k(t,1.7)},">":function(t){return k(t,.48)},"<>":function(t){var e=.48-t/1.04,n=y.sqrt(.1734+e*e),r=n-e,a=-n-e,i=k(w(r),1/3)*(r<0?-1:1)+k(w(a),1/3)*(a<0?-1:1)+.5;return 3*(1-i)*i*i+i*i*i},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:k(2,-10*t)*y.sin(2*M*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};Zt.easeIn=Zt["ease-in"]=Zt["<"],Zt.easeOut=Zt["ease-out"]=Zt[">"],Zt.easeInOut=Zt["ease-in-out"]=Zt["<>"],Zt["back-in"]=Zt.backIn,Zt["back-out"]=Zt.backOut;var Qt=[],Jt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},te=function(){for(var e=+new Date,n=0;n<Qt.length;n++){var r=Qt[n];if(!r.el.removed&&!r.paused){var a,i,s=e-r.start,l=r.ms,u=r.easing,f=r.from,h=r.diff,p=r.to,g=(r.t,r.el),v={},m={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&Qt.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/l))/r.anim.top,!(s<0))if(s<l){var b=u(s/l);for(var y in f)if(f[o](y)){switch(P[y]){case C:a=+f[y]+b*l*h[y];break;case"colour":a="rgb("+[ee(D(f[y].r+b*l*h[y].r)),ee(D(f[y].g+b*l*h[y].g)),ee(D(f[y].b+b*l*h[y].b))].join(",")+")";break;case"path":a=[];for(var _=0,x=f[y].length;_<x;_++){a[_]=[f[y][_][0]];for(var w=1,k=f[y][_].length;w<k;w++)a[_][w]=+f[y][_][w]+b*l*h[y][_][w];a[_]=a[_].join(d)}a=a.join(d);break;case"transform":if(h[y].real)for(a=[],_=0,x=f[y].length;_<x;_++)for(a[_]=[f[y][_][0]],w=1,k=f[y][_].length;w<k;w++)a[_][w]=f[y][_][w]+b*l*h[y][_][w];else{var M=function(t){return+f[y][t]+b*l*h[y][t]};a=[["m",M(0),M(1),M(2),M(3),M(4),M(5)]]}break;case"csv":if("clip-rect"==y)for(a=[],_=4;_--;)a[_]=+f[y][_]+b*l*h[y][_];break;default:var S=[][c](f[y]);for(a=[],_=g.paper.customAttributes[y].length;_--;)a[_]=+S[_]+b*l*h[y][_]}v[y]=a}g.attr(v),function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+t,e,n)})}(g.id,g,r.anim)}else{if(function(e,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r),eve("raphael.anim.finish."+n.id,n,r),t.is(e,"function")&&e.call(n)})}(r.callback,g,r.anim),g.attr(p),Qt.splice(n--,1),r.repeat>1&&!r.next){for(i in p)p[o](i)&&(m[i]=r.totalOrigin[i]);r.el.attr(m),ae(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&ae(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}t.svg&&g&&g.paper&&g.paper.safari(),Qt.length&&Jt(te)},ee=function(t){return t>255?255:t<0?0:t};function ne(t,e,n,r,a,i){var o=3*e,s=3*(r-e)-o,l=1-o-s,u=3*n,c=3*(a-n)-u,f=1-u-c;function h(t){return((l*t+s)*t+o)*t}return function(t,e){var n=function(t,e){var n,r,a,i,u,c;for(a=t,c=0;c<8;c++){if(i=h(a)-t,w(i)<e)return a;if(w(u=(3*l*a+2*s)*a+o)<1e-6)break;a-=i/u}if(r=1,(a=t)<(n=0))return n;if(a>r)return r;for(;n<r;){if(i=h(a),w(i-t)<e)return a;t>i?n=a:r=a,a=(r-n)/2+n}return a}(t,e);return((f*n+c)*n+u)*n}(t,1/(200*i))}function re(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var a in t)t[o](a)&&(r[B(a)]=t[a],n.push(B(a)));n.sort(U)}this.anim=r,this.top=n[n.length-1],this.percents=n}function ae(e,n,a,i,s,l){a=B(a);var u,f,h,d,v,m,b=e.ms,y={},_={},x={};if(i)for(k=0,M=Qt.length;k<M;k++){var w=Qt[k];if(w.el.id==n.id&&w.anim==e){w.percent!=a?(Qt.splice(k,1),h=1):f=w,n.attr(w.totalOrigin);break}}else i=+_;for(var k=0,M=e.percents.length;k<M;k++){if(e.percents[k]==a||e.percents[k]>i*e.top){a=e.percents[k],v=e.percents[k-1]||0,b=b/e.top*(a-v),d=e.percents[k+1],u=e.anim[a];break}i&&n.attr(e.anim[e.percents[k]])}if(u){if(f)f.initstatus=i,f.start=new Date-f.ms*i;else{for(var S in u)if(u[o](S)&&(P[o](S)||n.paper.customAttributes[o](S)))switch(y[S]=n.attr(S),null==y[S]&&(y[S]=$[S]),_[S]=u[S],P[S]){case C:x[S]=(_[S]-y[S])/b;break;case"colour":y[S]=t.getRGB(y[S]);var T=t.getRGB(_[S]);x[S]={r:(T.r-y[S].r)/b,g:(T.g-y[S].g)/b,b:(T.b-y[S].b)/b};break;case"path":var L=Ct(y[S],_[S]),N=L[1];for(y[S]=L[0],x[S]=[],k=0,M=y[S].length;k<M;k++){x[S][k]=[0];for(var D=1,F=y[S][k].length;D<F;D++)x[S][k][D]=(N[k][D]-y[S][k][D])/b}break;case"transform":var E=n._,O=At(E[S],_[S]);if(O)for(y[S]=O.from,_[S]=O.to,x[S]=[],x[S].real=!0,k=0,M=y[S].length;k<M;k++)for(x[S][k]=[y[S][k][0]],D=1,F=y[S][k].length;D<F;D++)x[S][k][D]=(_[S][k][D]-y[S][k][D])/b;else{var z=n.matrix||new Dt,j={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};y[S]=[z.a,z.b,z.c,z.d,z.e,z.f],Lt(j,_[S]),_[S]=j._.transform,x[S]=[(j.matrix.a-z.a)/b,(j.matrix.b-z.b)/b,(j.matrix.c-z.c)/b,(j.matrix.d-z.d)/b,(j.matrix.e-z.e)/b,(j.matrix.f-z.f)/b]}break;case"csv":var R=p(u[S])[g](r),Y=p(y[S])[g](r);if("clip-rect"==S)for(y[S]=Y,x[S]=[],k=Y.length;k--;)x[S][k]=(R[k]-y[S][k])/b;_[S]=R;break;default:for(R=[][c](u[S]),Y=[][c](y[S]),x[S]=[],k=n.paper.customAttributes[S].length;k--;)x[S][k]=((R[k]||0)-(Y[k]||0))/b}var I=u.easing,H=t.easing_formulas[I];if(!H)if((H=p(I).match(A))&&5==H.length){var U=H;H=function(t){return ne(t,+U[1],+U[2],+U[3],+U[4],b)}}else H=q;if(w={anim:e,percent:a,timestamp:m=u.start||e.start||+new Date,start:m+(e.del||0),status:0,initstatus:i||0,stop:!1,ms:b,easing:H,from:y,diff:x,to:_,el:n,callback:u.callback,prev:v,next:d,repeat:l||e.times,origin:n.attr(),totalOrigin:s},Qt.push(w),i&&!f&&!h&&(w.stop=!0,w.start=new Date-b*i,1==Qt.length))return te();h&&(w.start=new Date-w.ms*i),1==Qt.length&&Jt(te)}eve("raphael.anim.start."+n.id,n,e)}}function ie(t){for(var e=0;e<Qt.length;e++)Qt[e].el.paper==t&&Qt.splice(e--,1)}It.animateWith=function(e,n,r,a,i,o){if(this.removed)return o&&o.call(this),this;var s=r instanceof re?r:t.animation(r,a,i,o);ae(s,this,s.percents[0],null,this.attr());for(var l=0,u=Qt.length;l<u;l++)if(Qt[l].anim==n&&Qt[l].el==e){Qt[u-1].start=Qt[l].start;break}return this},It.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},re.prototype.delay=function(t){var e=new re(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},re.prototype.repeat=function(t){var e=new re(this.anim,this.ms);return e.del=this.del,e.times=y.floor(_(t,0))||1,e},t.animation=function(e,n,r,a){if(e instanceof re)return e;!t.is(r,"function")&&r||(a=a||r||null,r=null),e=Object(e),n=+n||0;var i,s,l={};for(s in e)e[o](s)&&B(s)!=s&&B(s)+"%"!=s&&(i=!0,l[s]=e[s]);if(i)return r&&(l.easing=r),a&&(l.callback=a),new re({100:l},n);if(a){var u=0;for(var c in e){var f=F(c);e[o](c)&&f>u&&(u=f)}!e[u+="%"].callback&&(e[u].callback=a)}return new re(e,n)},It.animate=function(e,n,r,a){if(this.removed)return a&&a.call(this),this;var i=e instanceof re?e:t.animation(e,n,r,a);return ae(i,this,i.percents[0],null,this.attr()),this},It.setTime=function(t,e){return t&&null!=e&&this.status(t,x(e,t.ms)/t.ms),this},It.status=function(t,e){var n,r,a=[],i=0;if(null!=e)return ae(t,this,-1,x(e,1)),this;for(n=Qt.length;i<n;i++)if((r=Qt[i]).el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;a.push({anim:r.anim,status:r.status})}return t?0:a},It.pause=function(t){for(var e=0;e<Qt.length;e++)Qt[e].el.id!=this.id||t&&Qt[e].anim!=t||!1!==eve("raphael.anim.pause."+this.id,this,Qt[e].anim)&&(Qt[e].paused=!0);return this},It.resume=function(t){for(var e=0;e<Qt.length;e++)if(Qt[e].el.id==this.id&&(!t||Qt[e].anim==t)){var n=Qt[e];!1!==eve("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},It.stop=function(t){for(var e=0;e<Qt.length;e++)Qt[e].el.id!=this.id||t&&Qt[e].anim!=t||!1!==eve("raphael.anim.stop."+this.id,this,Qt[e].anim)&&Qt.splice(e--,1);return this},eve.on("raphael.remove",ie),eve.on("raphael.clear",ie),It.toString=function(){return"Raphaël’s object"};var oe,se,le,ue,ce=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=It.constructor&&t[e].constructor!=ce||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},fe=ce.prototype;for(var he in fe.push=function(){for(var t,e,n=arguments,r=0,a=arguments.length;r<a;r++)!(t=n[r])||t.constructor!=It.constructor&&t.constructor!=ce||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},fe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},fe.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(!1===t.call(e,this.items[n],n))return this;return this},It)It[o](he)&&(fe[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][u](n,e)})}}(he));fe.attr=function(e,n){if(e&&t.is(e,S)&&t.is(e[0],"object"))for(var r=0,a=e.length;r<a;r++)this.items[r].attr(e[r]);else for(var i=0,o=this.items.length;i<o;i++)this.items[i].attr(e,n);return this},fe.clear=function(){for(;this.length;)this.pop()},fe.splice=function(t,e,n){var r=arguments;t=t<0?_(this.length+t,0):t,e=_(0,x(this.length-t,e));var a,i=[],o=[],s=[];for(a=2;a<arguments.length;a++)s.push(r[a]);for(a=0;a<e;a++)o.push(this[t+a]);for(;a<this.length-t;a++)i.push(this[t+a]);var l=s.length;for(a=0;a<l+i.length;a++)this.items[t+a]=this[t+a]=a<l?s[a]:i[a-l];for(a=this.items.length=this.length-=e-l;this[a];)delete this[a++];return new ce(o)},fe.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},fe.animate=function(e,n,r,a){(t.is(r,"function")||!r)&&(a=r||null);var i,o,s=this.items.length,l=s,u=this;if(!s)return this;a&&(o=function(){!--s&&a.call(u)}),r=t.is(r,"string")?r:o;var c=t.animation(e,n,r,o);for(i=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(i,c,c),this.items[l]&&!this.items[l].removed||s--;return this},fe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},fe.getBBox=function(){for(var t=[],e=[],n=[],r=[],a=this.items.length;a--;)if(!this.items[a].removed){var i=this.items[a].getBBox();t.push(i.x),e.push(i.y),n.push(i.x+i.width),r.push(i.y+i.height)}return{x:t=x[u](0,t),y:e=x[u](0,e),x2:n=_[u](0,n),y2:r=_[u](0,r),width:n-t,height:r-e}},fe.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},fe.toString=function(){return"Raphaël‘s set"},fe.glow=function(t){var e=this.paper.set();return this.forEach(function(n,r){var a=n.glow(t);null!=a&&a.forEach(function(t,n){e.push(t)})}),e},fe.isPointInside=function(t,e){var n=!1;return this.forEach(function(r){if(r.isPointInside(t,e))return n=!0,!1}),n},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[o](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var a in e.face["units-per-em"]=F(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[o](a)){var i=t.glyphs[a];if(e.glyphs[a]={w:i.w,k:{},d:i.d&&"M"+i.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},i.k)for(var s in i.k)i[o](s)&&(e.glyphs[a].k[s]=i.k[s])}return t},n.getFont=function(e,n,r,a){if(a=a||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var i,s=t.fonts[e];if(!s){var l=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,h)+"(\\s|$)","i");for(var u in t.fonts)if(t.fonts[o](u)&&l.test(u)){s=t.fonts[u];break}}if(s)for(var c=0,f=s.length;c<f&&((i=s[c]).face["font-weight"]!=n||i.face["font-style"]!=r&&i.face["font-style"]||i.face["font-stretch"]!=a);c++);return i}},n.print=function(e,n,a,i,o,s,l,u){s=s||"middle",l=_(x(l||0,1),-1),u=_(x(u||1,3),1);var c,f=p(a)[g](h),d=0,v=0,m=h;if(t.is(i,"string")&&(i=this.getFont(i)),i){c=(o||16)/i.face["units-per-em"];for(var b=i.face.bbox[g](r),y=+b[0],w=b[3]-b[1],k=0,M=+b[1]+("baseline"==s?w+ +i.face.descent:w/2),C=0,S=f.length;C<S;C++){if("\n"==f[C])d=0,L=0,v=0,k+=w*u;else{var T=v&&i.glyphs[f[C-1]]||{},L=i.glyphs[f[C]];d+=v?(T.w||i.w)+(T.k&&T.k[f[C]]||0)+i.w*l:0,v=1}L&&L.d&&(m+=t.transformPath(L.d,["t",d*c,k*c,"s",c,c,y,M,"t",(e-y)/c,(n-M)/c]))}}return this.path(m).attr({fill:"#000",stroke:"none"})},n.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),i=0,s=e.length;i<s;i++)n=e[i]||{},a[o](n.type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,S)?[0][c](n):arguments;return e&&t.is(e,"string")&&r.length-1&&(e=e.replace(i,function(t,e){return null==r[++e]?h:r[e]})),e||h},t.fullfill=(oe=/\{([^\}]+)\}/g,se=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(oe,function(t,n){return function(t,e,n){var r=n;return e.replace(se,function(t,e,n,a,i){e=e||a,r&&(e in r&&(r=r[e]),"function"==typeof r&&i&&(r=r()))}),r=(null==r||r==n?t:r)+""}(t,n,e)})}),t.st=fe,eve.on("raphael.DOMload",function(){e=!0}),null==(le=document).readyState&&le.addEventListener&&(le.addEventListener("DOMContentLoaded",ue=function(){le.removeEventListener("DOMContentLoaded",ue,!1),le.readyState="complete"},!1),le.readyState="loading"),function e(){/in/.test(le.readyState)?setTimeout(e,9):t.eve("raphael.DOMload")}(),function(){if(t.svg){var e="hasOwnProperty",n=String,r=parseFloat,a=parseInt,i=Math,o=i.max,s=i.abs,l=i.pow,u=/[, ]+/,c=t.eve,f="",h=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var v=function(r,a){if(a)for(var i in"string"==typeof r&&(r=v(r)),a)a[e](i)&&("xlink:"==i.substring(0,6)?r.setAttributeNS(d,i.substring(6),n(a[i])):r.setAttribute(i,n(a[i])));else(r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},m=function(e,a){var u="linear",c=e.id+a,h=.5,d=.5,p=e.node,g=e.paper,m=p.style,b=t._g.doc.getElementById(c);if(!b){if(a=(a=n(a).replace(t._radial_gradient,function(t,e,n){if(u="radial",e&&n){h=r(e);var a=2*((d=r(n))>.5)-1;l(h-.5,2)+l(d-.5,2)>.25&&(d=i.sqrt(.25-l(h-.5,2))*a+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*a)}return f})).split(/\s*\-\s*/),"linear"==u){var y=a.shift();if(y=-r(y),isNaN(y))return null;var _=[0,0,i.cos(t.rad(y)),i.sin(t.rad(y))],x=1/(o(s(_[2]),s(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var w=t._parseDots(a);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=v(u+"Gradient",{id:c}),e.gradient=b,v(b,"radial"==u?{fx:h,fy:d}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(b);for(var k=0,M=w.length;k<M;k++)b.appendChild(v("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return v(p,{fill:"url('"+document.location+"#"+c+"')",opacity:1,"fill-opacity":1}),m.fill=f,m.opacity=1,m.fillOpacity=1,1},b=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},y=function(r,a,i){if("path"==r.type){for(var o,s,l,u,c,h=n(a).toLowerCase().split("-"),d=r.paper,m=i?"end":"start",b=r.node,y=r.attrs,_=y["stroke-width"],x=h.length,w="classic",k=3,M=3,C=5;x--;)switch(h[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=h[x];break;case"wide":M=5;break;case"narrow":M=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,M+=2,C+=2,l=1,u=i?4:1,c={fill:"none",stroke:y.stroke}):(u=l=k/2,c={fill:y.stroke,stroke:"none"}),r._.arrows?i?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=w){var S="raphael-marker-"+w,T="raphael-marker-"+m+w+k+M+"-obj"+r.id;t._g.doc.getElementById(S)?g[S]++:(d.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:p[w],id:S})),g[S]=1);var L,N=t._g.doc.getElementById(T);N?(g[T]++,L=N.getElementsByTagName("use")[0]):(N=v(v("marker"),{id:T,markerHeight:M,markerWidth:k,orient:"auto",refX:u,refY:M/2}),L=v(v("use"),{"xlink:href":"#"+S,transform:(i?"rotate(180 "+k/2+" "+M/2+") ":f)+"scale("+k/C+","+M/C+")","stroke-width":(1/((k/C+M/C)/2)).toFixed(4)}),N.appendChild(L),d.defs.appendChild(N),g[T]=1),v(L,c);var A=l*("diamond"!=w&&"oval"!=w);i?(o=r._.arrows.startdx*_||0,s=t.getTotalLength(y.path)-A*_):(o=A*_,s=t.getTotalLength(y.path)-(r._.arrows.enddx*_||0)),(c={})["marker-"+m]="url(#"+T+")",(s||o)&&(c.d=t.getSubpath(y.path,o,s)),v(b,c),r._.arrows[m+"Path"]=S,r._.arrows[m+"Marker"]=T,r._.arrows[m+"dx"]=A,r._.arrows[m+"Type"]=w,r._.arrows[m+"String"]=a}else i?(o=r._.arrows.startdx*_||0,s=t.getTotalLength(y.path)-o):(o=0,s=t.getTotalLength(y.path)-(r._.arrows.enddx*_||0)),r._.arrows[m+"Path"]&&v(b,{d:t.getSubpath(y.path,o,s)}),delete r._.arrows[m+"Path"],delete r._.arrows[m+"Marker"],delete r._.arrows[m+"dx"],delete r._.arrows[m+"Type"],delete r._.arrows[m+"String"];for(c in g)if(g[e](c)&&!g[c]){var D=t._g.doc.getElementById(c);D&&D.parentNode.removeChild(D)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,r){if(e=_[n(e).toLowerCase()]){for(var a=t.attrs["stroke-width"]||"1",i={round:a,square:a,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],s=e.length;s--;)o[s]=e[s]*a+(s%2?1:-1)*i;v(t.node,{"stroke-dasharray":o.join(",")})}},w=function(r,i){var l=r.node,c=r.attrs,h=l.style.visibility;for(var p in l.style.visibility="hidden",i)if(i[e](p)){if(!t._availableAttrs[e](p))continue;var g=i[p];switch(c[p]=g,p){case"blur":r.blur(g);break;case"title":var _=l.getElementsByTagName("title");if(_.length&&(_=_[0]))_.firstChild.nodeValue=g;else{_=v("title");var w=t._g.doc.createTextNode(g);_.appendChild(w),l.appendChild(_)}break;case"href":case"target":var M=l.parentNode;if("a"!=M.tagName.toLowerCase()){var C=v("a");M.insertBefore(C,l),C.appendChild(l),M=C}"target"==p?M.setAttributeNS(d,"show","blank"==g?"new":g):M.setAttributeNS(d,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":y(r,g);break;case"arrow-end":y(r,g,1);break;case"clip-rect":var S=n(g).split(u);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var T=v("clipPath"),L=v("rect");T.id=t.createUUID(),v(L,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(L),r.paper.defs.appendChild(T),v(l,{"clip-path":"url(#"+T.id+")"}),r.clip=L}if(!g){var N=l.getAttribute("clip-path");if(N){var A=t._g.doc.getElementById(N.replace(/(^url\(#|\)$)/g,f));A&&A.parentNode.removeChild(A),v(l,{"clip-path":f}),delete r.clip}}break;case"path":"path"==r.type&&(v(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),r._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":l.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"height":if(l.setAttribute(p,g),r._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":l.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"r":"rect"==r.type?v(l,{rx:g,ry:g}):l.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(d,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=o(s(r._.sx),s(r._.sy))||1),l.setAttribute(p,g),c["stroke-dasharray"]&&x(r,c["stroke-dasharray"],i),r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1));break;case"stroke-dasharray":x(r,g,i);break;case"fill":var D=n(g).match(t._ISURL);if(D){T=v("pattern");var B=v("image");T.id=t.createUUID(),v(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(B,{x:0,y:0,"xlink:href":D[1]}),T.appendChild(B),function(e){t._preload(D[1],function(){var t=this.offsetWidth,n=this.offsetHeight;v(e,{width:t,height:n}),v(B,{width:t,height:n}),r.paper.safari()})}(T),r.paper.defs.appendChild(T),v(l,{fill:"url(#"+T.id+")"}),r.pattern=T,r.pattern&&b(r);break}var F=t.getRGB(g);if(F.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&m(r,g)){if("opacity"in c||"fill-opacity"in c){var E=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(E){var $=E.getElementsByTagName("stop");v($[$.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete i.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(i.opacity,"undefined")&&v(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&v(l,{"fill-opacity":c["fill-opacity"]});F[e]("opacity")&&v(l,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=t.getRGB(g),l.setAttribute(p,F.hex),"stroke"==p&&F[e]("opacity")&&v(l,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&m(r,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&v(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(E=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&($=E.getElementsByTagName("stop"),v($[$.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=a(g,10)+"px");var P=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[P]=g,r._.dirty=1,l.setAttribute(p,g)}}k(r,i),l.style.visibility=h},k=function(r,i){if("text"==r.type&&(i[e]("text")||i[e]("font")||i[e]("font-size")||i[e]("x")||i[e]("y"))){var o=r.attrs,s=r.node,l=s.firstChild?a(t._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(i[e]("text")){for(o.text=i.text;s.firstChild;)s.removeChild(s.firstChild);for(var u,c=n(i.text).split("\n"),h=[],d=0,p=c.length;d<p;d++)u=v("tspan"),d&&v(u,{dy:1.2*l,x:o.x}),u.appendChild(t._g.doc.createTextNode(c[d])),s.appendChild(u),h[d]=u}else for(d=0,p=(h=s.getElementsByTagName("tspan")).length;d<p;d++)d?v(h[d],{dy:1.2*l,x:o.x}):v(h[0],{dy:0});v(s,{x:o.x,y:o.y}),r._.dirty=1;var g=r._getBBox(),m=o.y-(g.y+g.height/2);m&&t.is(m,"finite")&&v(h[0],{dy:m})}},M=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},C=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},S=t.el;C.prototype=S,S.constructor=C,t._engine.path=function(t,e){var n=v("path");e.canvas&&e.canvas.appendChild(n);var r=new C(n,e);return r.type="path",w(r,{fill:"none",stroke:"#000",path:t}),r},S.rotate=function(t,e,a){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=r(t[1]),a=r(t[2])),t=r(t[0]),null==a&&(e=a),null==e||null==a){var i=this.getBBox(1);e=i.x+i.width/2,a=i.y+i.height/2}return this.transform(this._.transform.concat([["r",t,e,a]])),this},S.scale=function(t,e,a,i){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=r(t[1]),a=r(t[2]),i=r(t[3])),t=r(t[0]),null==e&&(e=t),null==i&&(a=i),null==a||null==i)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,i=null==i?o.y+o.height/2:i,this.transform(this._.transform.concat([["s",t,e,a,i]])),this},S.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},S.transform=function(n){var r=this._;if(null==n)return r.transform;if(t._extractTransform(this,n),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&v(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var a=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":a})}return this},S.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},S.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},S.remove=function(){var e=M(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var r in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},S._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(t){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(e.display="none")}return t&&this.hide(),r},S.attr=function(n,r){if(this.removed)return this;if(null==n){var a={};for(var i in this.attrs)this.attrs[e](i)&&(a[i]=this.attrs[i]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var o=n.split(u),s={},l=0,f=o.length;l<f;l++)(n=o[l])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[o[0]]}if(null==r&&t.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=r){var h={};h[n]=r}else null!=n&&t.is(n,"object")&&(h=n);for(var d in h)c("raphael.attr."+d+"."+this.id,this,h[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&h[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));for(var g in this.attrs[d]=h[d],p)p[e](g)&&(h[g]=p[g])}return w(this,h),this},S.toFront=function(){if(this.removed)return this;var e=M(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},S.toBack=function(){if(this.removed)return this;var e=M(this.node),n=e.parentNode;n.insertBefore(e,n.firstChild),t._toback(this,this.paper);this.paper;return this},S.insertAfter=function(e){if(this.removed||!e)return this;var n=M(this.node),r=M(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},S.insertBefore=function(e){if(this.removed||!e)return this;var n=M(this.node),r=M(e.node||e[0].node);return r.parentNode.insertBefore(n,r),t._insertbefore(this,e,this.paper),this},S.blur=function(e){var n=this;if(0!=+e){var r=v("filter"),a=v("feGaussianBlur");n.attrs.blur=e,r.id=t.createUUID(),v(a,{stdDeviation:+e||1.5}),r.appendChild(a),n.paper.defs.appendChild(r),n._blur=r,v(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,r){var a=v("circle");t.canvas&&t.canvas.appendChild(a);var i=new C(a,t);return i.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},i.type="circle",v(a,i.attrs),i},t._engine.rect=function(t,e,n,r,a,i){var o=v("rect");t.canvas&&t.canvas.appendChild(o);var s=new C(o,t);return s.attrs={x:e,y:n,width:r,height:a,rx:i||0,ry:i||0,fill:"none",stroke:"#000"},s.type="rect",v(o,s.attrs),s},t._engine.ellipse=function(t,e,n,r,a){var i=v("ellipse");t.canvas&&t.canvas.appendChild(i);var o=new C(i,t);return o.attrs={cx:e,cy:n,rx:r,ry:a,fill:"none",stroke:"#000"},o.type="ellipse",v(i,o.attrs),o},t._engine.image=function(t,e,n,r,a,i){var o=v("image");v(o,{x:n,y:r,width:a,height:i,preserveAspectRatio:"none"}),o.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(o);var s=new C(o,t);return s.attrs={x:n,y:r,width:a,height:i,src:e},s.type="image",s},t._engine.text=function(e,n,r,a){var i=v("text");e.canvas&&e.canvas.appendChild(i);var o=new C(i,e);return o.attrs={x:n,y:r,"text-anchor":"middle",text:a,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",w(o,o.attrs),o},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,r=e.x,a=e.y,i=e.width,o=e.height;if(!n)throw new Error("SVG container not found.");var s,l=v("svg"),u="overflow:hidden;";return r=r||0,a=a||0,v(l,{height:o=o||342,version:1.1,width:i=i||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+r+"px;top:"+a+"px",t._g.doc.body.appendChild(l),s=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=i,n.height=o,n.canvas=l,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,r,a){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,a]);var i,s,l=this.getSize(),u=o(n/l.width,r/l.height),f=this.top,d=a?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,i="0 0 "+this.width+h+this.height):(this._vbSize=u,i=t+h+e+h+n+h+r),v(this.canvas,{viewBox:i,preserveAspectRatio:d});u&&f;)s="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":s}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,n,r,!!a],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,a=-t.f%1;(r||a)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),a&&(this._top=(this._top+a)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var T=t.st;for(var L in S)S[e](L)&&!T[e](L)&&(T[L]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(L))}}(),function(){if(t.vml){var e="hasOwnProperty",n=String,r=parseFloat,a=Math,i=a.round,o=a.max,s=a.min,l=a.abs,u=/[, ]+/,c=t.eve,f=" ",h="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,y={path:1,rect:1,image:1},_={circle:1,ellipse:1},x=function(e,n,r){var a=t.matrix();return a.rotate(-e,.5,.5),{dx:a.x(n,r),dy:a.y(n,r)}},w=function(t,e,n,r,a,i){var o=t._,s=t.matrix,u=o.fillpos,c=t.node,h=c.style,d=1,p="",g=b/e,v=b/n;if(h.visibility="hidden",e&&n){if(c.coordsize=l(g)+f+l(v),h.rotation=i*(e*n<0?-1:1),i){var m=x(i,r,a);r=m.dx,a=m.dy}if(e<0&&(p+="x"),n<0&&(p+=" y")&&(d=-1),h.flip=p,c.coordorigin=r*-g+f+a*-v,u||o.fillsize){var y=c.getElementsByTagName("fill");y=y&&y[0],c.removeChild(y),u&&(m=x(i,s.x(u[0],u[1]),s.y(u[0],u[1])),y.position=m.dx*d+f+m.dy*d),o.fillsize&&(y.size=o.fillsize[0]*l(e)+f+o.fillsize[1]*l(n)),c.appendChild(y)}h.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k,M=function(t,e,r){for(var a=n(e).toLowerCase().split("-"),i=r?"end":"start",o=a.length,s="classic",l="medium",u="medium";o--;)switch(a[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=a[o];break;case"wide":case"narrow":u=a[o];break;case"long":case"short":l=a[o]}var c=t.node.getElementsByTagName("stroke")[0];c[i+"arrow"]=s,c[i+"arrowlength"]=l,c[i+"arrowwidth"]=u},C=function(a,l){a.attrs=a.attrs||{};var c=a.node,g=a.attrs,m=c.style,x=y[a.type]&&(l.x!=g.x||l.y!=g.y||l.width!=g.width||l.height!=g.height||l.cx!=g.cx||l.cy!=g.cy||l.rx!=g.rx||l.ry!=g.ry||l.r!=g.r),C=_[a.type]&&(g.cx!=l.cx||g.cy!=l.cy||g.r!=l.r||g.rx!=l.rx||g.ry!=l.ry),T=a;for(var L in l)l[e](L)&&(g[L]=l[L]);if(x&&(g.path=t._getPath[a.type](a),a._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&a.blur(l.blur),(l.path&&"path"==a.type||x)&&(c.path=function(e){var r=/[ahqstv]/gi,a=t._pathToAbsolute;if(n(e).match(r)&&(a=t._path2curve),r=/[clmz]/g,a==t._pathToAbsolute&&!n(e).match(r)){var o=n(e).replace(p,function(t,e,n){var r=[],a="m"==e.toLowerCase(),o=d[e];return n.replace(v,function(t){a&&2==r.length&&(o+=r+d["m"==e?"l":"L"],r=[]),r.push(i(t*b))}),o+r});return o}var s,l,u=a(e);o=[];for(var c=0,g=u.length;c<g;c++){s=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var m=1,y=s.length;m<y;m++)l+=i(s[m]*b)+(m!=y-1?",":h);o.push(l)}return o.join(f)}(~n(g.path).toLowerCase().indexOf("r")?t._pathToAbsolute(g.path):g.path),a._.dirty=1,"image"==a.type&&(a._.fillpos=[g.x,g.y],a._.fillsize=[g.width,g.height],w(a,1,1,0,0,0))),"transform"in l&&a.transform(l.transform),C){var N=+g.cx,A=+g.cy,D=+g.rx||+g.r||0,B=+g.ry||+g.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",i((N-D)*b),i((A-B)*b),i((N+D)*b),i((A+B)*b),i(N*b)),a._.dirty=1}if("clip-rect"in l){var F=n(l["clip-rect"]).split(u);if(4==F.length){F[2]=+F[2]+ +F[0],F[3]=+F[3]+ +F[1];var E=c.clipRect||t._g.doc.createElement("div"),$=E.style;$.clip=t.format("rect({1}px {2}px {3}px {0}px)",F),c.clipRect||($.position="absolute",$.top=0,$.left=0,$.width=a.paper.width+"px",$.height=a.paper.height+"px",c.parentNode.insertBefore(E,c),E.appendChild(c),c.clipRect=E)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(a.textpath){var P=a.textpath.style;l.font&&(P.font=l.font),l["font-family"]&&(P.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,h)+'"'),l["font-size"]&&(P.fontSize=l["font-size"]),l["font-weight"]&&(P.fontWeight=l["font-weight"]),l["font-style"]&&(P.fontStyle=l["font-style"])}if("arrow-start"in l&&M(T,l["arrow-start"]),"arrow-end"in l&&M(T,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var O=c.getElementsByTagName("fill");if(!(O=O&&O[0])&&(O=k("fill")),"image"==a.type&&l.src&&(O.src=l.src),l.fill&&(O.on=!0),null!=O.on&&"none"!=l.fill&&null!==l.fill||(O.on=!1),O.on&&l.fill){var z=n(l.fill).match(t._ISURL);if(z){O.parentNode==c&&c.removeChild(O),O.rotate=!0,O.src=z[1],O.type="tile";var j=a.getBBox(1);O.position=j.x+f+j.y,a._.fillpos=[j.x,j.y],t._preload(z[1],function(){a._.fillsize=[this.offsetWidth,this.offsetHeight]})}else O.color=t.getRGB(l.fill).hex,O.src=h,O.type="solid",t.getRGB(l.fill).error&&(T.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&S(T,l.fill,O)&&(g.fill="none",g.gradient=l.fill,O.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var R=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);R=s(o(R,0),1),O.opacity=R,O.src&&(O.color="none")}c.appendChild(O);var Y=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],I=!1;!Y&&(I=Y=k("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(Y.on=!0),("none"==l.stroke||null===l.stroke||null==Y.on||0==l.stroke||0==l["stroke-width"])&&(Y.on=!1);var H=t.getRGB(l.stroke);Y.on&&l.stroke&&(Y.color=H.hex),R=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+H.o+1||2)-1);var U=.75*(r(l["stroke-width"])||1);if(R=s(o(R,0),1),null==l["stroke-width"]&&(U=g["stroke-width"]),l["stroke-width"]&&(Y.weight=U),U&&U<1&&(R*=U)&&(Y.weight=1),Y.opacity=R,l["stroke-linejoin"]&&(Y.joinstyle=l["stroke-linejoin"]||"miter"),Y.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(Y.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var q={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Y.dashstyle=q[e](l["stroke-dasharray"])?q[l["stroke-dasharray"]]:h}I&&c.appendChild(Y)}if("text"==T.type){T.paper.canvas.style.display=h;var W=T.paper.span,V=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);m=W.style,g.font&&(m.font=g.font),g["font-family"]&&(m.fontFamily=g["font-family"]),g["font-weight"]&&(m.fontWeight=g["font-weight"]),g["font-style"]&&(m.fontStyle=g["font-style"]),V=r(g["font-size"]||V&&V[0])||10,m.fontSize=100*V+"px",T.textpath.string&&(W.innerHTML=n(T.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=W.getBoundingClientRect();T.W=g.w=(G.right-G.left)/100,T.H=g.h=(G.bottom-G.top)/100,T.X=g.x,T.Y=g.y+T.H/2,("x"in l||"y"in l)&&(T.path.v=t.format("m{0},{1}l{2},{1}",i(g.x*b),i(g.y*b),i(g.x*b)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,Z=X.length;K<Z;K++)if(X[K]in l){T._.dirty=1;break}switch(g["text-anchor"]){case"start":T.textpath.style["v-text-align"]="left",T.bbx=T.W/2;break;case"end":T.textpath.style["v-text-align"]="right",T.bbx=-T.W/2;break;default:T.textpath.style["v-text-align"]="center",T.bbx=0}T.textpath.style["v-text-kern"]=!0}},S=function(e,i,o){e.attrs=e.attrs||{};e.attrs;var s=Math.pow,l="linear",u=".5 .5";if(e.attrs.gradient=i,i=(i=n(i).replace(t._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=a.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),u=e+f+n),h})).split(/\s*\-\s*/),"linear"==l){var c=i.shift();if(c=-r(c),isNaN(c))return null}var d=t._parseDots(i);if(!d)return null;if(e=e.shape||e.node,d.length){e.removeChild(o),o.on=!0,o.method="none",o.color=d[0].color,o.color2=d[d.length-1].color;for(var p=[],g=0,v=d.length;g<v;g++)d[g].offset&&p.push(d[g].offset+f+d[g].color);o.colors=p.length?p.join():"0% "+o.color,"radial"==l?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=u,o.angle=0):(o.type="gradient",o.angle=(270-c)%360),e.appendChild(o)}return 1},T=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},L=t.el;T.prototype=L,L.constructor=T,L.transform=function(e){if(null==e)return this._.transform;var r,a=this.paper._viewBoxShift,i=a?"s"+[a.scale,a.scale]+"-1-1t"+[a.dx,a.dy]:h;a&&(r=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||h)),t._extractTransform(this,i+e);var o,s=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),d=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),d||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",o=s.split(),c&&o.noRotation||!o.isSimple){u.style.filter=s.toFilter();var p=this.getBBox(),g=this.getBBox(1),v=p.x-g.x,m=p.y-g.y;u.coordorigin=v*-b+f+m*-b,w(this,1,1,v,m,0)}else u.style.filter=h,w(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else u.style.filter=h,l.matrix=n(s),l.offset=s.offset();return null!==r&&(this._.transform=r,t._extractTransform(this,r)),this},L.rotate=function(t,e,a){if(this.removed)return this;if(null!=t){if((t=n(t).split(u)).length-1&&(e=r(t[1]),a=r(t[2])),t=r(t[0]),null==a&&(e=a),null==e||null==a){var i=this.getBBox(1);e=i.x+i.width/2,a=i.y+i.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,a]])),this}},L.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},L.scale=function(t,e,a,i){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=r(t[1]),a=r(t[2]),i=r(t[3]),isNaN(a)&&(a=null),isNaN(i)&&(i=null)),t=r(t[0]),null==e&&(e=t),null==i&&(a=i),null==a||null==i)var o=this.getBBox(1);return a=null==a?o.x+o.width/2:a,i=null==i?o.y+o.height/2:i,this.transform(this._.transform.concat([["s",t,e,a,i]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=h),this},L.auxGetBBox=t.el.getBBox,L.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},L.attr=function(n,r){if(this.removed)return this;if(null==n){var a={};for(var i in this.attrs)this.attrs[e](i)&&(a[i]=this.attrs[i]);return a.gradient&&"none"==a.fill&&(a.fill=a.gradient)&&delete a.gradient,a.transform=this._.transform,a}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=n.split(u),s={},l=0,f=o.length;l<f;l++)(n=o[l])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[o[0]]}if(this.attrs&&null==r&&t.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}var h;for(var d in null!=r&&((h={})[n]=r),null==r&&t.is(n,"object")&&(h=n),h)c("raphael.attr."+d+"."+this.id,this,h[d]);if(h){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&h[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));for(var g in this.attrs[d]=h[d],p)p[e](g)&&(h[g]=p[g])}h.text&&"text"==this.type&&(this.textpath.string=h.text),C(this,h)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},L.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},L.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},L.blur=function(e){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(g,h),0!=+e?(this.attrs.blur=e,n.filter=r+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",i(+e||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=k("shape");n.style.cssText=m,n.coordsize=b+f+b,n.coordorigin=e.coordorigin;var r=new T(n,e),a={fill:"none",stroke:"#000"};t&&(a.path=t),r.type="path",r.path=[],r.Path=h,C(r,a),e.canvas.appendChild(n);var i=k("skew");return i.on=!0,n.appendChild(i),r.skew=i,r.transform(h),r},t._engine.rect=function(e,n,r,a,i,o){var s=t._rectPath(n,r,a,i,o),l=e.path(s),u=l.attrs;return l.X=u.x=n,l.Y=u.y=r,l.W=u.width=a,l.H=u.height=i,u.r=o,u.path=s,l.type="rect",l},t._engine.ellipse=function(t,e,n,r,a){var i=t.path();i.attrs;return i.X=e-r,i.Y=n-a,i.W=2*r,i.H=2*a,i.type="ellipse",C(i,{cx:e,cy:n,rx:r,ry:a}),i},t._engine.circle=function(t,e,n,r){var a=t.path();a.attrs;return a.X=e-r,a.Y=n-r,a.W=a.H=2*r,a.type="circle",C(a,{cx:e,cy:n,r:r}),a},t._engine.image=function(e,n,r,a,i,o){var s=t._rectPath(r,a,i,o),l=e.path(s).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName("fill")[0];return u.src=n,l.X=u.x=r,l.Y=u.y=a,l.W=u.width=i,l.H=u.height=o,u.path=s,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",l._.fillpos=[r,a],l._.fillsize=[i,o],c.appendChild(f),w(l,1,1,0,0,0),l},t._engine.text=function(e,r,a,o){var s=k("shape"),l=k("path"),u=k("textpath");r=r||0,a=a||0,o=o||"",l.v=t.format("m{0},{1}l{2},{1}",i(r*b),i(a*b),i(r*b)+1),l.textpathok=!0,u.string=n(o),u.on=!0,s.style.cssText=m,s.coordsize=b+f+b,s.coordorigin="0 0";var c=new T(s,e),d={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:o};c.shape=s,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(o),c.attrs.x=r,c.attrs.y=a,c.attrs.w=1,c.attrs.h=1,C(c,d),s.appendChild(u),s.appendChild(l),e.canvas.appendChild(s);var p=k("skew");return p.on=!0,s.appendChild(p),c.skew=p,c.transform(h),c},t._engine.setSize=function(e,n){var r=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),r.width=e,r.height=n,r.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,r,a,i){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,r,a,i]);var o,s,l=this.getSize(),u=l.width,c=l.height;return i&&(r*(o=c/a)<u&&(e-=(u-r*o)/2/o),a*(s=u/r)<c&&(n-=(c-a*s)/2/s)),this._viewBox=[e,n,r,a,!!i],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach(function(t){t.transform("...")}),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),k=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){k=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,r=e.height,a=e.width,i=e.x,o=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,l=s.canvas=t._g.doc.createElement("div"),u=l.style;return i=i||0,o=o||0,a=a||512,r=r||342,s.width=a,s.height=r,a==+a&&(a+="px"),r==+r&&(r+="px"),s.coordsize=216e5+f+216e5,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",a,r),1==n?(t._g.doc.body.appendChild(l),u.left=i+"px",u.top=o+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=h,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var A in L)L[e](A)&&!N[e](A)&&(N[A]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(A))}}(),window.Raphael=t}();var n=e(function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var a=r[n];e["[object "+a+"]"]=a.toLowerCase()}var i=function(t){return e[Object.prototype.toString.call(t)]||"object"},o=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:i,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==i(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==i(t[e])?t[e].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},l={format:{},autodetect:[]},u=s.last,c=s.clip_rgb,f=s.type,h=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var a=u(e),i=!1;if(!a){i=!0,l.sorted||(l.autodetect=l.autodetect.sort(function(t,e){return e.p-t.p}),l.sorted=!0);for(var o=0,s=l.autodetect;o<s.length;o+=1){var h=s[o];if(a=h.test.apply(h,e))break}}if(!l.format[a])throw new Error("unknown format: "+e);var d=l.format[a].apply(null,i?e:e.slice(0,-1));r._rgb=c(d),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=h,p=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.0.6";var g=p,v=s.unpack,m=Math.max,b=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=v(e,"rgb"),a=r[0],i=r[1],o=r[2],s=1-m(a/=255,m(i/=255,o/=255)),l=s<1?1/(1-s):0,u=(1-a-s)*l,c=(1-i-s)*l,f=(1-o-s)*l;return[u,c,f,s]},y=s.unpack,_=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=y(e,"cmyk"))[0],a=e[1],i=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[r>=1?0:255*(1-r)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),s]},x=s.unpack,w=s.type;d.prototype.cmyk=function(){return b(this._rgb)},g.cmyk=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},l.format.cmyk=_,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var k=s.unpack,M=s.last,C=function(t){return Math.round(100*t)/100},S=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=k(e,"hsla"),a=M(e)||"lsa";return r[0]=C(r[0]||0),r[1]=C(100*r[1])+"%",r[2]=C(100*r[2])+"%","hsla"===a||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},T=s.unpack,L=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=T(e,"rgba"))[0],a=e[1],i=e[2];r/=255,a/=255,i/=255;var o,s,l=Math.min(r,a,i),u=Math.max(r,a,i),c=(u+l)/2;return u===l?(o=0,s=Number.NaN):o=c<.5?(u-l)/(u+l):(u-l)/(2-u-l),r==u?s=(a-i)/(u-l):a==u?s=2+(i-r)/(u-l):i==u&&(s=4+(r-a)/(u-l)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,c,e[3]]:[s,o,c]},N=s.unpack,A=s.last,D=Math.round,B=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=N(e,"rgba"),a=A(e)||"rgb";return"hsl"==a.substr(0,3)?S(L(r),a):(r[0]=D(r[0]),r[1]=D(r[1]),r[2]=D(r[2]),("rgba"===a||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,a="rgba"),a+"("+r.slice(0,"rgb"===a?3:4).join(",")+")")},F=s.unpack,E=Math.round,$=function(){for(var t,e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];var a,i,o,s=(n=F(n,"hsl"))[0],l=n[1],u=n[2];if(0===l)a=i=o=255*u;else{var c=[0,0,0],f=[0,0,0],h=u<.5?u*(1+l):u+l-u*l,d=2*u-h,p=s/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var g=0;g<3;g++)c[g]<0&&(c[g]+=1),c[g]>1&&(c[g]-=1),6*c[g]<1?f[g]=d+6*(h-d)*c[g]:2*c[g]<1?f[g]=h:3*c[g]<2?f[g]=d+(h-d)*(2/3-c[g])*6:f[g]=d;t=[E(255*f[0]),E(255*f[1]),E(255*f[2])],a=t[0],i=t[1],o=t[2]}return n.length>3?[a,i,o,n[3]]:[a,i,o,1]},P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,O=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,j=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=Math.round,H=function(t){var e;if(t=t.toLowerCase().trim(),l.format.named)try{return l.format.named(t)}catch(t){}if(e=t.match(P)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(O)){for(var a=e.slice(1,5),i=0;i<4;i++)a[i]=+a[i];return a}if(e=t.match(z)){for(var o=e.slice(1,4),s=0;s<3;s++)o[s]=I(2.55*o[s]);return o[3]=1,o}if(e=t.match(j)){for(var u=e.slice(1,5),c=0;c<3;c++)u[c]=I(2.55*u[c]);return u[3]=+u[3],u}if(e=t.match(R)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var h=$(f);return h[3]=1,h}if(e=t.match(Y)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var p=$(d);return p[3]=+e[4],p}};H.test=function(t){return P.test(t)||O.test(t)||z.test(t)||j.test(t)||R.test(t)||Y.test(t)};var U=H,q=s.type;d.prototype.css=function(t){return B(this._rgb,t)},g.css=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},l.format.css=U,l.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===q(t)&&U.test(t))return"css"}});var W=s.unpack;l.format.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=W(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var V=s.unpack,G=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a=V(e,"rgb"),i=a[0],o=a[1],s=a[2],l=Math.min(i,o,s),u=Math.max(i,o,s),c=u-l,f=100*c/255,h=l/(255-c)*100;return 0===c?r=Number.NaN:(i===u&&(r=(o-s)/c),o===u&&(r=2+(s-i)/c),s===u&&(r=4+(i-o)/c),(r*=60)<0&&(r+=360)),[r,f,h]},X=s.unpack,K=Math.floor,Z=function(){for(var t,e,n,r,a,i,o=arguments,s=[],l=arguments.length;l--;)s[l]=o[l];var u,c,f,h=(s=X(s,"hcg"))[0],d=s[1],p=s[2];p*=255;var g=255*d;if(0===d)u=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=K(h/=60),m=h-v,b=p*(1-d),y=b+g*(1-m),_=b+g*m,x=b+g;switch(v){case 0:u=(t=[x,_,b])[0],c=t[1],f=t[2];break;case 1:u=(e=[y,x,b])[0],c=e[1],f=e[2];break;case 2:u=(n=[b,x,_])[0],c=n[1],f=n[2];break;case 3:u=(r=[b,y,x])[0],c=r[1],f=r[2];break;case 4:u=(a=[_,b,x])[0],c=a[1],f=a[2];break;case 5:u=(i=[x,b,y])[0],c=i[1],f=i[2]}}return[u,c,f,s.length>3?s[3]:1]},Q=s.unpack,J=s.type;d.prototype.hcg=function(){return G(this._rgb)},g.hcg=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},l.format.hcg=Z,l.autodetect.push({p:1,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Q(e,"hcg"),"array"===J(e)&&3===e.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,rt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=tt(e,"rgba"),a=r[0],i=r[1],o=r[2],s=r[3],l=et(e)||"auto";void 0===s&&(s=1),"auto"===l&&(l=s<1?"rgba":"rgb"),a=nt(a),i=nt(i),o=nt(o);var u=a<<16|i<<8|o,c="000000"+u.toString(16);c=c.substr(c.length-6);var f="0"+nt(255*s).toString(16);switch(f=f.substr(f.length-2),l.toLowerCase()){case"rgba":return"#"+c+f;case"argb":return"#"+f+c;default:return"#"+c}},at=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,it=/^#?([A-Fa-f0-9]{8})$/,ot=function(t){if(t.match(at)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,a=255&e;return[n,r,a,1]}if(t.match(it)){9===t.length&&(t=t.substr(1));var i=parseInt(t,16),o=i>>24&255,s=i>>16&255,l=i>>8&255,u=Math.round((255&i)/255*100)/100;return[o,s,l,u]}throw new Error("unknown hex color: "+t)},st=s.type;d.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},l.format.hex=ot,l.autodetect.push({p:4,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var lt=s.unpack,ut=s.TWOPI,ct=Math.min,ft=Math.sqrt,ht=Math.acos,dt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a=lt(e,"rgb"),i=a[0],o=a[1],s=a[2],l=ct(i/=255,o/=255,s/=255),u=(i+o+s)/3,c=u>0?1-l/u:0;return 0===c?r=NaN:(r=(i-o+(i-s))/2,r/=ft((i-o)*(i-o)+(i-s)*(o-s)),r=ht(r),s>o&&(r=ut-r),r/=ut),[360*r,c,u]},pt=s.unpack,gt=s.limit,vt=s.TWOPI,mt=s.PITHIRD,bt=Math.cos,yt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o=(e=pt(e,"hsi"))[0],s=e[1],l=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(i=(1-s)/3,r=(1+s*bt(vt*o)/bt(mt-vt*o))/3,a=1-(i+r)):o<2/3?(r=(1-s)/3,a=(1+s*bt(vt*(o-=1/3))/bt(mt-vt*o))/3,i=1-(r+a)):(a=(1-s)/3,i=(1+s*bt(vt*(o-=2/3))/bt(mt-vt*o))/3,r=1-(a+i)),r=gt(l*r*3),a=gt(l*a*3),i=gt(l*i*3),[255*r,255*a,255*i,e.length>3?e[3]:1]},_t=s.unpack,xt=s.type;d.prototype.hsi=function(){return dt(this._rgb)},g.hsi=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},l.format.hsi=yt,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=_t(e,"hsi"),"array"===xt(e)&&3===e.length)return"hsi"}});var wt=s.unpack,kt=s.type;d.prototype.hsl=function(){return L(this._rgb)},g.hsl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},l.format.hsl=$,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=wt(e,"hsl"),"array"===kt(e)&&3===e.length)return"hsl"}});var Mt=s.unpack,Ct=Math.min,St=Math.max,Tt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o=(e=Mt(e,"rgb"))[0],s=e[1],l=e[2],u=Ct(o,s,l),c=St(o,s,l),f=c-u;return i=c/255,0===c?(r=Number.NaN,a=0):(a=f/c,o===c&&(r=(s-l)/f),s===c&&(r=2+(l-o)/f),l===c&&(r=4+(o-s)/f),(r*=60)<0&&(r+=360)),[r,a,i]},Lt=s.unpack,Nt=Math.floor,At=function(){for(var t,e,n,r,a,i,o=arguments,s=[],l=arguments.length;l--;)s[l]=o[l];var u,c,f,h=(s=Lt(s,"hsv"))[0],d=s[1],p=s[2];if(p*=255,0===d)u=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=Nt(h/=60),v=h-g,m=p*(1-d),b=p*(1-d*v),y=p*(1-d*(1-v));switch(g){case 0:u=(t=[p,y,m])[0],c=t[1],f=t[2];break;case 1:u=(e=[b,p,m])[0],c=e[1],f=e[2];break;case 2:u=(n=[m,p,y])[0],c=n[1],f=n[2];break;case 3:u=(r=[m,b,p])[0],c=r[1],f=r[2];break;case 4:u=(a=[y,m,p])[0],c=a[1],f=a[2];break;case 5:u=(i=[p,m,b])[0],c=i[1],f=i[2]}}return[u,c,f,s.length>3?s[3]:1]},Dt=s.unpack,Bt=s.type;d.prototype.hsv=function(){return Tt(this._rgb)},g.hsv=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},l.format.hsv=At,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Dt(e,"hsv"),"array"===Bt(e)&&3===e.length)return"hsv"}});var Ft={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Et=s.unpack,$t=Math.pow,Pt=function(t){return(t/=255)<=.04045?t/12.92:$t((t+.055)/1.055,2.4)},Ot=function(t){return t>Ft.t3?$t(t,1/3):t/Ft.t2+Ft.t0},zt=function(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=Ot((.4124564*t+.3575761*e+.1804375*n)/Ft.Xn),a=Ot((.2126729*t+.7151522*e+.072175*n)/Ft.Yn),i=Ot((.0193339*t+.119192*e+.9503041*n)/Ft.Zn);return[r,a,i]},jt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Et(e,"rgb"),a=r[0],i=r[1],o=r[2],s=zt(a,i,o),l=s[0],u=s[1],c=s[2],f=116*u-16;return[f<0?0:f,500*(l-u),200*(u-c)]},Rt=s.unpack,Yt=Math.pow,It=function(t){return 255*(t<=.00304?12.92*t:1.055*Yt(t,1/2.4)-.055)},Ht=function(t){return t>Ft.t1?t*t*t:Ft.t2*(t-Ft.t0)},Ut=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o,s,l,u=(e=Rt(e,"lab"))[0],c=e[1],f=e[2];return a=(u+16)/116,r=isNaN(c)?a:a+c/500,i=isNaN(f)?a:a-f/200,a=Ft.Yn*Ht(a),r=Ft.Xn*Ht(r),i=Ft.Zn*Ht(i),o=It(3.2404542*r-1.5371385*a-.4985314*i),s=It(-.969266*r+1.8760108*a+.041556*i),l=It(.0556434*r-.2040259*a+1.0572252*i),[o,s,l,e.length>3?e[3]:1]},qt=s.unpack,Wt=s.type;d.prototype.lab=function(){return jt(this._rgb)},g.lab=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},l.format.lab=Ut,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=qt(e,"lab"),"array"===Wt(e)&&3===e.length)return"lab"}});var Vt=s.unpack,Gt=s.RAD2DEG,Xt=Math.sqrt,Kt=Math.atan2,Zt=Math.round,Qt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Vt(e,"lab"),a=r[0],i=r[1],o=r[2],s=Xt(i*i+o*o),l=(Kt(o,i)*Gt+360)%360;return 0===Zt(1e4*s)&&(l=Number.NaN),[a,s,l]},Jt=s.unpack,te=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Jt(e,"rgb"),a=r[0],i=r[1],o=r[2],s=jt(a,i,o),l=s[0],u=s[1],c=s[2];return Qt(l,u,c)},ee=s.unpack,ne=s.DEG2RAD,re=Math.sin,ae=Math.cos,ie=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ee(e,"lch"),a=r[0],i=r[1],o=r[2];return isNaN(o)&&(o=0),[a,ae(o*=ne)*i,re(o)*i]},oe=s.unpack,se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=oe(e,"lch"))[0],a=e[1],i=e[2],o=ie(r,a,i),s=o[0],l=o[1],u=o[2],c=Ut(s,l,u),f=c[0],h=c[1],d=c[2];return[f,h,d,e.length>3?e[3]:1]},le=s.unpack,ue=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=le(e,"hcl").reverse();return se.apply(void 0,r)},ce=s.unpack,fe=s.type;d.prototype.lch=function(){return te(this._rgb)},d.prototype.hcl=function(){return te(this._rgb).reverse()},g.lch=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},g.hcl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},l.format.lch=se,l.format.hcl=ue,["lch","hcl"].forEach(function(t){return l.autodetect.push({p:2,test:function(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];if(n=ce(n,t),"array"===fe(n)&&3===n.length)return t}})});var he={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},de=s.type;d.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),e=0,n=Object.keys(he);e<n.length;e+=1){var r=n[e];if(he[r]===t)return r.toLowerCase()}return t},l.format.named=function(t){if(t=t.toLowerCase(),he[t])return ot(he[t]);throw new Error("unknown color name: "+t)},l.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===de(t)&&he[t.toLowerCase()])return"named"}});var pe=s.unpack,ge=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=pe(e,"rgb"),a=r[0],i=r[1],o=r[2];return(a<<16)+(i<<8)+o},ve=s.type,me=function(t){if("number"==ve(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},be=s.type;d.prototype.num=function(){return ge(this._rgb)},g.num=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},l.format.num=me,l.autodetect.push({p:5,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(1===e.length&&"number"===be(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var ye=s.unpack,_e=s.type,xe=Math.round;d.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xe)},d.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:xe(e):e})},g.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},l.format.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ye(e,"rgba");return void 0===r[3]&&(r[3]=1),r},l.autodetect.push({p:3,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=ye(e,"rgba"),"array"===_e(e)&&(3===e.length||4===e.length&&"number"==_e(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var we=Math.log,ke=function(t){var e,n,r,a=t/100;return a<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=a-2)+104.49216199393888*we(n),r=a<20?0:.8274096064007395*(r=a-10)-254.76935184120902+115.67994401066147*we(r)):(e=351.97690566805693+.114206453784165*(e=a-55)-40.25366309332127*we(e),n=325.4494125711974+.07943456536662342*(n=a-50)-28.0852963507957*we(n),r=255),[e,n,r,1]},Me=s.unpack,Ce=Math.round,Se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];for(var r,a=Me(e,"rgb"),i=a[0],o=a[2],s=1e3,l=4e4,u=.4;l-s>u;){var c=ke(r=.5*(l+s));c[2]/c[0]>=o/i?l=r:s=r}return Ce(r)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return Se(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=ke;var Te=s.type;d.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Te(t)?e?(this._rgb[3]=t,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ft.Kn*t,new d(e,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],a=this[n]();if(r){var i=n.indexOf(r);if(i>-1)return a[i];throw new Error("unknown channel "+r+" in mode "+n)}return a};var Le=s.type,Ne=Math.pow;d.prototype.luminance=function(t){if(void 0!==t&&"number"===Le(t)){if(0===t)return new d([0,0,0,this._rgb[3]],"rgb");if(1===t)return new d([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,a){var i=e.interpolate(a,.5,"rgb"),o=i.luminance();return Math.abs(t-o)<1e-7||!n--?i:o>t?r(e,i):r(i,a)},a=(e>t?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(a.concat([this._rgb[3]]))}return Ae.apply(void 0,this._rgb.slice(0,3))};var Ae=function(t,e,n){return t=De(t),e=De(e),n=De(n),.2126*t+.7152*e+.0722*n},De=function(t){return(t/=255)<=.03928?t/12.92:Ne((t+.055)/1.055,2.4)},Be={},Fe=s.type,Ee=function(t,e,n){var r=arguments;void 0===n&&(n=.5);for(var a=[],i=arguments.length-3;i-->0;)a[i]=r[i+3];var o=a[0]||"lrgb";if(Be[o]||a.length||(o=Object.keys(Be)[0]),!Be[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Fe(t)&&(t=new d(t)),"object"!==Fe(e)&&(e=new d(e)),Be[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};d.prototype.mix=d.prototype.interpolate=function(t,e){var n=arguments;void 0===e&&(e=.5);for(var r=[],a=arguments.length-2;a-->0;)r[a]=n[a+2];return Ee.apply(void 0,[this,t,e].concat(r))},d.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new d([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},d.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ft.Kn*t,e[1]<0&&(e[1]=0),new d(e,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var $e=s.type;d.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),a=r[0],i=r[1],o=this[a]();if(i){var s=a.indexOf(i);if(s>-1){if("string"==$e(e))switch(e.charAt(0)){case"+":case"-":o[s]+=+e;break;case"*":o[s]*=+e.substr(1);break;case"/":o[s]/=+e.substr(1);break;default:o[s]=+e}else{if("number"!==$e(e))throw new Error("unsupported value for Color.set");o[s]=e}var l=new d(o,a);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+i+" in mode "+a)}return o},Be.rgb=function(t,e,n){var r=t._rgb,a=e._rgb;return new d(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"rgb")};var Pe=Math.sqrt,Oe=Math.pow;Be.lrgb=function(t,e,n){var r=t._rgb,a=r[0],i=r[1],o=r[2],s=e._rgb,l=s[0],u=s[1],c=s[2];return new d(Pe(Oe(a,2)*(1-n)+Oe(l,2)*n),Pe(Oe(i,2)*(1-n)+Oe(u,2)*n),Pe(Oe(o,2)*(1-n)+Oe(c,2)*n),"rgb")},Be.lab=function(t,e,n){var r=t.lab(),a=e.lab();return new d(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"lab")};var ze=function(t,e,n,r){var a,i,o,s,l,u,c,f,h,p,g,v;return"hsl"===r?(o=t.hsl(),s=e.hsl()):"hsv"===r?(o=t.hsv(),s=e.hsv()):"hcg"===r?(o=t.hcg(),s=e.hcg()):"hsi"===r?(o=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",o=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(l=(a=o)[0],c=a[1],h=a[2],u=(i=s)[0],f=i[1],p=i[2]),isNaN(l)||isNaN(u)?isNaN(l)?isNaN(u)?v=Number.NaN:(v=u,1!=h&&0!=h||"hsv"==r||(g=f)):(v=l,1!=p&&0!=p||"hsv"==r||(g=c)):v=l+n*(u>l&&u-l>180?u-(l+360):u<l&&l-u>180?u+360-l:u-l),void 0===g&&(g=c+n*(f-c)),new d([v,g,h+n*(p-h)],r)},je=function(t,e,n){return ze(t,e,n,"lch")};Be.lch=je,Be.hcl=je,Be.num=function(t,e,n){var r=t.num(),a=e.num();return new d(r+n*(a-r),"num")},Be.hcg=function(t,e,n){return ze(t,e,n,"hcg")},Be.hsi=function(t,e,n){return ze(t,e,n,"hsi")},Be.hsl=function(t,e,n){return ze(t,e,n,"hsl")},Be.hsv=function(t,e,n){return ze(t,e,n,"hsv")};var Re=s.clip_rgb,Ye=Math.pow,Ie=Math.sqrt,He=Math.PI,Ue=Math.cos,qe=Math.sin,We=Math.atan2,Ve=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],a=0,i=t;a<i.length;a+=1){var o=i[a],s=o._rgb;r[0]+=Ye(s[0],2)*n,r[1]+=Ye(s[1],2)*n,r[2]+=Ye(s[2],2)*n,r[3]+=s[3]*n}return r[0]=Ie(r[0]),r[1]=Ie(r[1]),r[2]=Ie(r[2]),r[3]>.9999999&&(r[3]=1),new d(Re(r))},Ge=s.type,Xe=Math.pow,Ke=function(t){var e="rgb",n=g("#ccc"),r=0,a=[0,1],i=[],o=[0,0],s=!1,l=[],u=!1,c=0,f=1,h=!1,d={},p=!0,v=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Ge(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===Ge(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=g(t[e]);i.length=0;for(var n=0;n<t.length;n++)i.push(n/(t.length-1))}return x(),l=t},b=function(t){return t},y=function(t){return t},_=function(t,r){var a,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)u=t;else if(s&&s.length>2){var h=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t);u=h/(s.length-2)}else u=f!==c?(t-c)/(f-c):1;u=y(u),r||(u=b(u)),1!==v&&(u=Xe(u,v)),u=o[0]+u*(1-o[0]-o[1]),u=Math.min(1,Math.max(0,u));var m=Math.floor(1e4*u);if(p&&d[m])a=d[m];else{if("array"===Ge(l))for(var _=0;_<i.length;_++){var x=i[_];if(u<=x){a=l[_];break}if(u>=x&&_===i.length-1){a=l[_];break}if(u>x&&u<i[_+1]){u=(u-x)/(i[_+1]-x),a=g.interpolate(l[_],l[_+1],u,e);break}}else"function"===Ge(l)&&(a=l(u));p&&(d[m]=a)}return a},x=function(){return d={}};m(t);var w=function(t){var e=g(_(t));return u&&e[u]?e[u]():e};return w.classes=function(t){if(null!=t){if("array"===Ge(t))s=t,a=[t[0],t[t.length-1]];else{var e=g.analyze(a);s=0===t?[e.min,e.max]:g.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return a;c=t[0],f=t[t.length-1],i=[];var e=l.length;if(t.length===e&&c!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];i.push((o-c)/(f-c))}else{for(var s=0;s<e;s++)i.push(s/(e-1));if(t.length>2){var u=t.map(function(e,n){return n/(t.length-1)}),h=t.map(function(t){return(t-c)/(f-c)});h.every(function(t,e){return u[e]===t})||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]),r=u[e]+n*(u[e+1]-u[e]);return r})}}return a=[c,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return u=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),b=h?function(t){for(var e=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=e>n,a=_(t,!0).lab()[0],i=e+(n-e)*t,o=a-i,s=0,l=1,u=20;Math.abs(o)>.01&&u-->0;)r&&(o*=-1),o<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),a=_(t,!0).lab()[0],o=a-i;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Ge(t)&&(t=[t,t]),o=t,w):o},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var i=a[0],o=a[1]-i;r=Ze(0,e,!1).map(function(t){return w(i+t/(e-1)*o)})}else{t=[];var u=[];if(s&&s.length>2)for(var c=1,f=s.length,h=1<=f;h?c<f:c>f;h?c++:c--)u.push(.5*(s[c-1]+s[c]));else u=a;r=u.map(function(t){return w(t)})}return g[n]&&(r=r.map(function(t){return t[n]()})),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=g(t),w):n},w};function Ze(t,e,n){for(var r=[],a=t<e,i=n?a?e+1:e-1:e,o=t;a?o<i:o>i;a?o++:o--)r.push(o);return r}var Qe=function(t){var e,n,r,a,i,o,s;if(2===(t=t.map(function(t){return new d(t)})).length)e=t.map(function(t){return t.lab()}),i=e[0],o=e[1],a=function(t){var e=[0,1,2].map(function(e){return i[e]+t*(o[e]-i[e])});return new d(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),i=n[0],o=n[1],s=n[2],a=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*i[e]+2*(1-t)*t*o[e]+t*t*s[e]});return new d(e,"lab")};else if(4===t.length){var l;r=t.map(function(t){return t.lab()}),i=r[0],o=r[1],s=r[2],l=r[3],a=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*i[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]});return new d(e,"lab")}}else if(5===t.length){var u=Qe(t.slice(0,3)),c=Qe(t.slice(2,5));a=function(t){return t<.5?u(2*t):c(2*(t-.5))}}return a},Je=function(t,e,n){if(!Je[n])throw new Error("unknown blend mode "+n);return Je[n](t,e)},tn=function(t){return function(e,n){var r=g(n).rgb(),a=g(e).rgb();return g.rgb(t(r,a))}},en=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Je.normal=tn(en(function(t){return t})),Je.multiply=tn(en(function(t,e){return t*e/255})),Je.screen=tn(en(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),Je.overlay=tn(en(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),Je.darken=tn(en(function(t,e){return t>e?e:t})),Je.lighten=tn(en(function(t,e){return t>e?t:e})),Je.dodge=tn(en(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),Je.burn=tn(en(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var nn=Je,rn=s.type,an=s.clip_rgb,on=s.TWOPI,sn=Math.pow,ln=Math.sin,un=Math.cos,cn=Math.floor,fn=Math.random,hn=Math.log,dn=Math.pow,pn=Math.floor,gn=Math.abs,vn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===i(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===i(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return mn(n,t,e)},n},mn=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==i(t)&&(t=vn(t));var r=t.min,a=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,a];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(a)),"e"===e.substr(0,1)){s.push(r);for(var l=1;l<n;l++)s.push(r+l/n*(a-r));s.push(a)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*hn(r),c=Math.LOG10E*hn(a);s.push(r);for(var f=1;f<n;f++)s.push(dn(10,u+f/n*(c-u)));s.push(a)}else if("q"===e.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(o.length-1)*h/n,p=pn(d);if(p===d)s.push(o[p]);else{var g=d-p;s.push(o[p]*(1-g)+o[p+1]*g)}}s.push(a)}else if("k"===e.substr(0,1)){var v,m=o.length,b=new Array(m),y=new Array(n),_=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(a-r));for(w.push(a);_;){for(var M=0;M<n;M++)y[M]=0;for(var C=0;C<m;C++)for(var S=o[C],T=Number.MAX_VALUE,L=void 0,N=0;N<n;N++){var A=gn(w[N]-S);A<T&&(T=A,L=N),y[L]++,b[C]=L}for(var D=new Array(n),B=0;B<n;B++)D[B]=null;for(var F=0;F<m;F++)v=b[F],null===D[v]?D[v]=o[F]:D[v]+=o[F];for(var E=0;E<n;E++)D[E]*=1/y[E];_=!1;for(var $=0;$<n;$++)if(D[$]!==w[$]){_=!0;break}w=D,++x>200&&(_=!1)}for(var P={},O=0;O<n;O++)P[O]=[];for(var z=0;z<m;z++)v=b[z],P[v].push(o[z]);for(var j=[],R=0;R<n;R++)j.push(P[R][0]),j.push(P[R][P[R].length-1]);j=j.sort(function(t,e){return t-e}),s.push(j[0]);for(var Y=1;Y<j.length;Y+=2){var I=j[Y];isNaN(I)||-1!==s.indexOf(I)||s.push(I)}}return s},bn={analyze:vn,limits:mn},yn=Math.sqrt,_n=Math.atan2,xn=Math.abs,wn=Math.cos,kn=Math.PI,Mn={cool:function(){return Ke([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return Ke(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Cn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Sn=0,Tn=Object.keys(Cn);Sn<Tn.length;Sn+=1){var Ln=Tn[Sn];Cn[Ln.toLowerCase()]=Cn[Ln]}var Nn=Cn;return g.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new d(t)}),"lrgb"===e)return Ve(t);for(var r=t.shift(),a=r.get(e),i=[],o=0,s=0,l=0;l<a.length;l++)if(a[l]=a[l]||0,i.push(isNaN(a[l])?0:1),"h"===e.charAt(l)&&!isNaN(a[l])){var u=a[l]/180*He;o+=Ue(u),s+=qe(u)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<a.length;r++)if(!isNaN(n[r]))if(i[r]++,"h"===e.charAt(r)){var l=n[r]/180*He;o+=Ue(l),s+=qe(l)}else a[r]+=n[r]});for(var f=0;f<a.length;f++)if("h"===e.charAt(f)){for(var h=We(s/i[f],o/i[f])/He*180;h<0;)h+=360;for(;h>=360;)h-=360;a[f]=h}else a[f]=a[f]/i[f];return c/=n,new d(a,e).alpha(c>.99999?1:c,!0)},g.bezier=function(t){var e=Qe(t);return e.scale=function(){return Ke(e)},e},g.blend=nn,g.cubehelix=function(t,e,n,r,a){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=[0,1]);var i,o=0;"array"===rn(a)?i=a[1]-a[0]:(i=0,a=[a,a]);var s=function(s){var l=on*((t+120)/360+e*s),u=sn(a[0]+i*s,r),c=0!==o?n[0]+s*o:n,f=c*u*(1-u)/2,h=un(l),d=ln(l),p=u+f*(-.14861*h+1.78277*d),v=u+f*(-.29227*h-.90649*d),m=u+f*(1.97294*h);return g(an([255*p,255*v,255*m,1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===rn(n=t)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?a:("array"===rn(t)?(a=t,i=t[1]-t[0]):(a=[t,t],i=0),s)},s.scale=function(){return g.scale(s)},s.hue(n),s},g.mix=g.interpolate=Ee,g.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(cn(16*fn()));return new d(t,"hex")},g.scale=Ke,g.analyze=bn.analyze,g.contrast=function(t,e){t=new d(t),e=new d(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},g.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new d(t),e=new d(e);for(var a=Array.from(t.lab()),i=a[0],o=a[1],s=a[2],l=Array.from(e.lab()),u=l[0],c=l[1],f=l[2],h=yn(o*o+s*s),p=yn(c*c+f*f),g=i<16?.511:.040975*i/(1+.01765*i),v=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*_n(s,o)/kn;m<0;)m+=360;for(;m>=360;)m-=360;var b=m>=164&&m<=345?.56+xn(.2*wn(kn*(m+168)/180)):.36+xn(.4*wn(kn*(m+35)/180)),y=h*h*h*h,_=yn(y/(y+1900)),x=v*(_*b+1-_),w=h-p,k=o-c,M=s-f,C=(i-u)/(n*g),S=w/(r*v);return yn(C*C+S*S+(k*k+M*M-w*w)/(x*x))},g.distance=function(t,e,n){void 0===n&&(n="lab"),t=new d(t),e=new d(e);var r=t.get(n),a=e.get(n),i=0;for(var o in r){var s=(r[o]||0)-(a[o]||0);i+=s*s}return Math.sqrt(i)},g.limits=bn.limits,g.valid=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(t){return!1}},g.scales=Mn,g.colors=he,g.brewer=Nn,g}()});function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function a(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}dw.visualization.register("raphael-chart",{init:function(){this.__elements={},this.__labels={}},update:function(t){console.warn("vis.update(): override me!",t)},setRoot:function(t){this.__root=t,t.css({position:"relative"}),t.addClass(this.chart().get("type"))},getSize:function(){return[this.__w,this.__h]},initCanvas:function(t,e,n){var r=this.__root,a=this.size(),i=this.theme();return t=_.extend({w:a[0]-(e||0),h:a[1]-(n||0),rpad:i.padding.right,lpad:i.padding.left,bpad:i.padding.bottom,tpad:i.padding.top},t),a[0]<=100&&(t.bpad=t.tpad=t.lpad=t.rpad=5,t.bpad=t.tpad=15),t.root=r,t.paper=Raphael(r[0],t.w,t.h+2),r.height(t.h),$(".tooltip").hide(),this.__canvas=t,Raphael.easing_formulas.expoInOut=function(t,e,n,r,a){return 1e3,0,1,0===(e=1e3*t)?0:1e3==e?1:(e/=500)<1?.5*Math.pow(2,10*(e-1))+0:.5*(2-Math.pow(2,-10*--e))+0},$.extend(jQuery.easing,{expoIn:function(t,e,n,r,a){return 0==e?n:r*Math.pow(2,10*(e/a-1))+n},expoOut:function(t,e,n,r,a){return e==a?n+r:r*(1-Math.pow(2,-10*e/a))+n},expoInOut:function(t,e,n,r,a){return 0==e?n:e==a?n+r:(e/=a/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(2-Math.pow(2,-10*--e))+n}}),t},onMouseMove:function(t){var e=t.pageX-parseInt($(".dw-chart").css("padding-left"),10),n=t.pageY,r=this.getKeyByPoint(e,n,t),a=this.getDataRowByPoint(e,n),i=this.theme();r||(r=this.getKeyByLabel()),r?i.hover&&this.hover(r,a):i.hover&&this.hover()},registerElement:function(t,e,n){return t.data("key",e),_.isNumber(n)&&t.data("row",n),this.__elements[e]||(this.__elements[e]=[]),this.__elements[e].push(t),t},registerLabel:function(t,e,n,r){var a=this;return t.data("key",e),n&&!_.isUndefined(r)&&(t.el.attr("data-column",n),t.el.attr("data-row",r)),a.__labels[e]||(a.__labels[e]=[]),a.__labels[e].push(t),t.on("mouseenter",function(t){a.__hoveredLabel=t.target,clearTimeout(a.__mouseLeaveTimer)}),t.on("mouseleave",function(){a.__mouseLeaveTimer=setTimeout(function(){a.__hoveredLabel=null},100)}),t},getLabels:function(t){return this.__labels[t]||[]},hover:function(t){var e=this.__elements;_.each(e,function(e,n){var r=!t||n==t;_.each(e,function(t){t.animate({opacity:r?1:.5},80)})});var n=this.__labels;_.each(n,function(e,n){_.each(e,function(e){n==t?e.addClass("highlighted"):e.removeClass("highlighted")})})},path:function(t,e){var n=this.__canvas.paper.path(t);return e&&Raphael.svg&&$(n.node).attr("class",e),n},label:function(t,e,n,r){var a,i=this,o=Math.max(r.w||0,100),s={root:this.__canvas.root,align:"left",valign:"middle",cl:"",rotate:0,css:{position:"absolute",width:r.w?r.w:"auto"},x:t,y:e,txt:n};function l(){var t=s.w||i.labelWidth(s.txt,s.cl,s.size),e=s.h||a.height(),n=s.x,r=s.y,o={left:"left"==s.align?n:"center"==s.align?n-.5*t:n-t,top:r-e*("top"==s.valign?0:"middle"==s.valign?.5:1),width:t,height:e};return s.size&&(o["font-size"]=s.size),o}if($.extend(!0,s,r||{}),(a=$('<div class="label'+(s.cl?" "+s.cl:"")+'"><span>'+n+"</span></div>")).css(s.css),a.css({"text-align":s.align}),s.root.append(a),a.css($.extend({},s.css,l())),-90==s.rotate){a.find("span").width();var u="rotate(-90deg) translate("+.5*o+"px,0) ";a.css({"-moz-transform":u,"-webkit-transform":u,"-ms-transform":u,"-o-transform":u,filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"})}var c={el:a,text:function(t){return arguments.length?($("span",a).html(t),c):$("span",a).html()},animate:function(t,e,n){t.align!=s.align&&a.css({"text-align":t.align}),s.rotate&&t.valign!=s.valign&&a.css({"text-align":"top"==t.valign?"right":"left"}),t.txt!=s.txt&&c.text(t.txt),$.extend(s,t);var r=$.extend({},s.css,l());return e?a.stop().animate(r,e,n):a.css(r)}};return c.attr=c.animate,c.data=function(){return a.data.apply(a,arguments)},c.hide=function(){return a.hide.apply(a,arguments)},c.show=function(){return a.show.apply(a,arguments)},c.width=function(){return a.width.apply(a,arguments)},c.height=function(){return a.height.apply(a,arguments)},c.left=function(){return a.offset().left},c.top=function(){return a.offset().top},c.on=function(){return a.on.apply(a,arguments)},c.hasClass=function(){return a.hasClass.apply(a,arguments)},c.addClass=function(){return a.addClass.apply(a,arguments)},c.removeClass=function(){return a.removeClass.apply(a,arguments)},c.remove=function(){return a.remove.apply(a,arguments)},a.data("label",c),c},labelWidth:function(t,e,n){var r,a,i,o,s=this.__root.get(0);function l(t,e,n){return r.setAttribute("class","label "+(e?" "+e:"")),a.style.fontSize=n||null,a.innerHTML=t,o()}return(r=document.createElement("div")).style.position="absolute",r.style.left="-10000px",a=document.createElement("span"),r.appendChild(a),i=$(a),s.appendChild(r),o=_.isUndefined(a.offsetWidth)?function(){return i.outerWidth()}:function(){return a.offsetWidth},this.labelWidth=l,l(t,e,n)},labelHeight:function(t,e,n,r){var a,i,o,s,l=this.__root.get(0);function u(t,e,n,r){return a.setAttribute("class","label "+(e?" "+e:"")),a.style.width=n+"px",i.style.fontSize=r||null,i.innerHTML=t,s()}return(a=document.createElement("div")).style.position="absolute",a.style.left="-10000px",i=document.createElement("span"),a.appendChild(i),o=$(i),l.appendChild(a),s=_.isUndefined(i.offsetHeight)?function(){return o.height()}:function(){return i.offsetHeight},this.labelHeight=u,u(t,e,n,r)},orderSeriesElements:function(){var t=this;_.each(t.dataset.columns(),function(e){t.chart().isHighlighted(e)&&_.each(t.__elements[e.name()],function(t){t.toFront()})})},getKeyByPoint:function(t,e,n){var r=this.__canvas.paper.getElementByPoint(t,e);return r||(r=$(n.target)).hasClass("label")||(r=r.parents(".label")),r&&r.data("key")?r.data("key"):null},getKeyByLabel:function(){if(this.__hoveredLabel){var t=$(this.__hoveredLabel);if("span"===this.__hoveredLabel.nodeName.toLowerCase()&&(t=t.parent()),t.data("key"))return t.data("key")}return null},getDataRowByPoint:function(t,e){throw"getDataRowByPoint() needs to be implemented by each visualization"},_baseColor:function(){var t=this.get("base-color",0),e=this.theme().colors.palette;return!_.isString(t)?e[t]:t},_getColor:function(t,e,r){var a=this,i=r.key,o=a.theme(),s=a.theme().colors.palette,l=a._baseColor(),u="row"===a.meta["color-by"]?this.dataset.numRows():a.axesDef.columns.length,c=r.rotateLimit||0;if(!i&&t&&(i=t.name()),i){var f=a.get("custom-colors",{});if(f[i])return f[i]}if(r.byValue&&t)return r.byValue(t.val(e));if(t&&a.__colors&&a.__colors[i])return a.__colors[i];if(r.shadesMode&&c<u)for(var h in o.colors.mode.shades)if(h.toLowerCase()==l.toLowerCase()&&o.colors.mode.shades[h].length>e)return""+o.colors.mode.shades[h][e];if(c>=u)return""+s[(Math.max(0,s.indexOf(l))+e)%s.length];if(r.varyLightness){var d=n(l).lab(),p=Math.min(d[0],50),g=e/(a.dataset.numRows()-1);return n.lab(p+g*(91-p),d[1],d[2]).hex()}return l},getColor:function(t,e,r){var a=this.chart(),i=this._getColor(t,e,r);return t&&a.hasHighlight()&&!a.isHighlighted(t)?n.interpolate(i,this.theme().colors.background,.65,"rgb").hex():i},getKeyColor:function(t,e,r,a,i){var o=this,s=o.theme().colors.palette,l=(o.meta["color-by"],{});function u(t,e,r,a,i){var u;t=String(dw.utils.purifyHtml(t,""));var c=o.get("custom-colors",{});c[t]?(u=c[t],_.isNumber(u)&&(u=s[u%s.length])):u=e&&r?o.theme().colors[e<0?"negative":"positive"]:t&&o.__customColors&&o.__customColors[t]?o.__customColors[t]:o._baseColor();var f=n.hex(u),h=n.hex(o.theme().colors.background),d=h.lch();return t&&!o.chart().isHighlighted(t)?(l[u+"-hl"]||(l[u+"-hl"]=n.interpolate(f,h,d[0]<60?.7:.63)),i?u:l[u+"-hl"]):u}return o.getKeyColor=u,u(t,e,r,0,i)},setKeyColor:function(t,e){this.__customColors||(this.__customColors={}),this.__customColors[t]=e},hasKeyColor:function(t){return t=String(t),!(!this.__customColors||!this.__customColors[t])||!!this.get("custom-colors",{})[t]},getYTicks:function(t,e,n,r){var a=t.domain(),i=r?dw.utils.logTicks(a[0],a[1]):t.ticks(e/80),o=t(i[0]),s=t(i[i.length-1]);return n||(Math.abs(t(a[0])-o)<30&&i.shift(),Math.abs(s-t(a[1]))<30&&i.pop(),i.unshift(a[0]),i.push(a[1])),i},invertLabel:function(t){var e=n(t);return n(this.theme().colors.background).lab()[0]>60?e.lab()[0]<70:e.lab()[0]>60},signature:function(){var t={type:"raphael-chart",el:{}};return $.each(this.__elements,function(e,n){t.el[e]=n.length}),t},addLegend:function(t,e,n,r,a){if(!r)r=14;if(!a)a=14;var i=this,o=$('<div class="legend"></div>'),s=i.__canvas.lpad,l=0;_.each(t,function(t){div=$("<div></div>"),div.css({background:t.color,width:r,height:a,position:"absolute",left:s,top:l}),o.append(div),lbl=i.label(s+20,l,t.label,{valign:"left",root:o,css:{"line-height":a+"px"}}),t.key&&(div.attr("data-key",t.key),div.addClass("dw-rect"),lbl.el.attr("data-key",t.key),lbl.el.addClass("legend-text chart-text")),(s+=i.labelWidth(t.label)+30)>i.__canvas.w&&(l+=a+4,s=i.__canvas.lpad,div.css({top:l,left:s}),lbl.el.css({left:s+20,top:l-1}),s+=i.labelWidth(t.label)+30)}),o.css({position:"relative",top:n}),e.prepend(o)},optimizeLabelPositions:function(t,e,n,r,a){if(t.length){var i=1,o="top"==n?0:"middle"==n?.5:1,s=void 0===r?t[0].el.parent().offset().top:r;void 0===a&&t[0].el.parent().height();(t=_.filter(t,function(t){return t.el.is(":visible")})).length&&(_.each(t,function(t){t.__noverlap={otop:t.__attrs?t.__attrs.y:t.top(),top:t.__attrs?t.__attrs.y:t.top(),dy:0},t.height("auto")}),function n(){var r=!1;_.each(t,function(n,a){_.each(t,function(t,i){if(i>a){var s,l,u=n.left(),c=t.left(),f=u+n.width(),h=c+t.width(),d=n.__noverlap.top-e,p=t.__noverlap.top-e,g=d+n.height()+2*e,v=p+t.height()+2*e;c>f||h<u||p>g||v<d||(r=!0,s=Math.min(g,v)-Math.max(d,p),l=d+(g-d)*o<p+(v-p)*o,n.__noverlap.dy+=.5*s*(l?-1:1),t.__noverlap.dy+=.5*s*(l?1:-1))}})}),r&&_.each(t,function(t){t.__noverlap.top=Math.max(s,t.__noverlap.top+t.__noverlap.dy),t.__noverlap.dy=0}),r&&++i<10&&n()}(),_.each(t,function(t){t.__noverlap.dy=t.__noverlap.top-t.__noverlap.otop,t.__attrs||t.el.css({top:t.__noverlap.top-t.el.parent().offset().top})}))}},checkBrowserCompatibility:function(){return window.Raphael&&Raphael.type},clear:function(){_.each(this.__elements,function(t){_.each(t,function(t){t.remove()})}),_.each(this.__labels,function(t){_.each(t,function(t){t.remove()})}),this.__elements={},this.__labels={}},_svgCanvas:function(){return this.__canvas.paper.canvas}}),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),a=Math.max(0,16-(r-t)),i=window.setTimeout(function(){e(r+a)},a);return t=r+a,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var i=a(r).right;var o=Math.sqrt(50),s=Math.sqrt(10),l=Math.sqrt(2);function u(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=o?10:i>=s?5:i>=l?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=o?10:i>=s?5:i>=l?2:1)}function c(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=o?a*=10:i>=s?a*=5:i>=l&&(a*=2),e<t?-a:a}function f(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function h(){}function d(t,e){var n=new h;if(t instanceof h)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(null==e)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e(r=t[a],a,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function p(){}h.prototype=d.prototype={constructor:h,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var g=d.prototype;p.prototype=function(t,e){var n=new p;if(t instanceof p)t.each(function(t){n.add(t)});else if(t){var r=-1,a=t.length;if(null==e)for(;++r<a;)n.add(t[r]);else for(;++r<a;)n.add(e(t[r],r,t))}return n}.prototype={constructor:p,has:g.has,add:function(t){return this["$"+(t+="")]=t,this},remove:g.remove,clear:g.clear,values:g.keys,size:g.size,empty:g.empty,each:g.each};var v=Array.prototype,m=v.map,b=v.slice;function y(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function x(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function w(){}var k="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S=/^#([0-9a-f]{3})$/,T=/^#([0-9a-f]{6})$/,L=new RegExp("^rgb\\("+[k,k,k]+"\\)$"),N=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),A=new RegExp("^rgba\\("+[k,k,k,M]+"\\)$"),D=new RegExp("^rgba\\("+[C,C,C,M]+"\\)$"),B=new RegExp("^hsl\\("+[M,C,C]+"\\)$"),F=new RegExp("^hsla\\("+[M,C,C,M]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function P(t){var e;return t=(t+"").trim().toLowerCase(),(e=S.exec(t))?new Y((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=T.exec(t))?O(parseInt(e[1],16)):(e=L.exec(t))?new Y(e[1],e[2],e[3],1):(e=N.exec(t))?new Y(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=A.exec(t))?z(e[1],e[2],e[3],e[4]):(e=D.exec(t))?z(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?H(e[1],e[2]/100,e[3]/100,1):(e=F.exec(t))?H(e[1],e[2]/100,e[3]/100,e[4]):E.hasOwnProperty(t)?O(E[t]):"transparent"===t?new Y(NaN,NaN,NaN,0):null}function O(t){return new Y(t>>16&255,t>>8&255,255&t,1)}function z(t,e,n,r){return r<=0&&(t=e=n=NaN),new Y(t,e,n,r)}function j(t){return t instanceof w||(t=P(t)),t?new Y((t=t.rgb()).r,t.g,t.b,t.opacity):new Y}function R(t,e,n,r){return 1===arguments.length?j(t):new Y(t,e,n,null==r?1:r)}function Y(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function I(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function H(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new U(t,e,n,r)}function U(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function q(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}y(w,P,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),y(Y,R,x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+I(this.r)+I(this.g)+I(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),y(U,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof U)return new U(t.h,t.s,t.l,t.opacity);if(t instanceof w||(t=P(t)),!t)return new U;if(t instanceof U)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(o=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new U(o,s,l,t.opacity)}(t):new U(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new U(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new U(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Y(q(t>=240?t-240:t+120,a,r),q(t,a,r),q(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var W=Math.PI/180,V=180/Math.PI,G=.96422,X=1,K=.82521,Z=4/29,Q=6/29,J=3*Q*Q,tt=Q*Q*Q;function et(t){if(t instanceof rt)return new rt(t.l,t.a,t.b,t.opacity);if(t instanceof lt){if(isNaN(t.h))return new rt(t.l,0,0,t.opacity);var e=t.h*W;return new rt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Y||(t=j(t));var n,r,a=st(t.r),i=st(t.g),o=st(t.b),s=at((.2225045*a+.7168786*i+.0606169*o)/X);return a===i&&i===o?n=r=s:(n=at((.4360747*a+.3850649*i+.1430804*o)/G),r=at((.0139322*a+.0971045*i+.7141733*o)/K)),new rt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function nt(t,e,n,r){return 1===arguments.length?et(t):new rt(t,e,n,null==r?1:r)}function rt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function at(t){return t>tt?Math.pow(t,1/3):t/J+Z}function it(t){return t>Q?t*t*t:J*(t-Z)}function ot(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function st(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function lt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}y(rt,nt,x(w,{brighter:function(t){return new rt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new rt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Y(ot(3.1338561*(e=G*it(e))-1.6168667*(t=X*it(t))-.4906146*(n=K*it(n))),ot(-.9787684*e+1.9161415*t+.033454*n),ot(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),y(lt,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof lt)return new lt(t.h,t.c,t.l,t.opacity);if(t instanceof rt||(t=et(t)),0===t.a&&0===t.b)return new lt(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*V;return new lt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new lt(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return new lt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new lt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return et(this).rgb()}}));var ut=-.14861,ct=1.78277,ft=-.29227,ht=-.90649,dt=1.97294,pt=dt*ht,gt=dt*ct,vt=ct*ft-ht*ut;function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function bt(t){return function(){return t}}function yt(t){return 1==(t=+t)?_t:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):bt(isNaN(e)?n:e)}}function _t(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):bt(isNaN(t)?e:t)}y(mt,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);t instanceof Y||(t=j(t));var e=t.r/255,n=t.g/255,r=t.b/255,a=(vt*r+pt*e-gt*n)/(vt+pt-gt),i=r-a,o=(dt*(n-a)-ft*i)/ht,s=Math.sqrt(o*o+i*i)/(dt*a*(1-a)),l=s?Math.atan2(o,i)*V-120:NaN;return new mt(l<0?l+360:l,s,a,t.opacity)}(t):new mt(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*W,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),a=Math.sin(t);return new Y(255*(e+n*(ut*r+ct*a)),255*(e+n*(ft*r+ht*a)),255*(e+n*(dt*r)),this.opacity)}}));var xt=function t(e){var n=yt(e);function r(t,e){var r=n((t=R(t)).r,(e=R(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=_t(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function wt(t,e){return e-=t=+t,function(n){return t+e*n}}var kt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mt=new RegExp(kt.source,"g");function Ct(t,e){var n,r,a,i=kt.lastIndex=Mt.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=kt.exec(t))&&(r=Mt.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:wt(n,r)})),i=Mt.lastIndex;return i<e.length&&(a=e.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function St(t,e){var n,r=typeof e;return null==e||"boolean"===r?bt(e):("number"===r?wt:"string"===r?(n=P(e))?(e=n,xt):Ct:e instanceof P?xt:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=St(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=St(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}:wt)(t,e)}function Tt(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var Lt,Nt,At,Dt,Bt=180/Math.PI,Ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Et(t,e,n,r,a,i){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Bt,skewX:Math.atan(l)*Bt,scaleX:o,scaleY:s}}function $t(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var s=[],l=[];return i=t(i),o=t(o),function(t,r,a,i,o,s){if(t!==a||r!==i){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:wt(t,a)},{i:l-2,x:wt(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,s,l),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:wt(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,s,l),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:wt(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,s,l),function(t,e,n,r,i,o){if(t!==n||e!==r){var s=i.push(a(i)+"scale(",null,",",null,")");o.push({i:s-4,x:wt(t,n)},{i:s-2,x:wt(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,s,l),i=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Pt=$t(function(t){return"none"===t?Ft:(Lt||(Lt=document.createElement("DIV"),Nt=document.documentElement,At=document.defaultView),Lt.style.transform=t,t=At.getComputedStyle(Nt.appendChild(Lt),null).getPropertyValue("transform"),Nt.removeChild(Lt),Et(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ot=$t(function(t){return null==t?Ft:(Dt||(Dt=document.createElementNS("http://www.w3.org/2000/svg","g")),Dt.setAttribute("transform",t),(t=Dt.transform.baseVal.consolidate())?Et((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ft)},", ",")",")");Math.SQRT2;function zt(t){return+t}var jt=[0,1];function Rt(t){return t}function Yt(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function It(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Ht(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Yt(a,r),i=n(o,i)):(r=Yt(r,a),i=n(i,o)),function(t){return i(r(t))}}function Ut(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=Yt(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=i(t,e,1,r)-1;return o[n](a[n](e))}}function qt(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Wt(t,e){return function(){var t,e,n,r,a,i,o=jt,s=jt,l=St,u=Rt;function c(){return r=Math.min(o.length,s.length)>2?Ut:Ht,a=i=null,f}function f(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),s,l)))(t(u(e)))}return f.invert=function(n){return u(e((i||(i=r(s,o.map(t),wt)))(n)))},f.domain=function(t){return arguments.length?(o=m.call(t,zt),u===Rt||(u=It(o)),c()):o.slice()},f.range=function(t){return arguments.length?(s=b.call(t),c()):s.slice()},f.rangeRound=function(t){return s=b.call(t),l=Tt,c()},f.clamp=function(t){return arguments.length?(u=t?It(o):Rt,f):u!==Rt},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(t,e)}function Vt(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gt(t){return(t=Vt(Math.abs(t)))?t[1]:NaN}var Xt,Kt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zt(t){return new Qt(t)}function Qt(t){if(!(e=Kt.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Jt(t,e){var n=Vt(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}Zt.prototype=Qt.prototype,Qt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var te={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Jt(100*t,e)},r:Jt,s:function(t,e){var n=Vt(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Xt=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Vt(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ee(t){return t}var ne,re,ae,ie=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oe(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var a=t.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(t.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(n)}):ee,a=t.currency,i=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):ee,s=t.percent||"%";function l(t){var e=(t=Zt(t)).fill,n=t.align,l=t.sign,u=t.symbol,c=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):te[g]||(null==d&&(d=12),p=!0,g="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var v="$"===u?a[0]:"#"===u&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===u?a[1]:/[%p]/.test(g)?s:"",b=te[g],y=/[defgprs%]/.test(g);function _(t){var a,s,u,_=v,x=m;if("c"===g)x=b(t)+x,t="";else{var w=(t=+t)<0;if(t=b(Math.abs(t),d),p&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(a>0){if(!+t[r])break t;a=0}}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),_=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+_,x=("s"===g?ie[8+Xt/3]:"")+x+(w&&"("===l?")":""),y)for(a=-1,s=t.length;++a<s;)if(48>(u=t.charCodeAt(a))||u>57){x=(46===u?i+t.slice(a+1):t.slice(a))+x,t=t.slice(0,a);break}}h&&!c&&(t=r(t,1/0));var k=_.length+t.length+x.length,M=k<f?new Array(f-k+1).join(e):"";switch(h&&c&&(t=r(M+t,M.length?f-x.length:1/0),M=""),n){case"<":t=_+t+x+M;break;case"=":t=_+M+t+x;break;case"^":t=M.slice(0,k=M.length>>1)+_+t+x+M.slice(k);break;default:t=M+_+t+x}return o(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:l,formatPrefix:function(t,e){var n=l(((t=Zt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Gt(e)/3))),a=Math.pow(10,-r),i=ie[8+r/3];return function(t){return n(a*t)+i}}}}function se(t){return Math.max(0,-Gt(Math.abs(t)))}function le(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Gt(e)/3)))-Gt(Math.abs(t)))}function ue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gt(e)-Gt(t))+1}function ce(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,a,i,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=u(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++s<a;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(t-s)/o;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var a,i=c(t,e,n);switch((r=Zt(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=le(i,o))||(r.precision=a),ae(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ue(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=se(i))||(r.precision=a-2*("%"===r.type))}return re(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,o=a.length-1,s=a[i],l=a[o];return l<s&&(r=s,s=l,l=r,r=i,i=o,o=r),(r=u(s,l,n))>0?r=u(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=u(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(a[i]=Math.floor(s/r)*r,a[o]=Math.ceil(l/r)*r,e(a)):r<0&&(a[i]=Math.ceil(s*r)/r,a[o]=Math.floor(l*r)/r,e(a)),t},t}function fe(){var t=Wt(Rt,Rt);return t.copy=function(){return qt(t,fe())},f.apply(t,arguments),ce(t)}ne=oe({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),re=ne.format,ae=ne.formatPrefix;var he=new Date,de=new Date;function pe(t,e,n,r){function a(e){return t(e=new Date(+e)),e}return a.floor=a,a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,s=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return s;do{s.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return s},a.filter=function(n){return pe(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(a.count=function(e,r){return he.setTime(+e),de.setTime(+r),t(he),t(de),Math.floor(n(he,de))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var ge=pe(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ge.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?pe(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):ge:null};var ve=6e4,me=6048e5,be=pe(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),ye=pe(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*ve)},function(t,e){return(e-t)/ve},function(t){return t.getMinutes()}),_e=pe(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ve)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),xe=pe(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ve)/864e5},function(t){return t.getDate()-1});function we(t){return pe(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ve)/me})}var ke=we(0),Me=we(1),Ce=(we(2),we(3),we(4)),Se=(we(5),we(6),pe(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Te=pe(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Te.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pe(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};pe(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ve)},function(t,e){return(e-t)/ve},function(t){return t.getUTCMinutes()}),pe(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var Le=pe(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Ne(t){return pe(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/me})}var Ae=Ne(0),De=Ne(1),Be=(Ne(2),Ne(3),Ne(4)),Fe=(Ne(5),Ne(6),pe(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),pe(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function Ee(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $e(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pe(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Fe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pe(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Oe,ze,je,Re,Ye={"-":"",_:" ",0:"0"},Ie=/^\s*\d+/,He=/^%/,Ue=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function We(t){return t.replace(Ue,"\\$&")}function Ve(t){return new RegExp("^(?:"+t.map(We).join("|")+")","i")}function Ge(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Xe(t,e,n){var r=Ie.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){var r=Ie.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ze(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Je(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tn(t,e,n){var r=Ie.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function en(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rn(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function an(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){var r=Ie.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sn(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ln(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function un(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){var r=Ie.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fn(t,e,n){var r=Ie.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hn(t,e,n){var r=He.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dn(t,e,n){var r=Ie.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pn(t,e,n){var r=Ie.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function gn(t,e){return qe(t.getDate(),e,2)}function vn(t,e){return qe(t.getHours(),e,2)}function mn(t,e){return qe(t.getHours()%12||12,e,2)}function bn(t,e){return qe(1+xe.count(Te(t),t),e,3)}function yn(t,e){return qe(t.getMilliseconds(),e,3)}function _n(t,e){return yn(t,e)+"000"}function xn(t,e){return qe(t.getMonth()+1,e,2)}function wn(t,e){return qe(t.getMinutes(),e,2)}function kn(t,e){return qe(t.getSeconds(),e,2)}function Mn(t){var e=t.getDay();return 0===e?7:e}function Cn(t,e){return qe(ke.count(Te(t),t),e,2)}function Sn(t,e){var n=t.getDay();return t=n>=4||0===n?Ce(t):Ce.ceil(t),qe(Ce.count(Te(t),t)+(4===Te(t).getDay()),e,2)}function Tn(t){return t.getDay()}function Ln(t,e){return qe(Me.count(Te(t),t),e,2)}function Nn(t,e){return qe(t.getFullYear()%100,e,2)}function An(t,e){return qe(t.getFullYear()%1e4,e,4)}function Dn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function Bn(t,e){return qe(t.getUTCDate(),e,2)}function Fn(t,e){return qe(t.getUTCHours(),e,2)}function En(t,e){return qe(t.getUTCHours()%12||12,e,2)}function $n(t,e){return qe(1+Le.count(Fe(t),t),e,3)}function Pn(t,e){return qe(t.getUTCMilliseconds(),e,3)}function On(t,e){return Pn(t,e)+"000"}function zn(t,e){return qe(t.getUTCMonth()+1,e,2)}function jn(t,e){return qe(t.getUTCMinutes(),e,2)}function Rn(t,e){return qe(t.getUTCSeconds(),e,2)}function Yn(t){var e=t.getUTCDay();return 0===e?7:e}function In(t,e){return qe(Ae.count(Fe(t),t),e,2)}function Hn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Be(t):Be.ceil(t),qe(Be.count(Fe(t),t)+(4===Fe(t).getUTCDay()),e,2)}function Un(t){return t.getUTCDay()}function qn(t,e){return qe(De.count(Fe(t),t),e,2)}function Wn(t,e){return qe(t.getUTCFullYear()%100,e,2)}function Vn(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function Gn(){return"+0000"}function Xn(){return"%"}function Kn(t){return+t}function Zn(t){return Math.floor(+t/1e3)}!function(t){Oe=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ve(a),c=Ge(a),f=Ve(i),h=Ge(i),d=Ve(o),p=Ge(o),g=Ve(s),v=Ge(s),m=Ve(l),b=Ge(l),y={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:gn,e:gn,f:_n,H:vn,I:mn,j:bn,L:yn,m:xn,M:wn,p:function(t){return a[+(t.getHours()>=12)]},Q:Kn,s:Zn,S:kn,u:Mn,U:Cn,V:Sn,w:Tn,W:Ln,x:null,X:null,y:Nn,Y:An,Z:Dn,"%":Xn},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Bn,e:Bn,f:On,H:Fn,I:En,j:$n,L:Pn,m:zn,M:jn,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Kn,s:Zn,S:Rn,u:Yn,U:In,V:Hn,w:Un,W:qn,x:null,X:null,y:Wn,Y:Vn,Z:Gn,"%":Xn},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:an,e:an,f:fn,H:sn,I:sn,j:on,L:cn,m:rn,M:ln,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:dn,s:pn,S:un,u:Ke,U:Ze,V:Qe,w:Xe,W:Je,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:en,Y:tn,Z:nn,"%":hn};function w(t,e){return function(n){var r,a,i,o=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(a=Ye[r=t.charAt(++s)])?r=t.charAt(++s):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function k(t,e){return function(n){var r,a,i=Pe(1900);if(M(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=$e(Pe(i.y))).getUTCDay(),r=a>4||0===a?De.ceil(r):De(r),r=Le.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=e(Pe(i.y))).getDay(),r=a>4||0===a?Me.ceil(r):Me(r),r=xe.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?$e(Pe(i.y)).getUTCDay():e(Pe(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,$e(i)):e(i)}}function M(t,e,n,r){for(var a,i,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=x[a in Ye?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return y.x=w(n,y),y.X=w(r,y),y.c=w(e,y),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Ee);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,$e);return e.toString=function(){return t},e}}}(t),ze=Oe.format,Oe.parse,je=Oe.utcFormat,Re=Oe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||je("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Re("%Y-%m-%dT%H:%M:%S.%LZ");var Qn=1e3,Jn=60*Qn,tr=60*Jn,er=24*tr,nr=7*er,rr=30*er,ar=365*er;function ir(t){return new Date(t)}function or(t){return t instanceof Date?+t:+new Date(+t)}function sr(){return f.apply(function t(e,n,r,i,o,s,l,u,f){var h=Wt(Rt,Rt),d=h.invert,p=h.domain,g=f(".%L"),v=f(":%S"),b=f("%I:%M"),y=f("%I %p"),_=f("%a %d"),x=f("%b %d"),w=f("%B"),k=f("%Y"),M=[[l,1,Qn],[l,5,5*Qn],[l,15,15*Qn],[l,30,30*Qn],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[o,1,tr],[o,3,3*tr],[o,6,6*tr],[o,12,12*tr],[i,1,er],[i,2,2*er],[r,1,nr],[n,1,rr],[n,3,3*rr],[e,1,ar]];function C(t){return(l(t)<t?g:s(t)<t?v:o(t)<t?b:i(t)<t?y:n(t)<t?r(t)<t?_:x:e(t)<t?w:k)(t)}function S(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,s=a(function(t){return t[2]}).right(M,o);s===M.length?(i=c(n/ar,r/ar,t),t=e):s?(i=(s=M[o/M[s-1][2]<M[s][2]/o?s-1:s])[1],t=s[0]):(i=Math.max(c(n,r,t),1),t=u)}return null==i?t:t.every(i)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?p(m.call(t,or)):p().map(ir)},h.ticks=function(t,e){var n,r=p(),a=r[0],i=r[r.length-1],o=i<a;return o&&(n=a,a=i,i=n),n=(n=S(t,a,i,e))?n.range(a,i+1):[],o?n.reverse():n},h.tickFormat=function(t,e){return null==e?C:f(e)},h.nice=function(t,e){var n=p();return(t=S(t,n[0],n[n.length-1],e))?p(function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}(n,t)):h},h.copy=function(){return qt(h,t(e,n,r,i,o,s,l,u,f))},h}(Te,Se,ke,xe,_e,ye,be,ge,ze).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var lr=Object.prototype.toString;function ur(t){return"[object Date]"===lr.call(t)}var cr=e(function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var a=r[n];e["[object "+a+"]"]=a.toLowerCase()}var i=function(t){return e[Object.prototype.toString.call(t)]||"object"},o=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:i,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==i(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==i(t[e])?t[e].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},l={format:{},autodetect:[]},u=s.last,c=s.clip_rgb,f=s.type,h=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var a=u(e),i=!1;if(!a){i=!0,l.sorted||(l.autodetect=l.autodetect.sort(function(t,e){return e.p-t.p}),l.sorted=!0);for(var o=0,s=l.autodetect;o<s.length;o+=1){var h=s[o];if(a=h.test.apply(h,e))break}}if(!l.format[a])throw new Error("unknown format: "+e);var d=l.format[a].apply(null,i?e:e.slice(0,-1));r._rgb=c(d),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=h,p=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.0.6";var g=p,v=s.unpack,m=Math.max,b=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=v(e,"rgb"),a=r[0],i=r[1],o=r[2],s=1-m(a/=255,m(i/=255,o/=255)),l=s<1?1/(1-s):0,u=(1-a-s)*l,c=(1-i-s)*l,f=(1-o-s)*l;return[u,c,f,s]},y=s.unpack,_=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=y(e,"cmyk"))[0],a=e[1],i=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[r>=1?0:255*(1-r)*(1-o),a>=1?0:255*(1-a)*(1-o),i>=1?0:255*(1-i)*(1-o),s]},x=s.unpack,w=s.type;d.prototype.cmyk=function(){return b(this._rgb)},g.cmyk=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},l.format.cmyk=_,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var k=s.unpack,M=s.last,C=function(t){return Math.round(100*t)/100},S=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=k(e,"hsla"),a=M(e)||"lsa";return r[0]=C(r[0]||0),r[1]=C(100*r[1])+"%",r[2]=C(100*r[2])+"%","hsla"===a||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,a="hsla"):r.length=3,a+"("+r.join(",")+")"},T=s.unpack,L=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=T(e,"rgba"))[0],a=e[1],i=e[2];r/=255,a/=255,i/=255;var o,s,l=Math.min(r,a,i),u=Math.max(r,a,i),c=(u+l)/2;return u===l?(o=0,s=Number.NaN):o=c<.5?(u-l)/(u+l):(u-l)/(2-u-l),r==u?s=(a-i)/(u-l):a==u?s=2+(i-r)/(u-l):i==u&&(s=4+(r-a)/(u-l)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,c,e[3]]:[s,o,c]},N=s.unpack,A=s.last,D=Math.round,B=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=N(e,"rgba"),a=A(e)||"rgb";return"hsl"==a.substr(0,3)?S(L(r),a):(r[0]=D(r[0]),r[1]=D(r[1]),r[2]=D(r[2]),("rgba"===a||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,a="rgba"),a+"("+r.slice(0,"rgb"===a?3:4).join(",")+")")},F=s.unpack,E=Math.round,$=function(){for(var t,e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];var a,i,o,s=(n=F(n,"hsl"))[0],l=n[1],u=n[2];if(0===l)a=i=o=255*u;else{var c=[0,0,0],f=[0,0,0],h=u<.5?u*(1+l):u+l-u*l,d=2*u-h,p=s/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var g=0;g<3;g++)c[g]<0&&(c[g]+=1),c[g]>1&&(c[g]-=1),6*c[g]<1?f[g]=d+6*(h-d)*c[g]:2*c[g]<1?f[g]=h:3*c[g]<2?f[g]=d+(h-d)*(2/3-c[g])*6:f[g]=d;t=[E(255*f[0]),E(255*f[1]),E(255*f[2])],a=t[0],i=t[1],o=t[2]}return n.length>3?[a,i,o,n[3]]:[a,i,o,1]},P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,O=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,j=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=Math.round,H=function(t){var e;if(t=t.toLowerCase().trim(),l.format.named)try{return l.format.named(t)}catch(t){}if(e=t.match(P)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(O)){for(var a=e.slice(1,5),i=0;i<4;i++)a[i]=+a[i];return a}if(e=t.match(z)){for(var o=e.slice(1,4),s=0;s<3;s++)o[s]=I(2.55*o[s]);return o[3]=1,o}if(e=t.match(j)){for(var u=e.slice(1,5),c=0;c<3;c++)u[c]=I(2.55*u[c]);return u[3]=+u[3],u}if(e=t.match(R)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var h=$(f);return h[3]=1,h}if(e=t.match(Y)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var p=$(d);return p[3]=+e[4],p}};H.test=function(t){return P.test(t)||O.test(t)||z.test(t)||j.test(t)||R.test(t)||Y.test(t)};var U=H,q=s.type;d.prototype.css=function(t){return B(this._rgb,t)},g.css=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},l.format.css=U,l.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===q(t)&&U.test(t))return"css"}});var W=s.unpack;l.format.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=W(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var V=s.unpack,G=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a=V(e,"rgb"),i=a[0],o=a[1],s=a[2],l=Math.min(i,o,s),u=Math.max(i,o,s),c=u-l,f=100*c/255,h=l/(255-c)*100;return 0===c?r=Number.NaN:(i===u&&(r=(o-s)/c),o===u&&(r=2+(s-i)/c),s===u&&(r=4+(i-o)/c),(r*=60)<0&&(r+=360)),[r,f,h]},X=s.unpack,K=Math.floor,Z=function(){for(var t,e,n,r,a,i,o=arguments,s=[],l=arguments.length;l--;)s[l]=o[l];var u,c,f,h=(s=X(s,"hcg"))[0],d=s[1],p=s[2];p*=255;var g=255*d;if(0===d)u=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=K(h/=60),m=h-v,b=p*(1-d),y=b+g*(1-m),_=b+g*m,x=b+g;switch(v){case 0:u=(t=[x,_,b])[0],c=t[1],f=t[2];break;case 1:u=(e=[y,x,b])[0],c=e[1],f=e[2];break;case 2:u=(n=[b,x,_])[0],c=n[1],f=n[2];break;case 3:u=(r=[b,y,x])[0],c=r[1],f=r[2];break;case 4:u=(a=[_,b,x])[0],c=a[1],f=a[2];break;case 5:u=(i=[x,b,y])[0],c=i[1],f=i[2]}}return[u,c,f,s.length>3?s[3]:1]},Q=s.unpack,J=s.type;d.prototype.hcg=function(){return G(this._rgb)},g.hcg=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},l.format.hcg=Z,l.autodetect.push({p:1,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Q(e,"hcg"),"array"===J(e)&&3===e.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,rt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=tt(e,"rgba"),a=r[0],i=r[1],o=r[2],s=r[3],l=et(e)||"auto";void 0===s&&(s=1),"auto"===l&&(l=s<1?"rgba":"rgb"),a=nt(a),i=nt(i),o=nt(o);var u=a<<16|i<<8|o,c="000000"+u.toString(16);c=c.substr(c.length-6);var f="0"+nt(255*s).toString(16);switch(f=f.substr(f.length-2),l.toLowerCase()){case"rgba":return"#"+c+f;case"argb":return"#"+f+c;default:return"#"+c}},at=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,it=/^#?([A-Fa-f0-9]{8})$/,ot=function(t){if(t.match(at)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,a=255&e;return[n,r,a,1]}if(t.match(it)){9===t.length&&(t=t.substr(1));var i=parseInt(t,16),o=i>>24&255,s=i>>16&255,l=i>>8&255,u=Math.round((255&i)/255*100)/100;return[o,s,l,u]}throw new Error("unknown hex color: "+t)},st=s.type;d.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},l.format.hex=ot,l.autodetect.push({p:4,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var lt=s.unpack,ut=s.TWOPI,ct=Math.min,ft=Math.sqrt,ht=Math.acos,dt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a=lt(e,"rgb"),i=a[0],o=a[1],s=a[2],l=ct(i/=255,o/=255,s/=255),u=(i+o+s)/3,c=u>0?1-l/u:0;return 0===c?r=NaN:(r=(i-o+(i-s))/2,r/=ft((i-o)*(i-o)+(i-s)*(o-s)),r=ht(r),s>o&&(r=ut-r),r/=ut),[360*r,c,u]},pt=s.unpack,gt=s.limit,vt=s.TWOPI,mt=s.PITHIRD,bt=Math.cos,yt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o=(e=pt(e,"hsi"))[0],s=e[1],l=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(i=(1-s)/3,r=(1+s*bt(vt*o)/bt(mt-vt*o))/3,a=1-(i+r)):o<2/3?(r=(1-s)/3,a=(1+s*bt(vt*(o-=1/3))/bt(mt-vt*o))/3,i=1-(r+a)):(a=(1-s)/3,i=(1+s*bt(vt*(o-=2/3))/bt(mt-vt*o))/3,r=1-(a+i)),r=gt(l*r*3),a=gt(l*a*3),i=gt(l*i*3),[255*r,255*a,255*i,e.length>3?e[3]:1]},_t=s.unpack,xt=s.type;d.prototype.hsi=function(){return dt(this._rgb)},g.hsi=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},l.format.hsi=yt,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=_t(e,"hsi"),"array"===xt(e)&&3===e.length)return"hsi"}});var wt=s.unpack,kt=s.type;d.prototype.hsl=function(){return L(this._rgb)},g.hsl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},l.format.hsl=$,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=wt(e,"hsl"),"array"===kt(e)&&3===e.length)return"hsl"}});var Mt=s.unpack,Ct=Math.min,St=Math.max,Tt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o=(e=Mt(e,"rgb"))[0],s=e[1],l=e[2],u=Ct(o,s,l),c=St(o,s,l),f=c-u;return i=c/255,0===c?(r=Number.NaN,a=0):(a=f/c,o===c&&(r=(s-l)/f),s===c&&(r=2+(l-o)/f),l===c&&(r=4+(o-s)/f),(r*=60)<0&&(r+=360)),[r,a,i]},Lt=s.unpack,Nt=Math.floor,At=function(){for(var t,e,n,r,a,i,o=arguments,s=[],l=arguments.length;l--;)s[l]=o[l];var u,c,f,h=(s=Lt(s,"hsv"))[0],d=s[1],p=s[2];if(p*=255,0===d)u=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=Nt(h/=60),v=h-g,m=p*(1-d),b=p*(1-d*v),y=p*(1-d*(1-v));switch(g){case 0:u=(t=[p,y,m])[0],c=t[1],f=t[2];break;case 1:u=(e=[b,p,m])[0],c=e[1],f=e[2];break;case 2:u=(n=[m,p,y])[0],c=n[1],f=n[2];break;case 3:u=(r=[m,b,p])[0],c=r[1],f=r[2];break;case 4:u=(a=[y,m,p])[0],c=a[1],f=a[2];break;case 5:u=(i=[p,m,b])[0],c=i[1],f=i[2]}}return[u,c,f,s.length>3?s[3]:1]},Dt=s.unpack,Bt=s.type;d.prototype.hsv=function(){return Tt(this._rgb)},g.hsv=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},l.format.hsv=At,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Dt(e,"hsv"),"array"===Bt(e)&&3===e.length)return"hsv"}});var Ft={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Et=s.unpack,$t=Math.pow,Pt=function(t){return(t/=255)<=.04045?t/12.92:$t((t+.055)/1.055,2.4)},Ot=function(t){return t>Ft.t3?$t(t,1/3):t/Ft.t2+Ft.t0},zt=function(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=Ot((.4124564*t+.3575761*e+.1804375*n)/Ft.Xn),a=Ot((.2126729*t+.7151522*e+.072175*n)/Ft.Yn),i=Ot((.0193339*t+.119192*e+.9503041*n)/Ft.Zn);return[r,a,i]},jt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Et(e,"rgb"),a=r[0],i=r[1],o=r[2],s=zt(a,i,o),l=s[0],u=s[1],c=s[2],f=116*u-16;return[f<0?0:f,500*(l-u),200*(u-c)]},Rt=s.unpack,Yt=Math.pow,It=function(t){return 255*(t<=.00304?12.92*t:1.055*Yt(t,1/2.4)-.055)},Ht=function(t){return t>Ft.t1?t*t*t:Ft.t2*(t-Ft.t0)},Ut=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,a,i,o,s,l,u=(e=Rt(e,"lab"))[0],c=e[1],f=e[2];return a=(u+16)/116,r=isNaN(c)?a:a+c/500,i=isNaN(f)?a:a-f/200,a=Ft.Yn*Ht(a),r=Ft.Xn*Ht(r),i=Ft.Zn*Ht(i),o=It(3.2404542*r-1.5371385*a-.4985314*i),s=It(-.969266*r+1.8760108*a+.041556*i),l=It(.0556434*r-.2040259*a+1.0572252*i),[o,s,l,e.length>3?e[3]:1]},qt=s.unpack,Wt=s.type;d.prototype.lab=function(){return jt(this._rgb)},g.lab=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},l.format.lab=Ut,l.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=qt(e,"lab"),"array"===Wt(e)&&3===e.length)return"lab"}});var Vt=s.unpack,Gt=s.RAD2DEG,Xt=Math.sqrt,Kt=Math.atan2,Zt=Math.round,Qt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Vt(e,"lab"),a=r[0],i=r[1],o=r[2],s=Xt(i*i+o*o),l=(Kt(o,i)*Gt+360)%360;return 0===Zt(1e4*s)&&(l=Number.NaN),[a,s,l]},Jt=s.unpack,te=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Jt(e,"rgb"),a=r[0],i=r[1],o=r[2],s=jt(a,i,o),l=s[0],u=s[1],c=s[2];return Qt(l,u,c)},ee=s.unpack,ne=s.DEG2RAD,re=Math.sin,ae=Math.cos,ie=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ee(e,"lch"),a=r[0],i=r[1],o=r[2];return isNaN(o)&&(o=0),[a,ae(o*=ne)*i,re(o)*i]},oe=s.unpack,se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=oe(e,"lch"))[0],a=e[1],i=e[2],o=ie(r,a,i),s=o[0],l=o[1],u=o[2],c=Ut(s,l,u),f=c[0],h=c[1],d=c[2];return[f,h,d,e.length>3?e[3]:1]},le=s.unpack,ue=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=le(e,"hcl").reverse();return se.apply(void 0,r)},ce=s.unpack,fe=s.type;d.prototype.lch=function(){return te(this._rgb)},d.prototype.hcl=function(){return te(this._rgb).reverse()},g.lch=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},g.hcl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},l.format.lch=se,l.format.hcl=ue,["lch","hcl"].forEach(function(t){return l.autodetect.push({p:2,test:function(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];if(n=ce(n,t),"array"===fe(n)&&3===n.length)return t}})});var he={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},de=s.type;d.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),e=0,n=Object.keys(he);e<n.length;e+=1){var r=n[e];if(he[r]===t)return r.toLowerCase()}return t},l.format.named=function(t){if(t=t.toLowerCase(),he[t])return ot(he[t]);throw new Error("unknown color name: "+t)},l.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===de(t)&&he[t.toLowerCase()])return"named"}});var pe=s.unpack,ge=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=pe(e,"rgb"),a=r[0],i=r[1],o=r[2];return(a<<16)+(i<<8)+o},ve=s.type,me=function(t){if("number"==ve(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},be=s.type;d.prototype.num=function(){return ge(this._rgb)},g.num=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},l.format.num=me,l.autodetect.push({p:5,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(1===e.length&&"number"===be(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var ye=s.unpack,_e=s.type,xe=Math.round;d.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xe)},d.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:xe(e):e})},g.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},l.format.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ye(e,"rgba");return void 0===r[3]&&(r[3]=1),r},l.autodetect.push({p:3,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=ye(e,"rgba"),"array"===_e(e)&&(3===e.length||4===e.length&&"number"==_e(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var we=Math.log,ke=function(t){var e,n,r,a=t/100;return a<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=a-2)+104.49216199393888*we(n),r=a<20?0:.8274096064007395*(r=a-10)-254.76935184120902+115.67994401066147*we(r)):(e=351.97690566805693+.114206453784165*(e=a-55)-40.25366309332127*we(e),n=325.4494125711974+.07943456536662342*(n=a-50)-28.0852963507957*we(n),r=255),[e,n,r,1]},Me=s.unpack,Ce=Math.round,Se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];for(var r,a=Me(e,"rgb"),i=a[0],o=a[2],s=1e3,l=4e4,u=.4;l-s>u;){var c=ke(r=.5*(l+s));c[2]/c[0]>=o/i?l=r:s=r}return Ce(r)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return Se(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=ke;var Te=s.type;d.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Te(t)?e?(this._rgb[3]=t,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ft.Kn*t,new d(e,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],a=this[n]();if(r){var i=n.indexOf(r);if(i>-1)return a[i];throw new Error("unknown channel "+r+" in mode "+n)}return a};var Le=s.type,Ne=Math.pow;d.prototype.luminance=function(t){if(void 0!==t&&"number"===Le(t)){if(0===t)return new d([0,0,0,this._rgb[3]],"rgb");if(1===t)return new d([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,a){var i=e.interpolate(a,.5,"rgb"),o=i.luminance();return Math.abs(t-o)<1e-7||!n--?i:o>t?r(e,i):r(i,a)},a=(e>t?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(a.concat([this._rgb[3]]))}return Ae.apply(void 0,this._rgb.slice(0,3))};var Ae=function(t,e,n){return t=De(t),e=De(e),n=De(n),.2126*t+.7152*e+.0722*n},De=function(t){return(t/=255)<=.03928?t/12.92:Ne((t+.055)/1.055,2.4)},Be={},Fe=s.type,Ee=function(t,e,n){var r=arguments;void 0===n&&(n=.5);for(var a=[],i=arguments.length-3;i-->0;)a[i]=r[i+3];var o=a[0]||"lrgb";if(Be[o]||a.length||(o=Object.keys(Be)[0]),!Be[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Fe(t)&&(t=new d(t)),"object"!==Fe(e)&&(e=new d(e)),Be[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};d.prototype.mix=d.prototype.interpolate=function(t,e){var n=arguments;void 0===e&&(e=.5);for(var r=[],a=arguments.length-2;a-->0;)r[a]=n[a+2];return Ee.apply(void 0,[this,t,e].concat(r))},d.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new d([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},d.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ft.Kn*t,e[1]<0&&(e[1]=0),new d(e,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var $e=s.type;d.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),a=r[0],i=r[1],o=this[a]();if(i){var s=a.indexOf(i);if(s>-1){if("string"==$e(e))switch(e.charAt(0)){case"+":case"-":o[s]+=+e;break;case"*":o[s]*=+e.substr(1);break;case"/":o[s]/=+e.substr(1);break;default:o[s]=+e}else{if("number"!==$e(e))throw new Error("unsupported value for Color.set");o[s]=e}var l=new d(o,a);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+i+" in mode "+a)}return o},Be.rgb=function(t,e,n){var r=t._rgb,a=e._rgb;return new d(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"rgb")};var Pe=Math.sqrt,Oe=Math.pow;Be.lrgb=function(t,e,n){var r=t._rgb,a=r[0],i=r[1],o=r[2],s=e._rgb,l=s[0],u=s[1],c=s[2];return new d(Pe(Oe(a,2)*(1-n)+Oe(l,2)*n),Pe(Oe(i,2)*(1-n)+Oe(u,2)*n),Pe(Oe(o,2)*(1-n)+Oe(c,2)*n),"rgb")},Be.lab=function(t,e,n){var r=t.lab(),a=e.lab();return new d(r[0]+n*(a[0]-r[0]),r[1]+n*(a[1]-r[1]),r[2]+n*(a[2]-r[2]),"lab")};var ze=function(t,e,n,r){var a,i,o,s,l,u,c,f,h,p,g,v;return"hsl"===r?(o=t.hsl(),s=e.hsl()):"hsv"===r?(o=t.hsv(),s=e.hsv()):"hcg"===r?(o=t.hcg(),s=e.hcg()):"hsi"===r?(o=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",o=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(l=(a=o)[0],c=a[1],h=a[2],u=(i=s)[0],f=i[1],p=i[2]),isNaN(l)||isNaN(u)?isNaN(l)?isNaN(u)?v=Number.NaN:(v=u,1!=h&&0!=h||"hsv"==r||(g=f)):(v=l,1!=p&&0!=p||"hsv"==r||(g=c)):v=l+n*(u>l&&u-l>180?u-(l+360):u<l&&l-u>180?u+360-l:u-l),void 0===g&&(g=c+n*(f-c)),new d([v,g,h+n*(p-h)],r)},je=function(t,e,n){return ze(t,e,n,"lch")};Be.lch=je,Be.hcl=je,Be.num=function(t,e,n){var r=t.num(),a=e.num();return new d(r+n*(a-r),"num")},Be.hcg=function(t,e,n){return ze(t,e,n,"hcg")},Be.hsi=function(t,e,n){return ze(t,e,n,"hsi")},Be.hsl=function(t,e,n){return ze(t,e,n,"hsl")},Be.hsv=function(t,e,n){return ze(t,e,n,"hsv")};var Re=s.clip_rgb,Ye=Math.pow,Ie=Math.sqrt,He=Math.PI,Ue=Math.cos,qe=Math.sin,We=Math.atan2,Ve=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],a=0,i=t;a<i.length;a+=1){var o=i[a],s=o._rgb;r[0]+=Ye(s[0],2)*n,r[1]+=Ye(s[1],2)*n,r[2]+=Ye(s[2],2)*n,r[3]+=s[3]*n}return r[0]=Ie(r[0]),r[1]=Ie(r[1]),r[2]=Ie(r[2]),r[3]>.9999999&&(r[3]=1),new d(Re(r))},Ge=s.type,Xe=Math.pow,Ke=function(t){var e="rgb",n=g("#ccc"),r=0,a=[0,1],i=[],o=[0,0],s=!1,l=[],u=!1,c=0,f=1,h=!1,d={},p=!0,v=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Ge(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===Ge(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=g(t[e]);i.length=0;for(var n=0;n<t.length;n++)i.push(n/(t.length-1))}return x(),l=t},b=function(t){return t},y=function(t){return t},_=function(t,r){var a,u;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)u=t;else if(s&&s.length>2){var h=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t);u=h/(s.length-2)}else u=f!==c?(t-c)/(f-c):1;u=y(u),r||(u=b(u)),1!==v&&(u=Xe(u,v)),u=o[0]+u*(1-o[0]-o[1]),u=Math.min(1,Math.max(0,u));var m=Math.floor(1e4*u);if(p&&d[m])a=d[m];else{if("array"===Ge(l))for(var _=0;_<i.length;_++){var x=i[_];if(u<=x){a=l[_];break}if(u>=x&&_===i.length-1){a=l[_];break}if(u>x&&u<i[_+1]){u=(u-x)/(i[_+1]-x),a=g.interpolate(l[_],l[_+1],u,e);break}}else"function"===Ge(l)&&(a=l(u));p&&(d[m]=a)}return a},x=function(){return d={}};m(t);var w=function(t){var e=g(_(t));return u&&e[u]?e[u]():e};return w.classes=function(t){if(null!=t){if("array"===Ge(t))s=t,a=[t[0],t[t.length-1]];else{var e=g.analyze(a);s=0===t?[e.min,e.max]:g.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return a;c=t[0],f=t[t.length-1],i=[];var e=l.length;if(t.length===e&&c!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];i.push((o-c)/(f-c))}else{for(var s=0;s<e;s++)i.push(s/(e-1));if(t.length>2){var u=t.map(function(e,n){return n/(t.length-1)}),h=t.map(function(t){return(t-c)/(f-c)});h.every(function(t,e){return u[e]===t})||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]),r=u[e]+n*(u[e+1]-u[e]);return r})}}return a=[c,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return u=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),b=h?function(t){for(var e=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=e>n,a=_(t,!0).lab()[0],i=e+(n-e)*t,o=a-i,s=0,l=1,u=20;Math.abs(o)>.01&&u-->0;)r&&(o*=-1),o<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),a=_(t,!0).lab()[0],o=a-i;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Ge(t)&&(t=[t,t]),o=t,w):o},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=l.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var i=a[0],o=a[1]-i;r=Ze(0,e,!1).map(function(t){return w(i+t/(e-1)*o)})}else{t=[];var u=[];if(s&&s.length>2)for(var c=1,f=s.length,h=1<=f;h?c<f:c>f;h?c++:c--)u.push(.5*(s[c-1]+s[c]));else u=a;r=u.map(function(t){return w(t)})}return g[n]&&(r=r.map(function(t){return t[n]()})),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=g(t),w):n},w};function Ze(t,e,n){for(var r=[],a=t<e,i=n?a?e+1:e-1:e,o=t;a?o<i:o>i;a?o++:o--)r.push(o);return r}var Qe=function(t){var e,n,r,a,i,o,s;if(2===(t=t.map(function(t){return new d(t)})).length)e=t.map(function(t){return t.lab()}),i=e[0],o=e[1],a=function(t){var e=[0,1,2].map(function(e){return i[e]+t*(o[e]-i[e])});return new d(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),i=n[0],o=n[1],s=n[2],a=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*i[e]+2*(1-t)*t*o[e]+t*t*s[e]});return new d(e,"lab")};else if(4===t.length){var l;r=t.map(function(t){return t.lab()}),i=r[0],o=r[1],s=r[2],l=r[3],a=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*i[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]});return new d(e,"lab")}}else if(5===t.length){var u=Qe(t.slice(0,3)),c=Qe(t.slice(2,5));a=function(t){return t<.5?u(2*t):c(2*(t-.5))}}return a},Je=function(t,e,n){if(!Je[n])throw new Error("unknown blend mode "+n);return Je[n](t,e)},tn=function(t){return function(e,n){var r=g(n).rgb(),a=g(e).rgb();return g.rgb(t(r,a))}},en=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Je.normal=tn(en(function(t){return t})),Je.multiply=tn(en(function(t,e){return t*e/255})),Je.screen=tn(en(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),Je.overlay=tn(en(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),Je.darken=tn(en(function(t,e){return t>e?e:t})),Je.lighten=tn(en(function(t,e){return t>e?t:e})),Je.dodge=tn(en(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),Je.burn=tn(en(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var nn=Je,rn=s.type,an=s.clip_rgb,on=s.TWOPI,sn=Math.pow,ln=Math.sin,un=Math.cos,cn=Math.floor,fn=Math.random,hn=Math.log,dn=Math.pow,pn=Math.floor,gn=Math.abs,vn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===i(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===i(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return mn(n,t,e)},n},mn=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==i(t)&&(t=vn(t));var r=t.min,a=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,a];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(a)),"e"===e.substr(0,1)){s.push(r);for(var l=1;l<n;l++)s.push(r+l/n*(a-r));s.push(a)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*hn(r),c=Math.LOG10E*hn(a);s.push(r);for(var f=1;f<n;f++)s.push(dn(10,u+f/n*(c-u)));s.push(a)}else if("q"===e.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(o.length-1)*h/n,p=pn(d);if(p===d)s.push(o[p]);else{var g=d-p;s.push(o[p]*(1-g)+o[p+1]*g)}}s.push(a)}else if("k"===e.substr(0,1)){var v,m=o.length,b=new Array(m),y=new Array(n),_=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(a-r));for(w.push(a);_;){for(var M=0;M<n;M++)y[M]=0;for(var C=0;C<m;C++)for(var S=o[C],T=Number.MAX_VALUE,L=void 0,N=0;N<n;N++){var A=gn(w[N]-S);A<T&&(T=A,L=N),y[L]++,b[C]=L}for(var D=new Array(n),B=0;B<n;B++)D[B]=null;for(var F=0;F<m;F++)v=b[F],null===D[v]?D[v]=o[F]:D[v]+=o[F];for(var E=0;E<n;E++)D[E]*=1/y[E];_=!1;for(var $=0;$<n;$++)if(D[$]!==w[$]){_=!0;break}w=D,++x>200&&(_=!1)}for(var P={},O=0;O<n;O++)P[O]=[];for(var z=0;z<m;z++)v=b[z],P[v].push(o[z]);for(var j=[],R=0;R<n;R++)j.push(P[R][0]),j.push(P[R][P[R].length-1]);j=j.sort(function(t,e){return t-e}),s.push(j[0]);for(var Y=1;Y<j.length;Y+=2){var I=j[Y];isNaN(I)||-1!==s.indexOf(I)||s.push(I)}}return s},bn={analyze:vn,limits:mn},yn=Math.sqrt,_n=Math.atan2,xn=Math.abs,wn=Math.cos,kn=Math.PI,Mn={cool:function(){return Ke([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return Ke(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Cn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Sn=0,Tn=Object.keys(Cn);Sn<Tn.length;Sn+=1){var Ln=Tn[Sn];Cn[Ln.toLowerCase()]=Cn[Ln]}var Nn=Cn;return g.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new d(t)}),"lrgb"===e)return Ve(t);for(var r=t.shift(),a=r.get(e),i=[],o=0,s=0,l=0;l<a.length;l++)if(a[l]=a[l]||0,i.push(isNaN(a[l])?0:1),"h"===e.charAt(l)&&!isNaN(a[l])){var u=a[l]/180*He;o+=Ue(u),s+=qe(u)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<a.length;r++)if(!isNaN(n[r]))if(i[r]++,"h"===e.charAt(r)){var l=n[r]/180*He;o+=Ue(l),s+=qe(l)}else a[r]+=n[r]});for(var f=0;f<a.length;f++)if("h"===e.charAt(f)){for(var h=We(s/i[f],o/i[f])/He*180;h<0;)h+=360;for(;h>=360;)h-=360;a[f]=h}else a[f]=a[f]/i[f];return c/=n,new d(a,e).alpha(c>.99999?1:c,!0)},g.bezier=function(t){var e=Qe(t);return e.scale=function(){return Ke(e)},e},g.blend=nn,g.cubehelix=function(t,e,n,r,a){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===a&&(a=[0,1]);var i,o=0;"array"===rn(a)?i=a[1]-a[0]:(i=0,a=[a,a]);var s=function(s){var l=on*((t+120)/360+e*s),u=sn(a[0]+i*s,r),c=0!==o?n[0]+s*o:n,f=c*u*(1-u)/2,h=un(l),d=ln(l),p=u+f*(-.14861*h+1.78277*d),v=u+f*(-.29227*h-.90649*d),m=u+f*(1.97294*h);return g(an([255*p,255*v,255*m,1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===rn(n=t)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?a:("array"===rn(t)?(a=t,i=t[1]-t[0]):(a=[t,t],i=0),s)},s.scale=function(){return g.scale(s)},s.hue(n),s},g.mix=g.interpolate=Ee,g.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(cn(16*fn()));return new d(t,"hex")},g.scale=Ke,g.analyze=bn.analyze,g.contrast=function(t,e){t=new d(t),e=new d(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},g.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new d(t),e=new d(e);for(var a=Array.from(t.lab()),i=a[0],o=a[1],s=a[2],l=Array.from(e.lab()),u=l[0],c=l[1],f=l[2],h=yn(o*o+s*s),p=yn(c*c+f*f),g=i<16?.511:.040975*i/(1+.01765*i),v=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*_n(s,o)/kn;m<0;)m+=360;for(;m>=360;)m-=360;var b=m>=164&&m<=345?.56+xn(.2*wn(kn*(m+168)/180)):.36+xn(.4*wn(kn*(m+35)/180)),y=h*h*h*h,_=yn(y/(y+1900)),x=v*(_*b+1-_),w=h-p,k=o-c,M=s-f,C=(i-u)/(n*g),S=w/(r*v);return yn(C*C+S*S+(k*k+M*M-w*w)/(x*x))},g.distance=function(t,e,n){void 0===n&&(n="lab"),t=new d(t),e=new d(e);var r=t.get(n),a=e.get(n),i=0;for(var o in r){var s=(r[o]||0)-(a[o]||0);i+=s*s}return Math.sqrt(i)},g.limits=bn.limits,g.valid=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(t){return!1}},g.scales=Mn,g.colors=he,g.brewer=Nn,g}()});function fr(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),a=t,i=0;i<r.length&&null!=a;i++)a=a[r[i]];return null==a?n:a}function hr(t){var e=function(t){var e=t.colors.chartContentBaseColor||(cr.contrast(t.colors.background,"#000000")<5.5?"#f1f1f1":"#333333"),n={tickText:{secondary:fr(t,"colors.bgBlendRatios.tickText.secondary",cr(t.colors.background).luminance()<.5?.6:.4),primary:fr(t,"colors.bgBlendRatios.tickText.primary",.2)},series:fr(t,"colors.bgBlendRatios.series",0),value:fr(t,"colors.bgBlendRatios.value",.2),axis:fr(t,"colors.bgBlendRatios.axis",0),gridline:fr(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:cr.mix(e,t.colors.background,n.tickText.secondary).hex(),primary:cr.mix(e,t.colors.background,n.tickText.primary).hex()},series:cr.mix(e,t.colors.background,n.series).hex(),value:cr.mix(e,t.colors.background,n.value).hex(),axis:cr.mix(e,t.colors.background,n.axis).hex(),gridline:cr.mix(e,t.colors.background,n.gridline).hex(),fallbackBaseColor:e}}(t),n=["vis.column-chart","style.chart"];return{gridline:!!dr(t,"axes.gridlines.color",n)&&e.gridline,axis:!!dr(t,"axes.gridlines.baselineColor",n)&&e.axis,tickText:!!dr(t,"labels.ticks.secondary.color",n)&&e.tickText.secondary,seriesText:!!dr(t,"labels.series.color",n)&&e.series,valueText:!!dr(t,"labels.values.color",n)&&e.value,fallback:e.fallback}}function dr(t,e,n){var r=!0;return n.forEach(function(n){fr(t,n+"."+e)&&(r=!1)}),r}function pr(t,e,n,r){var a=nt(t),i=n?[Math.min(a.l,r[0]),Math.max(a.l,r[1])]:r,o=i[0],s=i[1],l=1===e?[a.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(St(o,s),e);if(n&&!l.includes(a.l)){var u=l.reduce(function(t,e){return Math.abs(t)>Math.abs(a.l-e)?a.l-e:t},100);l=l.map(function(t){return t+u})}return(l=l.map(function(t){return nt(t,a.a,a.b)})).map(function(t){return t.hex()})}function gr(t,e){void 0===t&&(t=new Error("cant create getColor function without theme")),void 0===e&&(e={});var n=e.selectedColor;void 0===n&&(n=0);var r=e.customColors;void 0===r&&(r={});var a=e.keys;void 0===a&&(a=[]);var i=e.permute,o=e.includeBaseColor;void 0===o&&(o=!0);var s=e.lightnessRange;void 0===s&&(s=[30,90]);var l=e.positiveColor;void 0===l&&(l=!1);var u=e.negativeColor;void 0===u&&(u=!1);var c=e.neutralColor;void 0===c&&(c=!1);var f=t.colors.palette;n=isNaN(n)?n:f[n%f.length];var h=a.length-Object.keys(r).filter(function(t){return""!==r[t].toString()&&a.includes(t)}).length,d=[];if(r&&Object.keys(r).length){var p={};Object.keys(r).forEach(function(t){String(r[t]).length&&(p[t]=isNaN(r[t])?r[t]:f[r[t]])}),Object.keys(p).length&&d.push(vr(p))}(l||u||c)&&d.push(mr(l?t.colors.positive:n,u?t.colors.negative:n,c?t.colors.neutral:l?t.colors.positive:n));var g=t.colors.mode;if(g&&h>0&&(g.rotateLimit>=h?d.push(br(f,n)):g.shades&&g.shades[n]&&d.push(yr(g.shades[n],h))),h>0){i=void 0===i?h>4:i;var v=pr(n,h,o,s=h<=3?[30,60]:s);i&&(v=function(t){t.reverse();var e=t.length;if(e<3)return t.slice(0);var n=0,r=-2,a=[],i={},o=Math.ceil(e/2.5);do{!i[n%=e]&&(e<5||Math.abs(r-n)>1)?(a.push(t[n]),i[n]=!0,r=n,n+=o):n+=1}while(a.length<e);return a}(v)),d.push(_r(v))}return function(t,e,r){var a=null;return d.find(function(n){return null!=(a=n({key:t,i:e,value:r}))}),null==a&&(a=n),a}}var vr=function(t){return function(e){return t.hasOwnProperty(e.key)?t[String(e.key)]:null}},mr=function(t,e,n){return function(r){return r.value>0?t:r.value<0?e:n}},br=function(t,e){return function(n){return t[(Math.max(0,t.indexOf(e))+n.i)%t.length]}},yr=function(t,e){return function(n){if("string"!=typeof t[0]){t.sort(function(t,e){return t.length-e.length});var r=t.length-1;return t.forEach(function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)}),t[r][n.i%t[r].length]}return t[n.i%t.length]}},_r=function(t){var e=0,n=[];return function(r){return n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null}};function xr(t){return function(e,n){if(window.parent&&window.parent.postMessage){var r={source:"datawrapper",chartId:t,type:e,data:n};window.parent.postMessage(r,"*")}}}var wr="http://www.w3.org/1999/xhtml",kr={svg:"http://www.w3.org/2000/svg",xhtml:wr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),kr.hasOwnProperty(e)?{space:kr[e],local:t}:t}function Cr(t){var e=Mr(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wr&&e.documentElement.namespaceURI===wr?e.createElement(t):e.createElementNS(n,t)}})(e)}function Sr(){}function Tr(t){return null==t?Sr:function(){return this.querySelector(t)}}function Lr(){return[]}function Nr(t){return null==t?Lr:function(){return this.querySelectorAll(t)}}function Ar(t){return function(){return this.matches(t)}}function Dr(t){return new Array(t.length)}function Br(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Br.prototype={constructor:Br,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fr="$";function Er(t,e,n,r,a,i){for(var o,s=0,l=e.length,u=i.length;s<u;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new Br(t,i[s]);for(;s<l;++s)(o=e[s])&&(a[s]=o)}function $r(t,e,n,r,a,i,o){var s,l,u,c={},f=e.length,h=i.length,d=new Array(f);for(s=0;s<f;++s)(l=e[s])&&(d[s]=u=Fr+o.call(l,l.__data__,s,e),u in c?a[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u=Fr+o.call(t,i[s],s,i)])?(r[s]=l,l.__data__=i[s],c[u]=null):n[s]=new Br(t,i[s]);for(s=0;s<f;++s)(l=e[s])&&c[d[s]]===l&&(a[s]=l)}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Or(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zr(t,e){return t.style.getPropertyValue(e)||Or(t).getComputedStyle(t,null).getPropertyValue(e)}function jr(t){return t.trim().split(/^|\s+/)}function Rr(t){return t.classList||new Yr(t)}function Yr(t){this._node=t,this._names=jr(t.getAttribute("class")||"")}function Ir(t,e){for(var n=Rr(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function Hr(t,e){for(var n=Rr(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Ur(){this.textContent=""}function qr(){this.innerHTML=""}function Wr(){this.nextSibling&&this.parentNode.appendChild(this)}function Vr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gr(){return null}function Xr(){var t=this.parentNode;t&&t.removeChild(this)}function Kr(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Zr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Yr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qr={},Jr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Qr={mouseenter:"mouseover",mouseleave:"mouseout"}));function ta(t,e,n){return t=ea(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ea(t,e,n){return function(r){var a=Jr;Jr=r;try{t.call(this,this.__data__,e,n)}finally{Jr=a}}}function na(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.capture);++a?e.length=a:delete this.__on}}}function ra(t,e,n){var r=Qr.hasOwnProperty(t.type)?ta:ea;return function(a,i,o){var s,l=this.__on,u=r(e,i,o);if(l)for(var c=0,f=l.length;c<f;++c)if((s=l[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=u,s.capture=n),void(s.value=e);this.addEventListener(t.type,u,n),s={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(s):this.__on=[s]}}function aa(t,e,n){var r=Or(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}var ia=[null];function oa(t,e){this._groups=t,this._parents=e}function sa(){return new oa([[document.documentElement]],ia)}function la(t){return"string"==typeof t?new oa([[document.querySelector(t)]],[document.documentElement]):new oa([[t]],ia)}function ua(){for(var t,e=Jr;t=e.sourceEvent;)e=t;return e}function ca(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function fa(){return null}oa.prototype=sa.prototype={constructor:oa,select:function(t){"function"!=typeof t&&(t=Tr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,s=e[a],l=s.length,u=r[a]=new Array(l),c=0;c<l;++c)(i=s[c])&&(o=t.call(i,i.__data__,c,s))&&("__data__"in i&&(o.__data__=i.__data__),u[c]=o);return new oa(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Nr(t));for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,s=e[i],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),a.push(o));return new oa(r,a)},filter:function(t){"function"!=typeof t&&(t=Ar(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,l=r[a]=[],u=0;u<s;++u)(i=o[u])&&t.call(i,i.__data__,u,o)&&l.push(i);return new oa(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?$r:Er,a=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=i.length,s=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var f=a[c],h=i[c],d=h.length,p=t.call(f,f&&f.__data__,c,a),g=p.length,v=l[c]=new Array(g),m=s[c]=new Array(g);r(f,h,v,m,u[c]=new Array(d),p,e);for(var b,y,_=0,x=0;_<g;++_)if(b=v[_]){for(_>=x&&(x=_+1);!(y=m[x])&&++x<g;);b._next=y||null}}return(s=new oa(s,a))._enter=l,s._exit=u,s},enter:function(){return new oa(this._enter||this._groups.map(Dr),this._parents)},exit:function(){return new oa(this._exit||this._groups.map(Dr),this._parents)},join:function(t,e,n){var r=this.enter(),a=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(a=e(a)),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l,u=e[s],c=n[s],f=u.length,h=o[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)o[s]=e[s];return new oa(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Pr);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,s=n[i],l=s.length,u=a[i]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(e)}return new oa(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=Mr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):zr(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=jr(t+"");if(arguments.length<2){for(var r=Rr(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Ir:Hr)(this,t)}}:e?function(t){return function(){Ir(this,t)}}:function(t){return function(){Hr(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Ur:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qr:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Wr)},lower:function(){return this.each(Vr)},append:function(t){var e="function"==typeof t?t:Cr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Cr(t),r=null==e?Gr:"function"==typeof e?e:Tr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Xr)},clone:function(t){return this.select(t?Zr:Kr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=i.length;if(!(arguments.length<2)){for(s=e?ra:na,null==n&&(n=!1),r=0;r<o;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<o;++r)if((a=i[r]).type===l.type&&a.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return aa(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return aa(this,t,e)}})(t,e))}};var ha=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;sa.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",function(n,r){var a="function"==typeof t?t.call(this,n,r):t;return 0===e?a=[a,0]:1===e&&(a=[0,a]),"translate("+a[0]+","+a[1]+")"}):this.style("transform",function(n,r){var a="function"==typeof t?t.call(this,n,r):t;return 0===e?a=[a,0]:1===e&&(a=[0,a]),"translate("+a[0]+"px,"+a[1]+"px)"}):this},sa.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=ca(t),e=Cr(n.tag));var r=this.select(function(){return this.appendChild(e.apply(this,arguments))});if(n)for(var a in n.attr)r.attr(a,n.attr[a]);return r},sa.prototype.insert=function(t,e){var n=ca(t),r=Cr(n.tag),a=null==e?fa:"function"==typeof e?e:Tr(e),i=this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)});for(var o in n.attr)i.attr(o,n.attr[o]);return i},sa.prototype.parent=function(){var t=[];return this.filter(function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},sa.prototype.selectAppend=function(t){var e,n=Tr(t),r=ca(t);for(var a in t=Cr(r.tag),e=this.select(function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),r.attr)e.attr(a,r.attr[a]);return e},sa.prototype.tspans=function(t,e){return this.selectAll("tspan").data(function(e){return("function"==typeof t?t(e):t).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,n){return n?("function"==typeof e?e(t.parent,t.line,n):e)||15:0})},sa.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},sa.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(ha.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},sa.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){var r;return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){var t=r.apply(this,arguments);return a(t)}):a(n)):t.style(e,n),t}function a(t){return t.match?t:t+"px"}},sa.prototype.prop=sa.prototype.property;var da={value:function(){}};function pa(){for(var t,e=arguments,n=0,r=arguments.length,a={};n<r;++n){if(!(t=e[n]+"")||t in a)throw new Error("illegal type: "+t);a[t]=[]}return new ga(a)}function ga(t){this._=t}function va(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function ma(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function ba(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=da,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}ga.prototype=pa.prototype={constructor:ga,on:function(t,e){var n,r=this._,a=va(t+"",r),i=-1,o=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<o;)if(n=(t=a[i]).type)r[n]=ba(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ba(r[n],t.name,null);return this}for(;++i<o;)if((n=(t=a[i]).type)&&(n=ma(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ga(t)},call:function(t,e){var n=arguments;if((r=arguments.length-2)>0)for(var r,a,i=new Array(r),o=0;o<r;++o)i[o]=n[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(a=this._[t]).length;o<r;++o)a[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var ya,_a,xa=0,wa=0,ka=0,Ma=1e3,Ca=0,Sa=0,Ta=0,La="object"==typeof performance&&performance.now?performance:Date,Na="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Aa(){return Sa||(Na(Da),Sa=La.now()+Ta)}function Da(){Sa=0}function Ba(){this._call=this._time=this._next=null}function Fa(t,e,n){var r=new Ba;return r.restart(t,e,n),r}function Ea(){Sa=(Ca=La.now())+Ta,xa=wa=0;try{!function(){Aa(),++xa;for(var t,e=ya;e;)(t=Sa-e._time)>=0&&e._call.call(null,t),e=e._next;--xa}()}finally{xa=0,function(){var t,e,n=ya,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ya=e);_a=t,Pa(r)}(),Sa=0}}function $a(){var t=La.now(),e=t-Ca;e>Ma&&(Ta-=e,Ca=t)}function Pa(t){xa||(wa&&(wa=clearTimeout(wa)),t-Sa>24?(t<1/0&&(wa=setTimeout(Ea,t-La.now()-Ta)),ka&&(ka=clearInterval(ka))):(ka||(Ca=La.now(),ka=setInterval($a,Ma)),xa=1,Na(Ea)))}function Oa(t,e,n){var r=new Ba;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}Ba.prototype=Fa.prototype={constructor:Ba,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Aa():+n)+(null==e?0:+e),this._next||_a===this||(_a?_a._next=this:ya=this,_a=this),this._call=t,this._time=n,Pa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pa())}};var za=pa("start","end","cancel","interrupt"),ja=[],Ra=0,Ya=1,Ia=2,Ha=3,Ua=4,qa=5,Wa=6;function Va(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(l){var u,c,f,h;if(n.state!==Ya)return s();for(u in a)if((h=a[u]).name===n.name){if(h.state===Ha)return Oa(i);h.state===Ua?(h.state=Wa,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[u]):+u<e&&(h.state=Wa,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete a[u])}if(Oa(function(){n.state===Ha&&(n.state=Ua,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=Ia,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ia){for(n.state=Ha,r=new Array(f=n.tween.length),u=0,c=-1;u<f;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function o(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=qa,1),i=-1,o=r.length;++i<o;)r[i].call(t,a);n.state===qa&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Wa,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=Fa(function(t){n.state=Ya,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:a,on:za,tween:ja,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ra})}function Ga(t,e){var n=Ka(t,e);if(n.state>Ra)throw new Error("too late; already scheduled");return n}function Xa(t,e){var n=Ka(t,e);if(n.state>Ha)throw new Error("too late; already running");return n}function Ka(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Za(t,e,n){var r=t._id;return t.each(function(){var t=Xa(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ka(t,r).value[e]}}function Qa(t,e){var n;return("number"==typeof e?wt:e instanceof P?xt:(n=P(e))?(e=n,xt):Ct)(t,e)}var Ja=sa.prototype.constructor;function ti(t){return function(){this.style.removeProperty(t)}}var ei=0;function ni(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ri(t){return sa().transition(t)}function ai(){return++ei}var ii=sa.prototype;ni.prototype=ri.prototype={constructor:ni,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Tr(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s,l,u=r[o],c=u.length,f=i[o]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),f[h]=l,Va(f[h],e,n,h,f,Ka(s,n)));return new ni(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nr(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var l,u=r[s],c=u.length,f=0;f<c;++f)if(l=u[f]){for(var h,d=t.call(l,l.__data__,f,u),p=Ka(l,n),g=0,v=d.length;g<v;++g)(h=d[g])&&Va(h,e,n,g,d,p);i.push(d),o.push(l)}return new ni(i,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Ar(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,l=r[a]=[],u=0;u<s;++u)(i=o[u])&&t.call(i,i.__data__,u,o)&&l.push(i);return new ni(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var l,u=e[s],c=n[s],f=u.length,h=o[s]=new Array(f),d=0;d<f;++d)(l=u[d]||c[d])&&(h[d]=l);for(;s<r;++s)o[s]=e[s];return new ni(o,this._parents,this._name,this._id)},selection:function(){return new Ja(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ai(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=Ka(o,e);Va(o,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ni(r,this._parents,t,n)},call:ii.call,nodes:ii.nodes,node:ii.node,size:ii.size,empty:ii.empty,each:ii.each,on:function(t,e){var n=this._id;return arguments.length<2?Ka(this.node(),n).on.on(t):this.each(function(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Ga:Xa;return function(){var o=i(this,t),s=o.on;s!==r&&(a=(r=s).copy()).on(e,n),o.on=a}}(n,t,e))},attr:function(t,e){var n=Mr(t),r="transform"===n?Ot:Qa;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,a,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===a?i:(a=s,i=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,a,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===a?i:(a=s,i=e(r=o,l));this.removeAttribute(t)}})(n,r,Za(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}:function(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Mr(t);return this.tween(n,(r.local?function(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,a)),n}return a._value=e,a}:function(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,a)),n}return a._value=e,a})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Pt:Qa;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=zr(this,t),o=(this.style.removeProperty(t),zr(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}(t,r)).on("end.style."+t,ti(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var o=zr(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=zr(this,t)),o===l?null:o===r&&l===a?i:(a=l,i=e(r=o,s))}}(t,r,Za(this,"style."+t,e))).each(function(t,e){var n,r,a,i,o="style."+e,s="end."+o;return function(){var l=Xa(this,t),u=l.on,c=null==l.value[o]?i||(i=ti(e)):void 0;u===n&&a===c||(r=(n=u).copy()).on(s,a=c),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var o=zr(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Za(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=Ka(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var a=Xa(this,t),i=a.tween;if(i!==n)for(var o=0,s=(r=n=i).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}:function(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=Xa(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:e,value:n},l=0,u=a.length;l<u;++l)if(a[l].name===e){a[l]=s;break}l===u&&a.push(s)}i.tween=a}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Ga(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Ga(this,t).delay=e}})(e,t)):Ka(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Xa(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Xa(this,t).duration=e}})(e,t)):Ka(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Xa(this,t).ease=e}}(e,t)):Ka(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var s={value:o},l={value:function(){0==--a&&i()}};n.each(function(){var n=Xa(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})})}};var oi=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),si=(Math.PI,Math.PI,{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function li(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return si.time=Aa(),si;return n}sa.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>Ia&&n.state<qa,n.state=Wa,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}(this,t)})},sa.prototype.transition=function(t){var e,n;t instanceof ni?(e=t._id,t=t._name):(e=ai(),(n=si).time=Aa(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],l=s.length,u=0;u<l;++u)(o=s[u])&&Va(o,t,e,u,s,n||li(o,e));return new ni(r,this._parents,t,e)};var ui=Array.isArray,ci="object"==typeof t&&t&&t.Object===Object&&t,fi="object"==typeof self&&self&&self.Object===Object&&self,hi=ci||fi||Function("return this")(),di=hi.Symbol,pi=Object.prototype,gi=pi.hasOwnProperty,vi=pi.toString,mi=di?di.toStringTag:void 0;var bi=function(t){var e=gi.call(t,mi),n=t[mi];try{t[mi]=void 0;var r=!0}catch(t){}var a=vi.call(t);return r&&(e?t[mi]=n:delete t[mi]),a},yi=Object.prototype.toString;var _i=function(t){return yi.call(t)},xi="[object Null]",wi="[object Undefined]",ki=di?di.toStringTag:void 0;var Mi=function(t){return null==t?void 0===t?wi:xi:ki&&ki in Object(t)?bi(t):_i(t)};var Ci=function(t){return null!=t&&"object"==typeof t},Si="[object Symbol]";var Ti=function(t){return"symbol"==typeof t||Ci(t)&&Mi(t)==Si},Li=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ni=/^\w*$/;var Ai=function(t,e){if(ui(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ti(t))||Ni.test(t)||!Li.test(t)||null!=e&&t in Object(e)};var Di=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Bi="[object AsyncFunction]",Fi="[object Function]",Ei="[object GeneratorFunction]",$i="[object Proxy]";var Pi,Oi=function(t){if(!Di(t))return!1;var e=Mi(t);return e==Fi||e==Ei||e==Bi||e==$i},zi=hi["__core-js_shared__"],ji=(Pi=/[^.]+$/.exec(zi&&zi.keys&&zi.keys.IE_PROTO||""))?"Symbol(src)_1."+Pi:"";var Ri=function(t){return!!ji&&ji in t},Yi=Function.prototype.toString;var Ii=function(t){if(null!=t){try{return Yi.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Hi=/^\[object .+?Constructor\]$/,Ui=Function.prototype,qi=Object.prototype,Wi=Ui.toString,Vi=qi.hasOwnProperty,Gi=RegExp("^"+Wi.call(Vi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Xi=function(t){return!(!Di(t)||Ri(t))&&(Oi(t)?Gi:Hi).test(Ii(t))};var Ki=function(t,e){return null==t?void 0:t[e]};var Zi=function(t,e){var n=Ki(t,e);return Xi(n)?n:void 0},Qi=Zi(Object,"create");var Ji=function(){this.__data__=Qi?Qi(null):{},this.size=0};var to=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},eo="__lodash_hash_undefined__",no=Object.prototype.hasOwnProperty;var ro=function(t){var e=this.__data__;if(Qi){var n=e[t];return n===eo?void 0:n}return no.call(e,t)?e[t]:void 0},ao=Object.prototype.hasOwnProperty;var io=function(t){var e=this.__data__;return Qi?void 0!==e[t]:ao.call(e,t)},oo="__lodash_hash_undefined__";var so=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qi&&void 0===e?oo:e,this};function lo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}lo.prototype.clear=Ji,lo.prototype.delete=to,lo.prototype.get=ro,lo.prototype.has=io,lo.prototype.set=so;var uo=lo;var co=function(){this.__data__=[],this.size=0};var fo=function(t,e){return t===e||t!=t&&e!=e};var ho=function(t,e){for(var n=t.length;n--;)if(fo(t[n][0],e))return n;return-1},po=Array.prototype.splice;var go=function(t){var e=this.__data__,n=ho(e,t);return!(n<0||(n==e.length-1?e.pop():po.call(e,n,1),--this.size,0))};var vo=function(t){var e=this.__data__,n=ho(e,t);return n<0?void 0:e[n][1]};var mo=function(t){return ho(this.__data__,t)>-1};var bo=function(t,e){var n=this.__data__,r=ho(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function yo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yo.prototype.clear=co,yo.prototype.delete=go,yo.prototype.get=vo,yo.prototype.has=mo,yo.prototype.set=bo;var _o=yo,xo=Zi(hi,"Map");var wo=function(){this.size=0,this.__data__={hash:new uo,map:new(xo||_o),string:new uo}};var ko=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Mo=function(t,e){var n=t.__data__;return ko(e)?n["string"==typeof e?"string":"hash"]:n.map};var Co=function(t){var e=Mo(this,t).delete(t);return this.size-=e?1:0,e};var So=function(t){return Mo(this,t).get(t)};var To=function(t){return Mo(this,t).has(t)};var Lo=function(t,e){var n=Mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function No(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}No.prototype.clear=wo,No.prototype.delete=Co,No.prototype.get=So,No.prototype.has=To,No.prototype.set=Lo;var Ao=No,Do="Expected a function";function Bo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Do);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Bo.Cache||Ao),n}Bo.Cache=Ao;var Fo=Bo,Eo=500;var $o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Po=/\\(\\)?/g,Oo=function(t){var e=Fo(t,function(t){return n.size===Eo&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($o,function(t,n,r,a){e.push(r?a.replace(Po,"$1"):n||t)}),e});var zo=function(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a},jo=1/0,Ro=di?di.prototype:void 0,Yo=Ro?Ro.toString:void 0;var Io=function t(e){if("string"==typeof e)return e;if(ui(e))return zo(e,t)+"";if(Ti(e))return Yo?Yo.call(e):"";var n=e+"";return"0"==n&&1/e==-jo?"-0":n};var Ho=function(t){return null==t?"":Io(t)};var Uo=function(t,e){return ui(t)?t:Ai(t,e)?[t]:Oo(Ho(t))},qo=1/0;var Wo=function(t){if("string"==typeof t||Ti(t))return t;var e=t+"";return"0"==e&&1/t==-qo?"-0":e};var Vo=function(t,e){for(var n=0,r=(e=Uo(e,t)).length;null!=t&&n<r;)t=t[Wo(e[n++])];return n&&n==r?t:void 0};var Go=function(t,e,n){var r=null==t?void 0:Vo(t,e);return void 0===r?n:r};function Xo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ko(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Xo(e(t),n)}),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}var Zo=Ko(Xo).right;function Qo(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}var Jo=Math.sqrt(50),ts=Math.sqrt(10),es=Math.sqrt(2);function ns(t,e,n){var r,a,i,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=rs(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++s<a;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++s<a;)i[s]=(t-s)/o;return r&&i.reverse(),i}function rs(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=Jo?10:i>=ts?5:i>=es?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Jo?10:i>=ts?5:i>=es?2:1)}function as(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=Jo?a*=10:i>=ts?a*=5:i>=es&&(a*=2),e<t?-a:a}var is=[],os=!1;function ss(){if(is.length){var t=is.map(function(t){try{return t.measure&&t.measure()}catch(t){return t}});is.forEach(function(e,n){try{e.update&&e.update(t[n])}catch(e){}}),is=[],os=!1}}var ls=[10,5,2];function us(t,e){void 0===e&&(e=8);var n=[];return ls.some(function(r){return(n=function(t,e){var n=t.map(function(t){return Math.log(t)/Math.log(e)});return Qo(n[0],n[1]).map(function(t){t=Math.pow(e,t);var n=Math.log(t)/Math.LN10;return Math.pow(e,Math.log(t/Math.pow(10,n)/Math.log(e)))*Math.pow(10,n)})}(t,r)).length>=e}),n.length<e&&(n=Qo(n[0],n[n.length-1],(n[n.length-1]-n[0])/e)),n.filter(function(e){return e>=t[0]&&e<=t[1]})}function cs(t,e){var n=null;function r(t){n&&e(n,t)?la(this).style("display","none"):n=t}t.each(function(t,e){var n;n={measure:this.getBoundingClientRect.bind(this),update:r.bind(this)},is.push(n),os||(os=!0,requestAnimationFrame(ss))})}function fs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var hs=Symbol("implicit");function ds(t){return+t}var ps=[0,1];function gs(t){return t}function vs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ms(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=vs(a,r),i=n(o,i)):(r=vs(r,a),i=n(i,o)),function(t){return i(r(t))}}function bs(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=vs(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=Zo(t,e,1,r)-1;return i[n](a[n](e))}}function ys(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _s(){var t,e,n,r,a,i,o=ps,s=ps,l=St,u=gs;function c(){var t=Math.min(o.length,s.length);return u!==gs&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?bs:ms,a=i=null,f}function f(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),s,l)))(t(u(e)))}return f.invert=function(n){return u(e((i||(i=r(s,o.map(t),wt)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,ds),c()):o.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),l=Tt,c()},f.clamp=function(t){return arguments.length?(u=!!t||gs,c()):u!==gs},f.interpolate=function(t){return arguments.length?(l=t,c()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function xs(){return _s()(gs,gs)}function ws(t){var e=t.domain;return t.ticks=function(t){var n=e();return ns(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var a,i=as(t,e,n);switch((r=Zt(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=le(i,o))||(r.precision=a),ae(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ue(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=se(i))||(r.precision=a-2*("%"===r.type))}return re(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,o=a.length-1,s=a[i],l=a[o];return l<s&&(r=s,s=l,l=r,r=i,i=o,o=r),(r=rs(s,l,n))>0?r=rs(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=rs(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(a[i]=Math.floor(s/r)*r,a[o]=Math.ceil(l/r)*r,e(a)):r<0&&(a[i]=Math.ceil(s*r)/r,a[o]=Math.floor(l*r)/r,e(a)),t},t}function ks(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function Ms(t){return Math.log(t)}function Cs(t){return Math.exp(t)}function Ss(t){return-Math.log(-t)}function Ts(t){return-Math.exp(-t)}function Ls(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ns(t){return function(e){return-t(-e)}}function As(t){var e,n,r=t(Ms,Cs),a=r.domain,i=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(i),n=function(t){return 10===t?Ls:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(i),a()[0]<0?(e=Ns(e),n=Ns(n),t(Ss,Ts)):t(Ms,Cs),r}return r.base=function(t){return arguments.length?(i=+t,o()):i},r.domain=function(t){return arguments.length?(a(t),o()):a()},r.ticks=function(t){var r,o=a(),s=o[0],l=o[o.length-1];(r=l<s)&&(h=s,s=l,l=h);var u,c,f,h=e(s),d=e(l),p=null==t?10:+t,g=[];if(!(i%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1,u=n(h);c<i;++c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}}else for(;h<=d;++h)for(c=i-1,u=n(h);c>=1;--c)if(!((f=u*c)<s)){if(f>l)break;g.push(f)}g.length||(g=ns(s,l,p))}else g=ns(h,d,Math.min(d-h,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,a){if(null==a&&(a=10===i?".0e":","),"function"!=typeof a&&(a=re(a)),t===1/0)return a;null==t&&(t=10);var o=Math.max(1,i*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*i<i-.5&&(r*=i),r<=o?a(t):""}},r.nice=function(){return a(ks(a(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}var Ds=1e3,Bs=60*Ds,Fs=60*Bs,Es=24*Fs,$s=7*Es,Ps=30*Es,Os=365*Es;function zs(t){return new Date(t)}function js(t){return t instanceof Date?+t:+new Date(+t)}var Rs={text:function t(){var e,n,r=function t(){var e=new Map,n=[],r=[],a=hs;function i(t){var i=t+"",o=e.get(i);if(!o){if(a!==hs)return a;e.set(i,o=n.push(t))}return r[(o-1)%r.length]}return i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new Map;for(var r=0,a=t;r<a.length;r+=1){var o=a[r],s=o+"";e.has(s)||e.set(s,n.push(o))}return i},i.range=function(t){return arguments.length?(r=Array.from(t),i):r.slice()},i.unknown=function(t){return arguments.length?(a=t,i):a},i.copy=function(){return t(n,r).unknown(a)},fs.apply(i,arguments),i}().unknown(void 0),a=r.domain,i=r.range,o=0,s=1,l=!1,u=0,c=0,f=.5;function h(){var t=a().length,r=s<o,h=r?s:o,d=r?o:s;e=(d-h)/Math.max(1,t-u+2*c),l&&(e=Math.floor(e)),h+=(d-h-e*(t-u))*f,n=e*(1-u),l&&(h=Math.round(h),n=Math.round(n));var p=Qo(t).map(function(t){return h+e*t});return i(r?p.reverse():p)}return delete r.unknown,r.domain=function(t){return arguments.length?(a(t),h()):a()},r.range=function(t){var e;return arguments.length?(o=(e=t)[0],s=e[1],o=+o,s=+s,h()):[o,s]},r.rangeRound=function(t){var e;return o=(e=t)[0],s=e[1],o=+o,s=+s,l=!0,h()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(l=!!t,h()):l},r.padding=function(t){return arguments.length?(u=Math.min(1,c=+t),h()):u},r.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),h()):u},r.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),h()):f},r.copy=function(){return t(a(),[o,s]).round(l).paddingInner(u).paddingOuter(c).align(f)},fs.apply(h(),arguments)},number:function t(){var e=xs();return e.copy=function(){return ys(e,t())},fs.apply(e,arguments),ws(e)},date:function(){return fs.apply(function t(e,n,r,a,i,o,s,l,u){var c=xs(),f=c.invert,h=c.domain,d=u(".%L"),p=u(":%S"),g=u("%I:%M"),v=u("%I %p"),m=u("%a %d"),b=u("%b %d"),y=u("%B"),_=u("%Y"),x=[[s,1,Ds],[s,5,5*Ds],[s,15,15*Ds],[s,30,30*Ds],[o,1,Bs],[o,5,5*Bs],[o,15,15*Bs],[o,30,30*Bs],[i,1,Fs],[i,3,3*Fs],[i,6,6*Fs],[i,12,12*Fs],[a,1,Es],[a,2,2*Es],[r,1,$s],[n,1,Ps],[n,3,3*Ps],[e,1,Os]];function w(t){return(s(t)<t?d:o(t)<t?p:i(t)<t?g:a(t)<t?v:n(t)<t?r(t)<t?m:b:e(t)<t?y:_)(t)}function k(t,n,r){if(null==t&&(t=10),"number"==typeof t){var a,i=Math.abs(r-n)/t,o=Ko(function(t){return t[2]}).right(x,i);return o===x.length?(a=as(n/Os,r/Os,t),t=e):o?(a=(o=x[i/x[o-1][2]<x[o][2]/i?o-1:o])[1],t=o[0]):(a=Math.max(as(n,r,t),1),t=l),t.every(a)}return t}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,js)):h().map(zs)},c.ticks=function(t){var e,n=h(),r=n[0],a=n[n.length-1],i=a<r;return i&&(e=r,r=a,a=e),e=(e=k(t,r,a))?e.range(r,a+1):[],i?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t){var e=h();return(t=k(t,e[0],e[e.length-1]))?h(ks(e,t)):c},c.copy=function(){return ys(c,t(e,n,r,a,i,o,s,l,u))},c}(Te,Se,ke,xe,_e,ye,be,ge,ze).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},log:function t(){var e=As(_s()).domain([1,10]);return e.copy=function(){return ys(e,t()).base(e.base())},fs.apply(e,arguments),e}},Ys=0,Is=0,Hs=4,Us={horizontal:"horizontal",vertical:"vertical"};function qs(t,e,n){void 0===e&&(e=[]);var r=n.direction||Us.horizontal,a=t.selectAll("g."+n.className).data(e);a.exit().remove();var i=a.enter().append("g"),o=n.invert?-1:1,s=r===Us.vertical?"y1":"x1",l=r===Us.vertical?"y2":"x2";i.append("line").attr("shape-rendering","crispEdges").attr("stroke","currentColor").attr(s,0);var u=a.merge(i);return u.selectAll("line").attr(l,o*n.size),u.attr("class",n.className).classed("first-"+n.className,function(t,e){return!t}).attr("transform",function(t){var e=n.scale(t);return"function"==typeof n.scale.bandwidth&&(e+=n.scale.bandwidth()/2),r===Us.vertical?"translate("+e+", 0)":"translate(0, "+e+")"}),t}function Ws(t){return function(e,n,r){var a=r.tickSize||Ys,i=r.tickPadding||Hs;if(qs(e,r.values,{className:"tick",size:a,invert:"top"===t,direction:"vertical",scale:n}),r.hideLabels)return e;var o=e.selectAll(".tick"),s=r.format&&Array.isArray(r.format),l=s&&function(t){var e=new Array(t.length);return function(n){for(var r,a=0,i=t.length;a<i;a++)if((r=t[a](n))!==e[a]){e[a]=r;for(var o=a+1;o<i;o++)e[o]=void 0;break}return r}}(r.format);return o.each(function(e,n,o){var u=la(o[n]),c=u.select("text");c.node()||(c=u.append("text"));var f="top"===t?-(a+i):a+r.fontSize+i;c.text(s?l:function(t){return r.format?r.format(t):t}).attr("text-anchor","middle").attr("y",f).style("fill","currentcolor").style("font-size",r.fontSize)}),cs(o,function(t,e){return t.x+t.width>e.x}),e}}var Vs={bottom:Ws("bottom"),top:Ws("top")};function Gs(t){void 0===t&&(t={});var e=[(t=Object.assign({},{scale:"number",paddingOuter:0,paddingInner:1},t)).paddingOuter,t.width-t.paddingOuter],n=Rs[t.scale]().range(e).domain(t.domain);return"function"==typeof n.paddingInner&&n.paddingInner(t.paddingInner),{scale:n,render:function(e,r){return function(t,e){void 0===e&&(e={});e=Object.assign({},{orientation:"bottom",fontSize:12,ticks:{},hideLabels:!1},e);var n=Go(e,"ticks.major",{}),r=Go(e,"ticks.minor",{}),a=n.values;a&&a.length||(a=function(t,e,n,r){var a=Math.round(r);switch(t){case"text":return e.domain();case"log":var i=us(n,a);return i.length>1?i:e.ticks(a);default:return e.ticks(a)}}(e.scale,e.xScale,e.domain,e.width/80));var i=t.select(".x-axis").node()?t.select(".x-axis"):t.append("g").attr("class","x-axis");e.className&&i.attr("class","x-axis "+e.className);var o=i.select(".axis-wrapper").node()?i.select(".axis-wrapper"):i.append("g").attr("class","axis-wrapper");r.values&&qs(o,e.ticks.minor.values,{className:"minor-tick",size:Number.isFinite(r.tickSize)?r.tickSize:Is,invert:"top"===e.orientation,direction:"vertical",scale:e.xScale});!function(t,e){var n=e.minorTickConfig,r=e.majorTickConfig,a=e.orientation,i=e.scale,o=e.direction,s=e.ticks,l="right"===a||"bottom"===a;n.gridSize&&qs(t,n.values,{className:"minor-grid-line",size:n.gridSize,invert:l,direction:o,scale:i}),r.gridSize&&qs(t,s,{className:"major-grid-line",size:r.gridSize,invert:l,direction:o,scale:i})}(i,{minorTickConfig:r,majorTickConfig:n,orientation:e.orientation,scale:e.xScale,direction:"vertical",ticks:a});var s=Vs[e.orientation];return o.call(s,e.xScale,Object.assign({},n,{values:a,fontSize:e.fontSize,hideLabels:e.hideLabels})),i.select(".tick").classed("first-tick",function(t){return!t}),t}(e,Object.assign({},r,t,{xScale:n}))}}}var Xs=e(function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",a="day",i="week",o="month",s="quarter",l="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},h={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+f(r,2,"0")+":"+f(a,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,o),a=e-r<0,i=t.clone().add(n+(a?-1:1),o);return Number(-(n+(e-r)/(a?r-i:i-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:o,y:l,w:i,d:a,h:r,m:n,s:e,ms:t,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",g={};g[p]=d;var v=function(t){return t instanceof _},m=function(t,e,n){var r;if(!t)return p;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var a=t.name;g[a]=t,r=a}return n||(p=r),r},b=function(t,e,n){if(v(t))return t.clone();var r=e?"string"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new _(r)},y=h;y.l=m,y.i=v,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u})};var _=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(u);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return y},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return b(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<b(t)},h.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},h.year=function(t){return this.$g(t,"$y",l)},h.month=function(t){return this.$g(t,"$M",o)},h.day=function(t){return this.$g(t,"$W",a)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",r)},h.minute=function(t){return this.$g(t,"$m",n)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var u=this,c=!!y.u(s)||s,f=y.p(t),h=function(t,e){var n=y.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return c?n:n.endOf(a)},d=function(t,e){return y.w(u.toDate()[t].apply(u.toDate(),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case l:return c?h(1,0):h(31,11);case o:return c?h(1,g):h(0,g+1);case i:var b=this.$locale().weekStart||0,_=(p<b?p+7:p)-b;return h(c?v-_:v+(6-_),g);case a:case"date":return d(m+"Hours",0);case r:return d(m+"Minutes",1);case n:return d(m+"Seconds",2);case e:return d(m+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(i,s){var u,c=y.p(i),f="set"+(this.$u?"UTC":""),h=(u={},u[a]=f+"Date",u.date=f+"Date",u[o]=f+"Month",u[l]=f+"FullYear",u[r]=f+"Hours",u[n]=f+"Minutes",u[e]=f+"Seconds",u[t]=f+"Milliseconds",u)[c],d=c===a?this.$D+(s-this.$W):s;if(c===o||c===l){var p=this.clone().set("date",1);p.$d[h](d),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[y.p(t)]()},h.add=function(t,s){var u,c=this;t=Number(t);var f=y.p(s),h=function(e){var n=b(c);return y.w(n.date(n.date()+Math.round(e*t)),c)};if(f===o)return this.set(o,this.$M+t);if(f===l)return this.set(l,this.$y+t);if(f===a)return h(1);if(f===i)return h(7);var d=(u={},u[n]=6e4,u[r]=36e5,u[e]=1e3,u)[f]||1,p=this.valueOf()+t*d;return y.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=y.z(this),a=this.$locale(),i=this.$H,o=this.$m,s=this.$M,l=a.weekdays,u=a.months,f=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].substr(0,i)},h=function(t){return y.s(i%12||12,t,"0")},d=a.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:y.s(s+1,2,"0"),MMM:f(a.monthsShort,s,u,3),MMMM:u[s]||u(this,n),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:f(a.weekdaysMin,this.$W,l,2),ddd:f(a.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(i),HH:y.s(i,2,"0"),h:h(1),hh:h(2),a:d(i,o,!0),A:d(i,o,!1),m:String(o),mm:y.s(o,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:r};return n.replace(c,function(t,e){return e||p[t]||r.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,u,c){var f,h=y.p(u),d=b(t),p=6e4*(d.utcOffset()-this.utcOffset()),g=this-d,v=y.m(this,d);return v=(f={},f[l]=v/12,f[o]=v,f[s]=v/3,f[i]=(g-p)/6048e5,f[a]=(g-p)/864e5,f[r]=g/36e5,f[n]=g/6e4,f[e]=g/1e3,f)[h]||g,c?v:y.a(v)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return g[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=m(t,e,!0),n},h.clone=function(){return y.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return b.prototype=_.prototype,b.extend=function(t,e){return t(e,_,b),b},b.locale=m,b.isDayjs=v,b.unix=function(t){return b(1e3*t)},b.en=g[p],b.Ls=g,b}()}),Ks=e(function(t,e){t.exports=function(t,e,n){var r=e.prototype,a=r.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},r.format=function(t){var e=this,n=this.$locale(),r=this.$utils(),i=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|gggg|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"wo":return n.ordinal(e.week(),"W");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();default:return t}});return a.bind(this)(i)}}}),Zs=e(function(t,e){t.exports=function(t,e,n){var r=e.prototype,a=r.format,i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=i,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,n=void 0===e?{}:e,r=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,e,r){var a=r&&r.toUpperCase();return e||n[r]||i[r]||n[a].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})});return a.call(this,r)}}}),Qs=e(function(t,e){t.exports=function(){var t="year";return function(e,n,r){var a=n.prototype;a.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var n=this.$locale().weekStart||0,a=r(this).endOf(t);if(0===n&&6!==a.day()&&11===this.month()&&31-this.date()<=a.day())return 1;var i=r(this).startOf(t),o=i.subtract(i.day()-n,"day").subtract(1,"millisecond"),s=this.diff(o,"week",!0);return Math.ceil(s)},a.weeks=function(t){return void 0===t&&(t=null),this.week(t)}}}()});Xs.extend(Ks),Xs.extend(Qs),Xs.extend(Zs);var Js=!0;function tl(t,e,n,r){t._$chart=la(e.get(0)).classed("dw-chart-body",!0);var a=t._$chart,i="stacked"===r,o=t.get("grid-lines-x.enabled",!1),s=t.get("grid-lines-x.type","ticks"),l=t.get("valueLabels.enabled",!0),u=t.get("valueLabels.show","hover"),c=t.chart().hasHighlight();if(t.__currentSeries=t.axes(!0).columns[0].title(),Js){var f=fr(window,"__dw.params.locales.dayjs");f&&Xs.locale(f),Js=!1}t._xformatter=nl(t.get("x-grid-format","YYYY")||"YYYY");var h=t.get("x-grid-format","YYYY")||"YYYY",d=hr(t.theme()),p=fr(t.theme(),"vis.column-chart.labels.values.dist",10),g=t.seriesDist(),v=t.xTickLength(),m=t.xTickFontSize(),b=el(t,n),y=b.margin,_=b.size,x=t.d3ColumnData(),w=t.getDomainX(),k=t.getDomain(),M=[0,_.width],C=[_.height,0],S={x:sr().domain(w).range(M),y:fe().domain(k).range(C)};t._lpad=y.l,t.__yScale=S.y,t.__xScale=S.x;var T=function(e){var n=a.select("svg").classed("hasHighlight",c),r=n.append("g").append("g.container"),i=r.append("g").attr("class","axes");return n.append("rect.bgRect").style("fill","transparent").attr("width",_.outerWidth).attr("height",_.outerHeight).on("mousemove",R),t._marginL=y.l,r.attr("transform","translate("+t._marginL+","+y.t+")"),{svgRoot:r,axesContainer:i}}(),L=T.svgRoot,N=T.axesContainer,A=a.select(".bgRect").node().getBoundingClientRect().right-_.outerWidth,D=a.select(".bgRect").node().getBoundingClientRect().top;!function(t,e,n){var r=xr(t.chart().get("id")),a=t.get("valueLabels.show","hover"),i=t.get("valueLabels.enabled",!0),o="column-chart"===t.meta.id,s="stacked-column-chart"===t.meta.id,l=t._$chart;t.highlight={delay:0,timer:null,column:null,inactive:!0,set:function(u,c){t.highlight.column!==u&&(t.highlight.timer&&clearTimeout(t.highlight.timer),t.highlight.timer=setTimeout(function(){t.highlight.inactive=!1;var f=t.chart().hasHighlight();l.selectAll("rect.column").classed("hover",function(t){return u&&t.key===u.key}),o?l.selectAll("rect.column").style("fill",function(t){return u&&t.key===u.key?f?t._columnFill:cr(t._columnFill).darken(.9).hex():t.key!==u.key?f&&!t._isHighlighted?t._hlFill:t._columnFill:void 0}):(l.selectAll("rect.column").classed("unfocus",function(t){return u&&t.key!==u.key}),l.selectAll(".cc-swatch").classed("hover",function(){return u&&this.dataset.key===u.key}).classed("unfocus",function(){return u&&this.dataset.key!==u.key}));var h=i&&"hover"!==a?"unfocus":"dontshow";l.selectAll("div.label.value").each(function(t){u&&t?t.key===u.key?(la(this).classed("hover",!0),la(this).classed("dontshow",!i),la(this).classed("unfocus",!1)):(la(this).classed("hover",!1),f&&t._isHighlighted?(la(this).classed("unfocus",!0),la(this).classed("dontshow",!1)):la(this).classed(h,!0)):la(this).classed("hover",!1)}),c||l.selectAll(".label.series text").text(function(e){if(u){var n=s?e.data.x===u.data.x:e.key===u.key,r=s?e.data.x:e.x;return n?Array.isArray(t._xformatter)?t._xformatter[0](r)+" "+t._xformatter[1](r):t._xformatter(r):""}}).attr("dx",function(){var t=this.getBoundingClientRect(),r=t.right,a=t.left,i=t.width;return a-i/2<0?-a-5:r-i/2>e.outerWidth+n?e.outerWidth-r-5:-this.getBoundingClientRect().width/2}),l.selectAll(".tick.primary").classed("unfocus",!0),r("highlight.set",{column:u.key})},t.highlight.inactive?t.highlight.delay:1),t.highlight.column=u)},clear:function(){var e=t.get("valueLabels.enabled",!0),n=t.get("valueLabels.show","hover"),a=t.chart().hasHighlight();if(t.highlight.column=null,t.highlight.inactive=!0,t.highlight.timer&&clearTimeout(t.highlight.timer),l.selectAll(".hover").classed("hover",!1),s||l.selectAll("rect.column").style("fill",function(t){return a&&!t._isHighlighted?t._hlFill:t._columnFill}),a){var i=e&&"hover"!==n?"unfocus":"dontshow";l.selectAll("div.label.value:not(.highlighted)").classed(i,!0),l.selectAll("div.label.value.highlighted").classed("unfocus",!1).classed("dontshow",!1),l.selectAll("rect.highlighted").classed("unfocus",!1),l.selectAll("rect:not(.highlighted)").classed("unfocus",!0)}else l.selectAll(".unfocus").classed("unfocus",!1),"hover"===n&&l.selectAll("div.label.value").classed("dontshow",!0);s&&l.selectAll(".cc-swatch").classed("unfocus",function(){return a&&!t.__highlightedSeries.length&&!t.chart().isHighlighted(this.dataset.hlkey)}),l.selectAll(".series.label text").text(""),l.selectAll(".tick.primary").classed("unfocus",!1),r("highlight.clear")}}}(t,_,A);var B=L.append("g.columns"),F=function(t,e){var n=t.getDates(),r=n.slice(1).map(function(t,e){return t-n[e]}),a=Math.min.apply(null,r.filter(Boolean)),i=r.reduce(function(t,e){return t+(e>a?e/a-1:0)},0),o=1-.5*t.get("bar-padding",30)/100,s=e.width/(n.length+i+1)*o,l=t.getDomainX(!0),u=t.getDomainX(),c=Math.abs(l[1]-l[0])/Math.abs(u[1]-u[0]);return Math.round(s*c)}(t,_);!function(e){({columns:function(){var e=t.__currentSeries,n=B.selectAll("g.column").data(x).enter(),r=n.append("g.column").translate(function(t){return[S.x(t.x),0]});r.append("rect.column").attr("y",function(t){return t.value[e]>0?S.y(t.value[e]):S.y(0)}).attr("x",-Math.round(F/2)).attr("width",F).attr("height",function(t){return t.value[e]>0?S.y(0)-S.y(t.value[e]):S.y(t.value[e])-S.y(0)}).attr("fill",function(n){return n._columnFill=t.getColor(n.key,n.row,n.value[e],!0),n._hlColor=t.getColor(n.key,n.row,n.value[e],!1),!c||c&&n._isHighlighted?n._columnFill:n._hlColor})},stacked:function(){var t=B.selectAll("g.series").data(x).enter().append("g").attr("class","series").style("fill",function(t){return t._columnFill});t.selectAll("rect.column").data(function(t){return t}).enter().append("rect.column").classed("last",function(t,e){return e===x[0].length-1}).attr("x",function(t){return S.x(t.data.x)-Math.round(F/2)}).attr("height",function(t,e){return Math.abs(S.y(t[0])-S.y(t[1]))}).attr("width",F).attr("y",function(t,e){var n=Math.abs(S.y(t[0])-S.y(t[1]));return S.y(t[2])-(t.data[t.key]<0?0:n)}),c&&t.selectAll("rect.column").classed("highlighted",function(t){return t._isHighlighted}).classed("unfocus",function(t){return!t._isHighlighted})}})[e]()}(r),(l||c)&&function(t,e){var n,r=d.valueText,i=t.valueDistribution().neg,o=t.chart().hasHighlight(),s=t.labelHeight("X","value",100),c=a.append("div.labels.values"),f=a.node().getBoundingClientRect();({columns:function(){var e=t.__currentSeries;(n=c.selectAll("div.label.value").data(x).enter().append("div.label.value")).append("span").html(function(n){return null===n.value[e]?"":t.formatValue(n.value[e],!0)}),n.style("left",function(t){var e,n=la(this).select("span").node().getBoundingClientRect().width,r=S.x(t.x)+y.l-n/2;return r+n>f.right&&(e=r+n-f.right,r-=e),r<f.left&&(e=f.left-r,r+=e),r+"px"}).style("top",function(t){return S.y(t.value[e])+y.t-(t.value[e]>=0&&!i?s:0)-(t.value[e]<0||i?-1:1)*p+"px"}).style("color",r)},stacked:function(){var e=c.selectAll("div.label-group.values").data(x).enter().append("div.label-group.values");(n=e.selectAll("div.label.value.inside").data(function(t){return t}).enter().append("div.label.value.inside").classed("inverted",function(t){return cr(t._columnFill).lab()[0]<70})).append("span.fg").html(function(e){var n=t.formatValue(e.data[e.key],!0);return n}),n.style("left",function(t){var e=la(this).select("span").node().getBoundingClientRect().width;return S.x(t.data.x)+y.l-e/2+"px"}).style("top",function(t,e){var n=(S.y(t[0])-S.y(t[1]))/2;return S.y(t[2])-n+y.t-s/2+"px"})}})[e]();var h=l&&"hover"!==u?"unfocus":"dontshow";o?n.classed("highlighted",function(t){return t._isHighlighted}).classed(h,function(t){return!t._isHighlighted}):n.classed("dontshow","hover"===u&&l)}(t,r),i&&function(){if(!t.useDirectLabeling())return;a.selectAll("rect.last").each(function(e){if(e.label){var r=la(this).node().getBoundingClientRect(),a=r.right,i=r.top,o=r.left,s=r.height,l=r.width,u={x:a-A+20-n.w*t.get("margin",0)/150,y:i-D+s/2,oy:i-D+s/2,w:n.rpad-20,align:"left",valign:"middle",cl:"",rotate:0};t.__last_bar={x:o-A,w:l};var c="row-"+e.r,f=t.__row_labels[c]=t.__row_labels[c]||t.registerLabel(t.label(u.x,u.y,e.label,u),c);f.__attrs=u,t.__directLbls.push(f)}})}();var E=Gs({width:_.width,domain:w,scale:"date"}),$=function(t){if(!t.get("custom-ticks-x"))return[];var e=dw.column("labels",t.get("custom-ticks-x").split(","),"date").values();return e=e.filter(ur).sort(function(t,e){return t.getTime()-e.getTime()})}(t);N.call(E.render,{className:"grid-x",fontSize:m,orientation:"bottom",ticks:{major:{values:$.length?$:void 0,tickPadding:g,gridSize:o?"ticks"===s?v:_.height+_.height+t.valueLabelSpace():0,format:nl(h)}}});var P,O=t.axisTranslate(S.y,_),z=t.axisLineTranslate(n,_),j=t.valueDistribution().neg;function R(){var e,n=this.getBoundingClientRect().top,r=this.getBoundingClientRect().left,i=function(t){var e=ua();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}(t,e)}(this),o=i[0],s=i[1];o+=r,s+=n,(e=a.selectAll("rect.column").filter(function(t,e){var n=this.getBoundingClientRect(),r=n.bottom,a=n.top,i=n.right,l=n.left;return o>=l&&o<=i&&s<=r&&s>=a})).empty()?t.highlight.clear():t.highlight.set(e.datum())}N.select(".x-axis").attr("transform","translate(0,"+O+")"),N.selectAll(".major-grid-line").classed("tick",o&&"ticks"===s).selectAll("line").attr("transform","translate(0,"+(j?z:0)+")").style("stroke",o&&"lines"===s?d.gridline:d.axis),N.selectAll(".tick").classed("primary","true").selectAll("text").style("fill",d.seriesText),function(t,e,n){var r=d.seriesText,a=N.select("g.x-axis").append("g.labels.series").selectAll("g.label.series").data(n).enter().append("g.label.series").translate(function(t){return[S.x(i?t.data.x:t.x),0]});["bg","fg"].forEach(function(e){a.append("text.label.series."+e).text("").attr("y",m+g).classed("dw-bold",!0).style("fill",r).style("font-size",t.xTickFontSize())})}(t,0,i?x[0]:x),P=a.select("svg").node().getBoundingClientRect(),N.selectAll("text").each(function(){var t=this.getBoundingClientRect(),e=t.left,n=t.right;(e<P.left||n>P.right)&&la(this.parentElement).style("display","none")}),i&&a.selectAll(".cc-swatch").on("mouseenter",function(){t.highlight.set({key:this.dataset.key},!0)}).on("mouseleave ",function(){t.highlight.clear()})}function el(t,e){var n=t.axisLabelsAlignment(),r=t.size(),a=t.__filterH||0,i={t:e.tpad+(t._isStacked()?t.__lh:0),l:e.lpad+("left"===n?t.__gridLabelSpace:0),b:e.bpad,r:e.rpad+("right"===n?t.__gridLabelSpace:0)};return{margin:i,size:{width:Math.round(r[0]-i.l-i.r),height:Math.round(r[1]-i.t-i.b-a),outerWidth:r[0],outerHeight:r[1]}}}function nl(t){var e=t;return e.indexOf("|")>-1?e.split("|").map(function(t){return function(e){return Xs(e).format(t)}}):function(t){return Xs(t).format(e)}}var rl=e(function(e){!function(t,n){e.exports?e.exports=n():t.numeral=n()}(t,function(){var t,e,n,r,a,i={},o={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},l={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function u(t,e){this._input=t,this._value=e}return(t=function(n){var r,a,o,s;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(l.zeroFormat&&n===l.zeroFormat)r=0;else if(l.nullFormat&&n===l.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(a in i)if((s="function"==typeof i[a].regexps.unformat?i[a].regexps.unformat():i[a].regexps.unformat)&&n.match(s)){o=i[a].unformat;break}r=(o=o||t._.stringToNumber)(n)}else r=Number(n)||null;return new u(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof u},t._=e={numberToFormat:function(e,n,r){var a,i,s,l,u,c,f,h,d=o[t.options.currentLocale],p=!1,g=!1,v="",m="",b=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(i=!!(i=n.match(/a(k|m|b|t)?/))&&i[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),s>=1e12&&!i||"t"===i?(v+=d.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!i||"b"===i?(v+=d.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!i||"m"===i?(v+=d.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!i||"k"===i)&&(v+=d.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(g=!0,n=n.replace("[.]",".")),l=e.toString().split(".")[0],u=n.split(".")[1],f=n.indexOf(","),a=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),m=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):m=t._.toFixed(e,u.length,r),l=m.split(".")[0],m=t._.includes(m,".")?d.delimiters.decimal+m.split(".")[1]:"",g&&0===Number(m.slice(1))&&(m="")):l=t._.toFixed(e,0,r),v&&!i&&Number(l)>=1e3&&v!==d.abbreviations.trillion)switch(l=String(Number(l)/1e3),v){case d.abbreviations.thousand:v=d.abbreviations.million;break;case d.abbreviations.million:v=d.abbreviations.billion;break;case d.abbreviations.billion:v=d.abbreviations.trillion}if(t._.includes(l,"-")&&(l=l.slice(1),b=!0),l.length<a)for(var y=a-l.length;y>0;y--)l="0"+l;return f>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===n.indexOf(".")&&(l=""),h=l+m+(v||""),p?h=(p&&b?"(":"")+h+(p&&b?")":""):c>=0?h=0===c?(b?"-":"+")+h:h+(b?"-":"+"):b&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,a=o[l.currentLocale],i=t,s={thousand:3,million:6,billion:9,trillion:12};if(l.zeroFormat&&t===l.zeroFormat)n=0;else if(l.nullFormat&&t===l.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==a.delimiters.decimal&&(t=t.replace(/\./g,"").replace(a.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+a.abbreviations[e]+"(?:\\)|(\\"+a.currency.symbol+")?(?:\\))?)?$"),i.match(r)){n*=Math.pow(10,s[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),a=r.length>>>0,i=0;if(3===arguments.length)n=arguments[2];else{for(;i<a&&!(i in r);)i++;if(i>=a)throw new TypeError("Reduce of empty array with no initial value");n=r[i++]}for(;i<a;i++)i in r&&(n=e(n,r[i],i,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var a,i,o,s,l=t.toString().split("."),u=e-(r||0);return a=2===l.length?Math.min(Math.max(l[1].length,u),e):u,o=Math.pow(10,a),s=(n(t+"e+"+a)/o).toFixed(a),r>e-a&&(i=new RegExp("\\.?0{1,"+(r-(e-a))+"}$"),s=s.replace(i,"")),s}},t.options=l,t.formats=i,t.locales=o,t.locale=function(t){return t&&(l.currentLocale=t.toLowerCase()),l.currentLocale},t.localeData=function(t){if(!t)return o[l.currentLocale];if(t=t.toLowerCase(),!o[t])throw new Error("Unknown locale : "+t);return o[t]},t.reset=function(){for(var t in s)l[t]=s[t]},t.zeroFormat=function(t){l.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){l.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){l.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,a,i,o,s,l,u,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{u=t.localeData(n)}catch(e){u=t.localeData(t.locale())}return i=u.currency.symbol,s=u.abbreviations,r=u.delimiters.decimal,a="."===u.delimiters.thousands?"\\.":u.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===i))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(l=new RegExp(a+"{2}"),!e.match(/[^\d.,]/g)&&(!((o=e.split(r)).length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/)))))},t.fn=u.prototype={clone:function(){return t(this)},format:function(e,n){var r,a,o,s=this._value,u=e||l.defaultFormat;if(n=n||Math.round,0===s&&null!==l.zeroFormat)a=l.zeroFormat;else if(null===s&&null!==l.nullFormat)a=l.nullFormat;else{for(r in i)if(u.match(i[r].regexps.format)){o=i[r].format;break}a=(o=o||t._.numberToFormat)(s,u,n)}return a},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,a){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,a){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,a){var i=e.correctionFactor(t,n);return Math.round(t*i)*Math.round(n*i)/Math.round(i*i)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,a){var i=e.correctionFactor(t,n);return Math.round(t*i)/Math.round(n*i)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var a,i=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),a=t._.numberToFormat(e,n,r),t._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"BPS"),a=a.join("")):a=a+i+"BPS",a},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},a="("+(a=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(a)},format:function(e,a,i){var o,s,l,u=t._.includes(a,"ib")?r:n,c=t._.includes(a," b")||t._.includes(a," ib")?" ":"";for(a=a.replace(/\s?i?b/,""),o=0;o<=u.suffixes.length;o++)if(s=Math.pow(u.base,o),l=Math.pow(u.base,o+1),null===e||0===e||e>=s&&e<l){c+=u.suffixes[o],s>0&&(e/=s);break}return t._.numberToFormat(e,a,i)+c},unformat:function(e){var a,i,o=t._.stringToNumber(e);if(o){for(a=n.suffixes.length-1;a>=0;a--){if(t._.includes(e,n.suffixes[a])){i=Math.pow(n.base,a);break}if(t._.includes(e,r.suffixes[a])){i=Math.pow(r.base,a);break}}o*=i||1}return o}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var a,i,o=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),a=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),i=0;i<s.before.length;i++)switch(s.before[i]){case"$":a=t._.insert(a,o.currency.symbol,i);break;case" ":a=t._.insert(a," ",i+o.currency.symbol.length-1)}for(i=s.after.length-1;i>=0;i--)switch(s.after[i]){case"$":a=i===s.after.length-1?a+o.currency.symbol:t._.insert(a,o.currency.symbol,-(s.after.length-(1+i)));break;case" ":a=i===s.after.length-1?a+" ":t._.insert(a," ",-(s.after.length-(1+i)+o.currency.symbol.length-1))}return a}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var a=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(a[0]),n,r)+"e"+a[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),a=Number(n[1]);return a=t._.includes(e,"e-")?a*=-1:a,t._.reduce([r,Math.pow(10,a)],function(e,n,r,a){var i=t._.correctionFactor(e,n);return e*i*(n*i)/(i*i)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var a=t.locales[t.options.currentLocale],i=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),i+=a.ordinal(e),t._.numberToFormat(e,n,r)+i}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var a,i=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),a=t._.numberToFormat(e,n,r),t._.includes(a,")")?((a=a.split("")).splice(-1,0,i+"%"),a=a.join("")):a=a+i+"%",a},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),a=Math.floor((t-60*r*60)/60),i=Math.round(t-60*r*60-60*a);return r+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})});function al(t){return t}function il(t,e,n){var r=n.__numeral;if(!e)return al;t=t||"0,0.[00]";var a=r.locales.x?"x":r.locale(),i=r.locales[a].currency.symbol,o=n.chart().get("metadata.data.column-format",{})[e.name()]||{},s="number"===e.type()?function(e,a,s){if(l=e,"[object Number]"!==lr.call(l))return"";var l;if(o["number-format"]&&"-"!==o["number-format"]&&t.indexOf(".[")>-1&&-1===t.indexOf("a")){for(var u=Number(o["number-format"].replace(/n/,"")),c="",f=0;f<u;f++)c+="0";t=t.replace(/\[\d+\]/g,"["+c+"]")}var h=r(t.indexOf("%")>-1?.01*e:e).divide(Math.pow(10,o["number-divisor"]||0)).format(t).replace("-",n._minus).replace(/^\+(0([,. ]0+))?$/,"±$1");return h=a?s?h.replace(i,"").replace("%",""):h:(o["number-prepend"]||"")+h+(o["number-append"]||"")}:al;return function(t,e,n){return s(t,e,n)}}var ol=!0;dw.visualization.register("column-chart","raphael-chart",{checkDataset:function(t){var e=this,n=e.dataset;(n.numRows()>40||n.numColumns()>50)&&e.notify("Your dataset is too big for this chart type. You may want to consider using a different one (e.g. line chart or scatterplot)."),n.limitRows(e.__isTimeScale?200:100),n.limitColumns(500),e.initGetColor(),e.setRoot(t),e.axesDef=e.axes(),e.__lastRow=0},render:function(t){var e,n=this,r=n.dataset;n.__isTimeScale="column-chart"===n.meta.id&&"date"===n.axes(!0).labels.type()&&n.axes(!0).labels.length>5;var a=_.map(n.axes().columns,function(t){return r.column(t)}),i=fr(window,"__dw.params.locales.numeral");i&&ol&&(rl.register("locale","x",i),rl.locale("x"),ol=!1),n.__numeral=rl;var o=dw.utils.filter(dw.utils.columnNameColumn(a),0),s=o.ui(n),l=0;n.__filterUI=s;var u,c,f=xr(n.chart().get("id"));(n.checkDataset(t),n.axesDef)&&(s&&(u=$("#header"),c=u.height(),u.append(s),l=u.height()-c,n.__filterH=l,o.change(function(t,r){n.__lastRow=r,n.update(r,t,e),f("column:change",{value:t,index:r}),n.fire("column:change",{value:t,index:r})})),e=n.initCanvas({tpad:0,bpad:0,rpad:0,lpad:0},0,l),n.renderChart(t,e),n.renderingComplete())},renderChart:function(t,e){var n=this,r=n.getBarColumn(),a=n.getBarValues(!0);n.formatValue(0),n.__themeProps=hr(n.theme()),n._minus=fr(n.theme(),"typography.chart.minusCharacter","−"),n.init(),r&&(n.__gridLabelSpace=n.gridLabelSpace(e),n.__rotateLabels=n.rotateLabels(),n.calculatePadding(e,a),n.initDimensions(),n.horzGrid(),n.__isTimeScale?tl(n,t,e,"columns"):_.each(a,_.bind(n.__barEnter,n)),t.mousemove(_.bind(n.onMouseMove,n)),n.__gridLines&&n.__gridLines[0]&&n.__gridLines[0].toFront())},calculatePadding:function(t,e){var n=this,r=n.getDomain(),a=[t.bpad,t.h-t.tpad-(n.__lh||0)],i=fe().domain(r).range(a),o=0;!function t(e,i,s){var l={tpad:0,bpad:0};var u=n.checkSeriesLabelSpace(e,i,s);var c=n.checkValueLabelSpace(e,i,s);var f=n.checkTickLabelSpace(e,s);[u,c,f].forEach(function(t){Object.keys(t).forEach(function(e){l[e]=Math.max(t[e],l[e])})});(l.tpad>0||l.bpad>0)&&e.tpad+e.bpad<e.h&&(e.tpad+=l.tpad,e.bpad+=l.bpad,a=[e.bpad,e.h-e.tpad-(n.__lh||0)],s=fe().domain(r).range(a),o<10&&(o++,t(e,i,s)))}(t,e,i)},checkValueLabelSpace:function(t,e,n){var r=this.valueLabelSpace(),a={tpad:0,bpad:0},i=this.valueDistribution(),o=i.neg,s=i.pos,l=this.__dataDomain||this.dataDomain(),u=o?0:n(l[1])+r,c=s?0:n(l[0])-r;return a.tpad=Math.max(u-t.h,0),a.bpad=Math.max(0-c,0),a},checkSeriesLabelSpace:function(t,e,n){var r=this,a=r.seriesDist(),i={bpad:0,tpad:0};if(r.__isTimeScale){var o=r.xTickLength(),s=r.valueDistribution(),l=s.mix,u=s.neg,c=r.xTickFontSize()+a+o+(l?r.valueLabelSpace():0);if(u)i.tpad=Math.max(0,n(0)+c-t.h);else{var f=Math.max(0-((l?n.range()[0]:n(0))-c),0);i.bpad=Math.max(0,f)}}else{var h=.9*r.barLabelWidth(),d="series highlighted"+(r.useSmallerLabels()?" smaller":"");e.forEach(function(e){var o=r.__rotateLabels?Math.min(150,r.labelWidth(e.name,d)+2):r.labelHeight(e.name,d,h);if(o+=a,e.value<0){var s=Math.max(n(0)+o-t.h,0);i.tpad=Math.max(i.tpad,s)}else{var l=Math.max(0-(n(0)-o),0);i.bpad=Math.max(i.bpad,l)}})}return i},checkTickLabelSpace:function(t,e){var n=this,r={tpad:0,bpad:0};if(!n.get("yAxisLabels.enabled",!0))return r;var a=n.getYGridTicks(),i=Math.max.apply(Math,a),o=n.labelHeight("X","axis y-tick-values tick secondary",100),s=t.h-(n.__lh||0);if(e.domain()[1]===i){var l=e(i)+(n.insideTicks()?o+3:o/2);r.tpad=l>s?l-s:0}return r},gridLabelSpace:function(t){var e=this;if(!e.get("yAxisLabels.enabled",!0))return 0;var n=e.dataDomain()[1],r=e.get("yAxisLabels.placement","outside"),a=e.getYGridTicks(),i=Math.max.apply(Math,a),o=e.chart().get("metadata.data.column-format",{})[e.fmtColumn().name()]||{},s=o["number-append"]||o["number-prepend"],l=e.maxGridLabelWidth(a);return"inside"===r&&s&&!e.isNormalized()?l[i>n?"simple":"withUnit"]:l.withUnit},maxGridLabelWidth:function(t){var e=this,n=Math.max.apply(Math,t),r=e.__update?il(e.get("y-grid-format","0,0.[00]"),e.fmtColumn(),e):e.formatValue,a={simple:!0,withUnit:!1};return Object.keys(a).forEach(function(i){var o=a[i];a[i]=function(t,e){var n,r,a=t.length,i=-1;if(null==e){for(;++i<a;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<a;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<a;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<a;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r}(t,function(t,a){var i=r(t,o||t!==n);return e.labelWidth(i,"label axis")})+e.tickDist()}),a},getDataRowByPoint:function(t,e){return 0},insideTicks:function(){var t=this.get("yAxisLabels.enabled",!0),e=this.get("yAxisLabels.placement","outside"),n=this.get("grid-lines",!0);return t&&n&&"inside"===e},showTooltip:function(){},hideTooltip:function(){},__barEnter:function(t,e){var n=this,r=n.__canvas,a=n.__update,i=Object.assign({},t);i.value=0;var o,s=n.colorMap(),l=n.barDimensions(t,e),u=n.barDimensions(i,e),c=n.chart(),f=n.theme(),h=t.value,d=n.getColor(t.key,t.row,h),p=JSON.parse(JSON.stringify(l)),g=JSON.parse(JSON.stringify(u));p.x=l.bx,void 0!==t.value&&null!==t.value||(t.value=""),o=n.registerElement(r.paper.rect().attr(a?g:p).attr({stroke:null,fill:s(d)}),t.name,t.row),f.columnChart.barAttrs&&o.attr(f.columnChart.barAttrs);var v=n.formatValue(h,!0).replace("-",n._minus);v="null"===v||"undefined"===v?"":v;var m=["series x-tick-values chart-text label"],b=n.get("valueLabels.enabled",!0),y=n.get("valueLabels.show","hover"),_=c.hasHighlight(),x=_&&c.isHighlighted(String(t.name)),w=n.labelPosition(t,e,"value"),k=n.labelPosition(i,e,"value"),M=n.labelPosition(t,e,"series",t.name);if(b||_){var C=["value","outline"];(!_||x||b&&"hover"!==y)&&(_||"hover"!==y)||C.push("hide"),x&&C.push("highlighted");var S=t.value<0?n.valueLabelSpace():0,T=a?k.top+S:w.top,L=n.registerLabel(n.label(w.left,T,v,{w:w.width,valign:w.valign,align:"center",cl:C.join(" ")}),t.name,e,t.row);n.__themeProps.valueText&&$(".label.value span").css("color",n.__themeProps.valueText),a&&L.animate({y:w.top},.7*f.duration,f.easing)}a&&o.animate(p,.7*f.duration,f.easing),x&&m.push("highlighted"),n.useSmallerLabels()&&m.push("smaller"),n.__rotateLabels&&(m.push("rotate90"),t.value>=0?m.push("lbl-align-right"):m.push("lbl-align-left")),/^X\.\d+$/.test(t.name)||(n.registerLabel(n.label(M.left,M.top,t.name,{w:M.width,align:M.halign,valign:M.valign,cl:m.join(" ")}),t.name,n.axes().labels,t.row),n.__themeProps.seriesText&&$(".label.series span").css("color",n.__themeProps.seriesText))},__barExit:function(t){_.each(this.__elements[t],function(t){t.remove()}),_.each(this.__labels[t],function(t){t.remove()}),this.__elements[t]=void 0,this.__labels[t]=void 0},useSmallerLabels:function(){return this.barLabelWidth()<30},rotateLabels:function(){var t=this,e=t.get("rotate-labels","auto");if("on"===e)return!0;if("off"===e)return!1;var n=t.getBarValues(),r=.9*t.barLabelWidth(),a=!1;return _.each(n,function(e,n){/^X\.\d+$/.test(e.name)||(t.label(0,0,e.name,{w:"0px",cl:"label series highlighted measure-word"+(t.useSmallerLabels()?" smaller":"")}),$($(".measure-word span")[n]).width()>r&&(a=!0))}),$(".measure-word").remove(),a},getBarValues:function(t){var e=this,n=e.__lastRow,r=e.dataset.column(e.axesDef.labels),a=e.getBarColumn(n),i=e.get("sort-values"),o=e.get("reverse-order"),s=r.type(!0).formatter(),l=[];return a?(a.each(function(t,n){isNaN(t)||null===t||l.push({name:s(r.val(n)),key:e.colorKey(n),value:t,row:n})}),t&&i&&l.sort(function(t,e){return(isNaN(e.value)?0:e.value)-(isNaN(t.value)?0:t.value)}),t&&o&&l.reverse(),l.forEach(function(t,e){e&&(t._prev=l[e-1]),e<l.length-1&&(t._next=l[e+1])}),l):[]},getBarColumn:function(){var t=this.__lastRow;if(_.isUndefined(t))throw new Error("filter must not be undefined");return _.isUndefined(this.axesDef.columns[t])?null:this.dataset.column(this.axesDef.columns[t])},update:function(t,e,n){var r=this,a=r.getBarValues(!0);r.__newBars=[],r.__update=!0,r.__rotateLabels=r.rotateLabels(),r.__gridLabelSpace=r.gridLabelSpace(n),n.tpad=0,n.bpad=0,r.calculatePadding(n,a),r.initDimensions(),r.horzGrid(!0),r.__isTimeScale?function(t,e,n){var r=la(".dw-chart-body"),a=r.node().getBoundingClientRect(),i=t.valueDistribution().neg,o=el(t,n),s=o.margin,l=o.size,u=t.__scales.y.range([l.height,0]),c=t.labelHeight("X","value",100),f=fr(t.theme(),"vis.column-chart.labels.values.dist",10),h=ri().duration(t.theme().duration).ease(oi.exponent(5));r.selectAll("g.column").each(function(t){la(this).select("rect.column").transition(h).attr("height",t.value[e]>0?u(0)-u(t.value[e]):u(t.value[e])-u(0)).attr("y",t.value[e]>0?u(t.value[e]):u(0))}),r.select("g.container").transition(t.theme().duration).attr("transform","translate("+t._marginL+","+s.t+")");var d=t.axisTranslate(u,l);r.select("g.x-axis.grid-x").transition(h).attr("transform","translate(0,"+d+")");var p=t.axisLineTranslate(n,l);r.selectAll(".major-grid-line line").transition(h).attr("transform","translate(0,"+(i?p:0)+")");var g=r.selectAll("div.label.value").filter(function(t){return t});g.selectAll("span").html(function(n){return null===n.value[e]?"":t.formatValue(n.value[e],!0)}),g.style("left",function(e){var n=la(this).select("span").node().getBoundingClientRect().width,r=t.__xScale(e.x)+t._lpad-n/2;return r+n>a.right&&(r-=r+n-a.right),r<a.left&&(r+=a.left-r),r+"px"}).transition(h).style("top",function(t){return u(t.value[e])+s.t-(t.value[e]>=0&&!i?c:0)-(t.value[e]<0||i?-1:1)*f+"px"})}(r,e,n):r.updateBars(t,e,n),r.__gridLines[0]&&r.__gridLines[0].toFront()},updateBars:function(t,e,n){var r=this,a=r.theme(),i={},o=this.colorMap();_.each(r.getBarValues(!0),function(t,e){r.__elements[t.name+"-"+t.row]||r.__newBars.push({bar:t,s:e}),_.each(r.__elements[t.name+"-"+t.row],function(n){var i=r.barDimensions(t,e,0);n.animate(i,a.duration,a.easing);var s=r.getColor(t.key,t.row,t.value);n.attrs.fill!==s&&n.attr({fill:o(s)})}),_.each(r.__labels[t.name+"-"+t.row],function(n){var i;n.hasClass("value")?(void 0!==t.value&&null!==t.value&&"undefined"!==t.value||(t.value=""),n.text(r.formatValue(t.value,!0)),i=r.labelPosition(t,e,"value")):n.hasClass("series")&&(i=r.labelPosition(t,e,"series",t.name)),i&&(n.animate({w:i.width,x:i.left,y:i.top,align:i.halign,valign:i.valign},a.duration,a.easing),n.hasClass("value")||(t.value<0?$(n.el).addClass("lbl-align-left").removeClass("lbl-align-right"):$(n.el).addClass("lbl-align-right").removeClass("lbl-align-left")))}),i[t.name+"-"+t.row]=!0}),_.each(r.__elements,function(t,e){i[e]||r.__barExit(e)})},addNewBars:function(t){t.__newBars&&setTimeout(function(){for(;t.__newBars.length;)t.__barEnter(t.__newBars[0].bar,t.__newBars[0].s),t.__newBars.shift();t.__gridLines[0]&&t.__gridLines[0].toFront()},.6*t.theme().duration)},getBarColor:function(t,e,n){var r=fr(this.theme(),"style.chart.highlights.noFade",!1),a=e&&t.value<0;return this.getKeyColor(t?t.key:null,t?t.value:null,a,n,r)},getDomain:function(){return this.applyCustomRange(this.dataDomain())},dataDomain:function(){var t=this,e=t.dataset.column(t.axesDef.columns[t.__lastRow||0]).values().filter(function(t){return!isNaN(t)}),n=[Math.min.apply(Math,e.concat([0])),Math.max.apply(Math,e.concat([0]))];return t.get("absolute-scale",!1)&&(n=dw.utils.minMax(_.map(t.axesDef.columns,function(e){return t.dataset.column(e)})),n=[Math.min(0,n[0]),Math.max(0,n[1])]),t.__dataDomain=n,n},applyCustomRange:function(t){var e=[t[0],t[1]],n=this.useCustomRange(),r=this.get("custom-range",[]).map(function(t){return+t});return n[0]&&(e[0]=Math.min(r[0],t[0])),n[1]&&(e[1]=Math.max(r[1],t[1])),e},useCustomRange:function(){var t=this.getBarColumn().range(),e=this.get("custom-range",["",""]);if(""===e[0]&&""===e[1])return[!1,!1];e=e.map(function(t){return+t});var n=[];return n[0]=!isNaN(e[0])&&e[0]<t[0],n[1]=!isNaN(e[1])&&e[1]>t[1],n},initDimensions:function(t){var e=this,n=e.__canvas,r=e.getDomain();e.__domain=r,e.__scales={y:fe().domain(r)},e.__scales.y.rangeRound([0,n.h-n.bpad-n.tpad])},barAndLabelWidth:function(){var t=this.__canvas,e=this.getBarValues().length,n=this.get("bar-padding",60)/100,r=t.w-t.lpad-t.rpad-this.__gridLabelSpace;return{barWidth:r/(e+(e>2?e-1:e)*n),labelWidth:r/e}},barWidth:function(){return this.barAndLabelWidth().barWidth},barLabelWidth:function(){return this.barAndLabelWidth().labelWidth},axisLabelsAlignment:function(){return this._isStacked&&this._isStacked()&&this.useDirectLabeling()?"left":this.get("yAxisLabels.alignment","left")},barDimensions:function(t,e){var n,r,a,i=this,o=i.__scales,s=i.__canvas,l=i.__gridLabelSpace,u=i.barWidth(),c=i.barLabelWidth(),f=i.axisLabelsAlignment(),h=i.get("bar-padding",60)/100,d=t.value;isNaN(d)&&(d=0),(n=o.y(d)-o.y(0))>=0?a=s.h-s.bpad-o.y(0)-n:(a=s.h-s.bpad-o.y(0),n*=-1),0!==n&&(n=Math.max(1,n));var p=s.lpad+("left"===f?l:0),g=e*c;return h*=u,r=Math.round(p+g+h/2),{width:Math.round(u),height:n,x:r,y:a,bx:r,bw:u,pad:h}},labelPosition:function(t,e,n,r){var a,i=this,o=i.__canvas,s=i._rotateLabels,l=i.barDimensions(t,e),u=i.valueDistribution().neg,c=t.value,f=(c>=0||isNaN(c))&&!u,h=f||s?"top":"bottom",d=fr(i.theme(),"vis.column-chart.labels.values.dist",10),p=f?l.y-d:l.y+l.height+d,g=fr(i.theme(),"vis.column-chart.labels.series.dist",5)-(s?2:0),v=f?l.y+l.height+g:l.y-g,m=i.axisLabelsAlignment(),b=l.bx+.5*l.width;if("value"===n)return a=i.labelWidth(i.formatValue(c,!0),"value outline hover"),{left:b="right"===m?Math.max(0+.5*a,l.bx+.5*l.width):Math.min(o.w-.5*a,l.bx+.5*l.width),top:p,width:a,valign:f?"bottom":"top"};if("series"===n){if(a=.9*i.barAndLabelWidth().labelWidth,i.__rotateLabels){var y=i.labelWidth(r,"label highlighted series"+(i.useSmallerLabels()?" smaller":""));a=y>150?150:y+2;var _=i.labelHeight(r,"label series highlighted measure-height"+(i.useSmallerLabels()?" smaller":""),a);v+=f?a/2-_/2:_/2-a/2,b=l.bx+l.width/2}return{left:b,top:v,width:a,halign:"center",valign:h}}},getYGridTicks:function(){var t=this,e=t.__canvas,n=t.getDomain(),r=fe().domain(n),a=t.get("custom-ticks"),i=t.getYTicks(r,e.h,!0),o=t._isStacked&&t._isStacked()&&t.isNormalized();return null!=a&&""!==a&&(i=a.split(",")).forEach(function(t,e){i[e]=Number(t)*(o?.01:1)}),(i=i.filter(function(t,e){return t>=n[0]&&t<=n[1]})).includes(0)||i.unshift(0),i},horzGrid:function(t,e){var n=this,r=n.__canvas,a=n.__scales.y,i=n.__domain,o=n.colorMap(),s=n.theme(),l=n.getYGridTicks(),u=n.gridVisible(),c=n.get("yAxisLabels.enabled",!0),f=n.axisLabelsAlignment(),h="inside"===n.get("yAxisLabels.placement","outside"),d=n.__tickLabels=n.__tickLabels||{},p=n.__gridLines=n.__gridLines||{},g=n.tickDist(),v=t?s.duration:0,m=fr(n.theme(),"vis.column-chart.axes.showZero",!1),b=hr(n.theme()),y="topOnly"===fr(s,"style.chart.labels.ticks.vertical.units.numeral","all");t&&(n.formatValue=il(n.get("y-grid-format","0,0.[00]"),n.fmtColumn(),n));var x=b.axis?{stroke:o(b.axis)}:{},w=b.gridline?{stroke:o(b.gridline)}:{};_.each(l,function(t,e){var o,b,k=String(t),M=n.gridlineCoords(),C=M.x,S=M.x2,T=r.h-r.bpad-a(t),L=T-(h&&u?10:0);if("left"===f?(b=h?"left":"right",o=h?r.lpad:C-g):(b=h?"right":"left",o=h?r.w-r.rpad:S+g),0!==t&&c||m&&c){var N=n.formatValue(t,e!==l.length-1,y),A=d[k]=d[k]||n.label(o,L,N,{align:b,cl:["axis","y-tick-values","tick","secondary"].join(" "),css:{opacity:0}});n.__themeProps.tickText&&$(".label.axis span").css("color",n.__themeProps.tickText),A.text(N),A.animate({x:o,y:L,css:{opacity:1}},v,s.easing)}var D,B="grid "+(0===t?"x-axis":"y-gridline"),F={path:[["M",C,T],["L",S,T]],opacity:1,attr:0===t?x:w};if(n.groupSpacing())D=p[k]=p[k]||n.drawLineSegments(t,F,B);else{if((D=p[k]=p[k]||n.path(F.path,B)).toBack(),D.attr(F.attr),0===t&&D.toFront(),!n.__lastTicks||_.indexOf(n.__lastTicks,Number(t))<0){var E=F.path;if(n.__lastDomain){a.domain(n.__lastDomain);var P=r.h-r.bpad-a(t);a.domain(i),E=[["M",C,P],["L",S,P]]}D.attr({opacity:0,path:E})}(u||0===t)&&D.animate(F,v*(n.__lastTicks?1:.2),s.easing,n.addNewBars(n))}}),$.each(p,function(t,e){if(_.indexOf(l,+t)<0){var i=r.h-r.bpad-a(t),o=n.gridlineCoords(),u=o.x,c=o.x2,f={};$.extend(f,s.horizontalGrid,{path:[["M",u,i],["L",c,i]],opacity:0}),e.animate(f,v,s.easing),d[t]&&d[t].animate({x:u+g,y:i,css:{opacity:0}},v,s.easing)}}),n.__lastTicks=l,n.__lastDomain=i.slice(0)},valueDistribution:function(){var t=this.getBarValues(),e=!0,n=!0;return _.each(t,function(t){t.value<0&&(e=!1),t.value>0&&(n=!1)}),{pos:e,neg:n,mix:!n&&!e}},hover:function(t){var e=this,n=this.colorMap(),r=e.getBarValues(),a="hover"===e.get("valueLabels.show","hover"),i=e.get("valueLabels.enabled",!0);_.each(r,function(r){_.each(e.__labels[r.name+"-"+r.row],function(e){void 0!==t&&r.name+"-"+r.row===t?(e.addClass("hover"),a&&i&&e.hasClass("value")&&e.removeClass("hide")):(e.removeClass("hover"),a&&e.hasClass("value")&&!e.hasClass("highlighted")&&e.addClass("hide"))}),_.each(e.__elements[r.name+"-"+r.row],function(a){var i=e.getColor(r.key,r.row,r.value,!0);i=void 0!==t&&r.name+"-"+r.row===t?e.chart().hasHighlight()?i:cr(i).darken(.9).hex():e.getColor(r.key,r.row,r.value),a.attrs.fill!==i&&a.attr({fill:n(i)})})})},unhoverSeries:function(){this.hoverSeries()},registerElement:function(t,e,n){var r=e+("column-chart"===this.meta.id?"-"+n:"");return t.data("key",r),_.isNumber(n)&&t.data("row",n),this.__elements[r]||(this.__elements[r]=[]),this.__elements[r].push(t),t},registerLabel:function(t,e,n,r){var a=this,i=e+("column-chart"===a.meta.id?"-"+r:"");return t.data("key",e),n&&!_.isUndefined(r)&&(t.el.attr("data-column",n),t.el.attr("data-row",r)),a.__labels[i]||(a.__labels[i]=[]),a.__labels[i].push(t),t.on("mouseenter",function(t){a.__hoveredLabel=t.target,clearTimeout(a.__mouseLeaveTimer)}),t.on("mouseleave",function(){a.__mouseLeaveTimer=setTimeout(function(){a.__hoveredLabel=null},100)}),t},groupSpacing:function(){return"grouped-column-chart"!==this.meta.id?0:fr(this.theme(),"vis.grouped-column-chart.axes.gridlines.gapBetweenGroups",0)},tickDist:function(){return fr(this.theme(),"vis.column-chart.axes.tickDist.vertical",8)},seriesDist:function(){return this.__isTimeScale?fr(this.theme(),"style.chart.axes.tickDist.horizontal",5):fr(this.theme(),"vis.column-chart.labels.series.dist",5)-(this.__rotateLabels?2:0)},xTickLength:function(){var t=this.get("grid-lines-x.enabled",!1);return"ticks"===this.get("grid-lines-x.type","ticks")&&t?fr(this.theme(),"style.chart.axes.ticks.horizontal.length",5):0},xTickFontSize:function(){var t,e,n,r;return t=this.theme(),e="fontSize",n=12,r=null,["vis.column-chart.labels.ticks.horizontal","style.chart.labels.ticks.horizontal","typography.chart"].forEach(function(n){null===r&&(r=fr(t,n+"."+e))}),r||n},valueLabelH:function(){return this.__vLblHeight=this.__vLblHeight||this.labelHeight("10","value",100),this.__vLblHeight},valueLabelSpace:function(){return this.get("valueLabels.enabled",!0)?this.valueLabelH()+fr(this.theme(),"vis.column-chart.labels.values.dist",10):0},drawLineSegments:function(t,e,n){var r=this,a=r.getBarColumns().length,i=r.barAndLabelWidth().seriesWidth,o="inside"===r.get("yAxisLabels.placement","outside"),s="left"===r.axisLabelsAlignment(),l=r.groupSpacing()/2,u=e.path[0][1],c=e.path[1][1],f=[],h=s&&o?r.__gridLabelSpace:0;return function(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(a);++r<a;)i[r]=t+r*n;return i}(a).forEach(function(s){e.path[0][1]=0===s&&o?0:u+h+l+i*s,e.path[1][1]=o&&s===a-1?c:u+h-l+i*(s+1);var d=r.path(e.path,n).attr(e.attr).toBack();f.push(d),0===t&&d.toFront()}),f},gridlineCoords:function(){var t=this,e=t.__canvas,n=t.axisLabelsAlignment(),r=t.get("yAxisLabels.placement","outside"),a=e.lpad,i=e.w-e.rpad;return"outside"===r&&("left"===n?a+=t.__gridLabelSpace:"right"===n&&(i-=t.__gridLabelSpace)),{x:a,x2:i}},gridVisible:function(){return"show"===this.get("grid-lines",!0)||this.get("grid-lines",!0)},formattedLabel:function(t){return this.dataset.column(this.axes().labels).type(!0).formatter()(this.axes(!0).labels.val(t))+""||""},rowName:function(t){return dw.utils.purifyHtml(this.axes(!0).labels.raw(t),"")||""},colorKey:function(t){var e=this.axes(!0).labels,n=this.axes(!0).labels.type();return dw.utils.purifyHtml("text"===n?"undefined"===e.val(t,!0)?e.val(t):e.val(t,!0):e.raw(t),"")||""},colorKeys:function(){var t=this,e=[];return t.dataset.eachRow(function(n){e.push(t.colorKey(n))}),e},initGetColor:function(){var t=this,e=fr(t.theme(),"style.chart.highlights.noFade",!1),n=t.get("base-color",0),r={customColors:Object.assign({},t.__customColors,t.get("custom-colors",{})),selectedColor:n};t.get("negative-color",!1)&&(r.negativeColor=t.theme().colors.negative);var a=gr(t.theme(),r),i=a;if(t.chart().hasHighlight()){var o=t.theme().colors.background;i=function(n,r,i,s){return t.chart().isHighlighted(t.formattedLabel(r))||s||e?a(n,r,i):cr.interpolate(a(n,r,i),o,.65,"rgb").hex()}}t.getColor=i},fmtColumn:function(){return"column-chart"!==this.meta.id?this.dataset.column(this.axesDef.columns[0]):this.getBarColumn()},formatValue:function(){var t=this,e=t.fmtColumn();return t.formatValue=il(t.get("y-grid-format","0,0.[00]"),e,t),t.formatValue.apply(arguments)},axisTranslate:function(t,e){var n=this,r=n.valueDistribution(),a=r.mix,i=r.neg,o=n.xTickLength(),s=n.seriesDist(),l=n.xTickFontSize();return a?e.height+n.valueLabelSpace()+o:t(0)+o-(i?l+2*(o+s):0)},axisLineTranslate:function(t,e){var n=this,r=n.get("grid-lines-x.type","ticks"),a=n.xTickLength(),i=n.seriesDist(),o=n.xTickFontSize();return"ticks"===r?o+2*i+a:e.height+n.valueLabelSpace()-2*t.tpad},_isStacked:function(){return"stacked-column-chart"===this.meta.id},isNormalized:function(){return!!this._isStacked()&&(!this.valueDistribution().diverging&&this.get("normalize",!1))},getDates:function(){var t=this,e=t.dataset.list().map(function(e){return e[t.axesDef.labels]}).filter(ur);return t.isMMMFormat()&&(e=t.fixMMMFormat(e)),e.sort(function(t,e){return t.getTime()-e.getTime()})},isMMMFormat:function(){var t=this.axes(!0).labels,e=[].concat(Array(t.length).keys()).map(function(e,n){return t.raw(n)});return"MMM"===dw.column.types.date(e).format()},fixMMMFormat:function(t){var e=!1,n=0;return t.forEach(function(r,a){e||0===a||(n=ur(t[a-1])?t[a-1].getTime():n,ur(r)&&r.getTime()<n&&(e=a))}),e&&(t=t.map(function(t,n){return n<e&&ur(t)?new Date(t.getFullYear()-1,t.getMonth(),t.getDate()):t})),t},d3ColumnData:function(){var t=this,e=t.dataset.list().map(function(e,n){var r={},a=t.axes(!0);a.columns.forEach(function(t){r[t.title()]=isNaN(e[t.name()])?0:e[t.name()]});var i=dw.utils.purifyHtml(a.labels.raw(n)),o=t.formattedLabel(n);return{x:e[t.axesDef.labels],value:r,row:n,_isHighlighted:t.chart().isHighlighted(o),key:i,rowName:t.rowName(n),colorKey:t.colorKey(n)}});if(e=e.filter(function(t){return ur(t.x)}),t.isMMMFormat()){var n=t.fixMMMFormat(e.map(function(t){return t.x}));e.forEach(function(t,e){t.x=n[e]}),e.sort(function(t,e){return t.x.getTime()-e.x.getTime()})}return e},getDomainX:function(t){var e=this.getDates(),n=function(t,e){var n,r,a,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=a=n;++o<i;)null!=(n=t[o])&&(r>n&&(r=n),a<n&&(a=n))}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=a=n;++o<i;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),a<n&&(a=n));return[r,a]}(e),r=(t?[]:this.get("custom-range-x",[])).map(function(t){return+t});return r.length&&(r=dw.column("",r,"date").values(),n[0]=ur(r[0])&&r[0]<n[0]?r[0]:n[0],n[1]=ur(r[1])&&r[1]>n[1]?r[1]:n[1]),n=function(t,e){var n=t[0].getTime(),r=t[1].getTime(),a=(r-n)*e;return[new Date(n-a),new Date(r+a)]}(n,.5/e.length)}});Math.PI;function sl(t){return function(){return t}}Math.PI;var ll=Array.prototype.slice;function ul(t){return t<0?-1:1}function cl(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(ul(i)+ul(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function fl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hl(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,s=(i-r)/3;t._context.bezierCurveTo(r+s,a+s*e,i-s,o-s*n,i,o)}function dl(t){this._context=t}function pl(t){this._context=t}function gl(t,e){if((a=t.length)>1)for(var n,r,a,i=1,o=t[e[0]],s=o.length;i<a;++i)for(r=o,o=t[e[i]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function vl(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ml(t,e){return t[e]}function bl(t){for(var e,n=0,r=-1,a=t.length;++r<a;)(e=+t[r][1])&&(n+=e);return n}function yl(t){return function(t){var e=t.map(bl);return vl(t).sort(function(t,n){return e[t]-e[n]})}(t).reverse()}dl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hl(this,this._t0,fl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hl(this,fl(this,n=cl(this,t,e)),n);break;default:hl(this,this._t0,n=cl(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new pl(t)}.prototype=Object.create(dl.prototype)).point=function(t,e){dl.prototype.point.call(this,e,t)},pl.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};var _l=!0;dw.visualization.register("grouped-column-chart","column-chart",{_showValueLabels:function(){return!0},_isStacked:function(){return!1},render:function(t){var e=this;if(e.checkDataset(t),e.axesDef){var n=e.initCanvas({tpad:0,bpad:0,rpad:0,lpad:0}),r=dw.column.types.date(e.axesDef.columns),a=e.axesDef.columns.map(function(t){return r.parse(t)}).filter(ur),i=e.chart().get("metadata.data.column-format."+e.axesDef.labels+".type","date");e.__isTimeScale="stacked-column-chart"===e.meta.id&&"text"!==i&&a.length>5,e.init(),e.renderChart(t,n),e.renderingComplete()}},renderChart:function(t,e){var n=this,r=n.dataset;n._$chart=la(t.get(0));var a=fr(window,"__dw.params.locales.numeral");a&&_l&&(rl.register("locale","x",a),rl.locale("x"),_l=!1),n.__numeral=rl,n._minus=fr(n.theme(),"typography.chart.minusCharacter","−"),n.formatValue(0),n.__themeProps=hr(n.theme()),n.highlightedKeys(),n.highlightedSeries(),n.createGetColor(),n.initializeColors();var i=n.colorMap();if(n.useDirectLabeling()){var o=n.get("label-space",30)/100;e.rpad=Math.max(e.w*o,1)}else if(r.numRows()>1){var s=[],l=n.chart().columnFormatter(n.axes(!0).labels);r.eachRow(function(t){var e=l(n.axes(!0).labels.val(t)),r=n.colorKey(t);s.push({key:"row-"+t,colorKey:r,hlKey:e,label:l(n.axes(!0).labels.val(t))+""||"",color:i(n.getColor(r,t,e,n.__isTimeScale||n.__highlightedSeries.length))})}),(!n._isStacked()&&n.get("color-key",!0)||n._isStacked()&&n.get("categoryLabels.enabled",!0))&&(!function(t,e,n){var r=t.theme(),a=fr(r,"style.chart.legend.text.useSwatchColor",!1),i=t.legendPadding().top,o=fr(r,"style.chart.legend.swatch.width",14),s=fr(r,"style.chart.legend.swatch.height",14),l="50%"===fr(r,"style.chart.legend.swatch.borderRadius","unset")?"dw-circle":"dw-rect",u=$('<div class="legend"></div>');_.each(e,function(e){if(e.label.length){var n=$('<div class="cc-swatch"></div>'),r=$("<div></div>");t.__isTimeScale&&t.chart().hasHighlight()&&!t.__highlightedSeries.length&&(t.chart().isHighlighted(e.hlKey)?n.addClass("highlighted"):n.addClass("unfocus")),r.css({background:e.color,width:o,height:s});var i=$("<div><span>"+e.label+"</span></div>");n.append(r),n.append(i),u.append(n),e.key&&(n.attr("data-key",e.colorKey),n.attr("data-hlKey",e.hlKey),n.attr("data-rowKey",e.key),r.addClass(l+" cc-color"),i.attr("data-key",e.key),i.addClass("legend-text chart-text label"),a&&$(i.children()[0]).css("color",e.color))}}),u.css({position:"absolute",top:i}),n.prepend(u)}(n,s,$("#chart")),n.__legendItems=s)}n.__lh=n.legendHeight(),n.__gridLabelSpace=n.gridLabelSpace(e),n.__rotateLabels=n.rotateLabels(),n.calculatePadding(e,n._getBarColumns()),["__bars","__barLbls","__gridlines","__gridlabels","__series_names","__row_labels","__row_labels","__row_label_lines","__barCn"].forEach(function(t){n[t]={}}),function(t){t.highlight={delay:300,timer:null,column:null,inactive:!0,set:function(e,n){t.__isTimeScale&&"stacked-column-chart"===t.meta.id||t.highlight.column!==e&&(t.highlight.timer&&clearTimeout(t.highlight.timer),t.highlight.timer=setTimeout(function(){t.highlight.inactive=!1;var r=t.colorMap(),a=t.get("valueLabels.enabled",!0),i=t.get("valueLabels.show","hover"),o=a&&"always"===i?"unfocus":"dontshow",s=r(t.colorData["row-"+e].noFade);$(".cc-swatch.hover").removeClass("hover"),$(".cc-swatch").addClass("unfocus"),$('.cc-swatch[data-rowKey="row-'+e+'"]').removeClass("unfocus").addClass("hover"),$('.cc-swatch[data-rowKey="row-'+e+'"] .cc-color').css("background",s),_.each(t.__bars,function(n,a){var i=r(t.colorData[a].noFade);t.__bars[a].animate({fill:r(i)},100,"easeIn"),t.__bars[a].node&&t.__bars[a].node.setAttribute("class",n.data().row===e?"hover":"unfocus")}),_.each(t.__barLbls,function(r,a){if(r.hasClass("inside")){var i=r.data("row")!==e?"#ffffff":t.colorData[n].noFade;t.invertLabels(i,r)}r.data("row")===e?r.removeClass(o):r.addClass(o)})},t.highlight.inactive?t.highlight.delay:1),t.highlight.column=e)},clear:function(){if(!t.__isTimeScale||"stacked-column-chart"!==t.meta.id){t.highlight.column=null,t.highlight.inactive=!0;var e=t.get("valueLabels.enabled",!0),n=t.get("valueLabels.show","hover"),r=e&&"always"===n?"unfocus":"dontshow";t.highlight.timer&&clearTimeout(t.highlight.timer);var a=t.colorMap(),i=t.chart().hasHighlight();t._$chart.selectAll(".hover").classed("hover",!1),t._$chart.selectAll("rect, .legend .unfocus").classed("unfocus",!1),_.each(t.__barLbls,function(e,n){var r=t.colorData[n].default;t.invertLabels(r,e)}),i?(t._$chart.selectAll(".label.value.highlighted").classed(r,!1),t._$chart.selectAll(".label.value:not(.highlighted)").classed(r,!0),_.each(t.__bars,function(e,n){var r=a(t.colorData[n].default);t.__bars[n].animate({fill:a(r)},100,"easeOut")}),_.each(t.__legendItems,function(e,n){var r=a(t.colorData[e.key][t.__highlightedSeries.length?"noFade":"default"]);$('div[data-rowKey="row-'+n+'"] > .cc-color').css("background",a(r))})):(t._$chart.selectAll(".label.value").classed("unfocus",!1),t._$chart.selectAll(".label.value").classed("dontshow","always"!==n))}}}}(n),n.initDimensions(),n.horzGrid(!1,n.getBarColumns()[0]),n.update(t)},dataDomain:function(){var t=dw.utils.minMax(this.getBarColumns());return t=[Math.min(t[0],0),Math.max(t[1],0)]},initDimensions:function(){var t=this,e=t.__canvas;t.__domain=t.getDomain(),t.__scales={y:fe().domain(t.__domain)};var n=t.__lh,r=$(t._svgCanvas()),a=$(r.parent());$(r).height($(r).height()),$(a).height($(a).height()),t.__scales.y.rangeRound([0,e.h-e.bpad-e.tpad-n])},outerPadding:function(){return 30},barAndLabelWidth:function(){var t=this,e=t.getBarColumns(),n=t.__canvas,r=e.length,a=e[0].length,i=t.get("series-padding",35)/150,o=n.w-n.lpad-n.rpad-t.__gridLabelSpace,s=o/r;return{barWidth:(s-t.groupSpacing())*(1-i)/a,labelWidth:.9*Math.round(o/r),seriesWidth:Math.round(s),padding:i}},barDimensions:function(t,e,n){var r,a,i,o,s=this,l=s.__scales,u=s.__canvas,c=t.length,f=s.barLabelWidth(),h=s.barAndLabelWidth(),d=h.seriesWidth,p=h.labelWidth,g=h.padding,v=fr(s.theme(),"vis.grouped-column-chart.columns.padding",1),m=s.barWidth(),b=s.get("yAxisLabels.alignment","left"),y=t.val(n);!isNaN(y)&&y||(y=0),l&&l.y&&((r=l.y(y)-l.y(0))>=0?i=u.h-u.bpad-l.y(0)-r:(i=u.h-u.bpad-l.y(0),r*=-1)),0!==y&&(r=Math.max(.5,r));var _=u.lpad+("left"===b?s.__gridLabelSpace:0),x=n*m,w=e*d,k=s._isStacked()?0:m*(1-v),M=d*g/2+s.groupSpacing()/2;return a=_+x+w+M,o=Math.round(_+w+m*c/2+M),s.__groupWidth=f,{w:m-k,h:r,x:a+k/2,y:i,bx:o,lbx:o,bw:d,tw:p}},update:function(t){var e=this,n=e.__canvas,r=e.colorMap(),a=e.getBarColumns(e.get("sort-values"),e.get("reverse-order")),i=e.chart().columnFormatter(e.axes(!0).labels),o=fr(e.theme(),"style.chart.legend.position","top");e.__gridLabelSpace=e.gridLabelSpace(n),e.__rowx=[],e.__directLbls=[];var s={};e.__isTimeScale?tl(e,t,n,"stacked"):_.each(a,function(t,o){t.each(function(l,u){var c=e.barDimensions(t,o,u),f=e.colorKey(u),h=t.name()+"-"+u,d=r(e.getColor(f,u,h)),p={x:c.x,y:c.y,width:c.w,height:c.h,stroke:"none",fill:r(d)};s[o+"/"+u]=c,e.__last_bar=c,e.__rowx.push([c.x,c.x+c.w,c.y,c.y+c.h,u]),e.__bars[h]=e.__bars[h]||e.registerElement(n.paper.rect().attr(p),t.name(),u);var g=e.get("valueLabels.enabled",!0),v=e.get("valueLabels.show","hover"),m="outside"===e.get("valueLabels.placement"),b=e.labelHeight("X","label value",100),y=e.valueDist(),_=e.chart().hasHighlight()&&(e.chart().isHighlighted(e.formattedLabel(u))||e.chart().isHighlighted(t.name())),x="value "+("hover"===v&&_||"always"===v?"":" dontshow")+(!m&&c.h>30||e._isStacked()?" inside":"");if("always"===v&&e.chart().hasHighlight()&&!_&&(x+=" unfocus"),e.chart().hasHighlight()&&_&&(x+=" highlighted"),(g||_)&&!isNaN(t.val(u))){e.__barLbls[h]=e.__barLbls[h]||e.registerLabel(e.label(0,0,"X",{align:"center",cl:x}),t.name());var w=null===t.val(u)?"":e.formatValue(t.val(u),!0);e._minus&&w.indexOf("-")>-1&&(w=w.replace("-",e._minus)),e.__barLbls[h].animate({x:c.x+.5*c.w,y:e._isStacked()?c.y+.5*c.h:+m?c.y+(t.val(u)>=0?-y-b/2:c.h+y+b/2):c.y+(t.val(u)>=0?+(c.h>30?12:-12):+(c.h>30?c.h-12:c.h+12)),txt:w},0,"expoInOut"),e.__barLbls[h].data("row",u),m&&!e._isStacked()&&$(".label.value span").css("color",e.__themeProps.valueText)}var k,M=e.seriesDist(),C=e.valueDistribution(),S=C.diverging,T=C.neg,L=!S&&l<0||T,N=L?c.y-M:c.y+c.h+M,A=c.lbx,D=["series x-tick-values"],B=c.tw,F=!L||isNaN(l)?"top":"bottom";if(e.chart().hasHighlight()&&e.chart().isHighlighted(t.name())&&D.push("highlighted"),e.useSmallerLabels()&&D.push("smaller"),e.__rotateLabels){var E=e.labelWidth(t.title(),"label highlighted series rotate90"+(e.useSmallerLabels()?" smaller":""))+2;B=E>150?150:E,k=e.labelHeight(t.title(),"label highlighted series x-tick-values chart-text"+(e.useSmallerLabels()?" smaller":""),B),N+=l>=0||isNaN(l)?B/2-k/2:k/2-B/2,D.push("rotate90 lbl-align-"+(L?"left":"right")),$(".dw-chart-body").addClass("rotated-labels")}else $(".dw-chart-body").removeClass("rotated-labels");if(e._isStacked()&&e.get("connect-bars")&&o>0){var P=s[o-1+"/"+u],O={fill:r(d),stroke:r(d),opacity:fr(e.theme(),"vis.stacked-column-chart.connectBars.opacity",.15),path:"M"+[P.x+P.w,P.y+.5]+"L"+[c.x,c.y+.5,c.x,c.y-.5+c.h,P.x+P.w,P.y-.5+P.h]+"z"};e.__barCn[h]=e.__barCn[h]||e.registerElement(n.paper.path().attr(O),t.name(),u),e.__barCn[h].animate(O,0,e.theme().easing)}if(!/^X\.\d+$/.test(t.title())&&0===u){var z={x:A,y:N,w:B,align:"center",valign:F,cl:D.join(" ")};if(S){z.valign="top";var j=e.getMins();N=e.__canvas.h-n.bpad+M-e.__scales.y(j[t.name()])+(e.__rotateLabels?z.w/2-k/2-.2*M:0),z.y=N}S&&!e._isStacked()&&(z.valign="top",N=e.__canvas.h-n.bpad+M+e.valueLabelSpace()+(e.__rotateLabels?z.w/2-k/2:0),z.y=N);var R=e.__series_names[t.name()]=e.__series_names[t.name()]||e.registerLabel(e.label(z.x,z.y,t.title(),z),t.name());e.__themeProps.seriesText&&$(".label.series span").css("color",e.__themeProps.seriesText),R.animate(z,0,e.theme().easing)}if(e.useDirectLabeling()&&o===a.length-1){var Y={x:n.w-n.rpad+20-n.w*e.get("margin",0)/150,y:c.y+.5*c.h,oy:c.y+.5*c.h,w:n.rpad-20,align:"left",valign:"middle",cl:"",rotate:0},I="row-"+u,H=e.__row_labels[I]=e.__row_labels[I]||e.registerLabel(e.label(Y.x,Y.y,i(e.axes(!0).labels.val(u))||"null",Y),I);H.__attrs=Y,e.__directLbls.push(H)}})}),_.each(e.__barLbls,function(t,n){var r=e.colorData[n].default;e.invertLabels(r,t)}),e.optimizeLabelPositions(e.__directLbls,7,"middle",0,n.h-n.bpad-7),e.__directLbls.forEach(function(t,a){t.__attrs.y=t.__attrs.oy+t.__noverlap.dy;var i=e.colorKey(a),o=e.get("use-line-color")?r(function(t){var n=cr(t).lab();return cr(e.__theme.colors.background).lab()[0]>50?n[0]>85?cr.lab(80,n[1],n[2]):t:n[0]<15?cr.lab(20,n[1],n[2]):t}(e.getColor(i,a,e.rowName(a),!0))):cr(e.__theme.colors.background).lab()[0]<50?"#ffffff":"#000000",s="M"+(e.__last_bar.x+e.__last_bar.w)+","+t.__attrs.oy+"L"+(t.__attrs.x-3)+","+t.__attrs.y;e.__row_label_lines[a]?e.__row_label_lines[a].animate({path:s},e.theme().duration,e.theme().easing):e.__row_label_lines[a]=n.paper.path(s).attr(e.theme().yAxis).attr({opacity:.5,stroke:r(o),"stroke-width":e.get("use-line-color")?"2px":"1px"}),e.get("use-line-color")&&$(t.el[0].firstElementChild).css({color:r(o)}),t.animate(t.__attrs,0,e.theme().easing)}),e.__gridLines&&e.__gridLines[0]&&(Array.isArray(e.__gridLines[0])?e.__gridLines[0].forEach(function(t){return t.toFront()}):e.__gridLines[0].toFront()),$("svg").on("mousemove",function(t){"rect"===t.target.nodeName||e.highlight.inactive||e.highlight.clear()}),$(".cc-swatch").on("mouseenter",function(){var t=Number(this.dataset.rowkey.replace("row-",""));e.highlight.set(t,this.dataset.rowkey)}),e.__isTimeScale||e.axesDef.columns.forEach(function(t){for(var n=function(n){e.__bars[t+"-"+n].node.addEventListener("mouseenter",function(){return e.highlight.set(n,t+"-"+n)})},r=0;r<e.dataset.numRows();r++)n(r)}),e.repositionLegend(o)},useDirectLabeling:function(){return this._isStacked()&&this.get("categoryLabels.enabled",!0)&&"direct"===this.get("categoryLabels.position","direct")},getBarColumns:function(t,e){return this._getBarColumns(t,e)},_getBarColumns:function(t,e){var n=this,r=_.map(n.axesDef.columns,function(t){return n.dataset.column(t)}),a="last"!==n.get("sort-by");return t&&(r=r.sort(function(t,e){var n=t.type(!0),r=e.type(!0),i=a?0:t.length-1,o=n.toNum?n.toNum(t.val(i)):t.val(i),s=r.toNum?r.toNum(e.val(i)):e.val(i);return o>s?1:o<s?-1:0})),e&&r.reverse(),r},getDataRowByPoint:function(t,e){var n=this;return(_.find(this.__rowx,function(r){return t>=r[0]&&t<=r[1]&&e-n.__top>=r[2]&&e-n.__top<=r[3]})||[0,0,0,0,-1])[4]},showTooltip:function(){},hideTooltip:function(){},invertLabels:function(t,e){e.hasClass("inside")&&(cr(t).lab()[0]<70?e.addClass("inverted"):e.removeClass("inverted"))},getMins:function(){var t={},e=this._getBarColumns();return _.each(e,function(e,n){t[e.name()]=0,e.each(function(n,r){n<0&&(t[e.name()]=t[e.name()]+n)})}),t},checkSeriesLabelSpace:function(t,e,n){var r=this,a=r.seriesDist(),i={bpad:0,tpad:0},o=t.h-r.__lh,s=r.valueDistribution().diverging;if(r.__isTimeScale){var l=r.xTickLength(),u=r.valueDistribution(),c=u.neg,f=u.mix,h=r.xTickFontSize()+a+l;c?i.tpad=Math.max(0,n(0)+h-t.h+r.__lh):i.bpad=Math.max(0-((f?n.range()[0]:n(0))-h),0)}else{var d=["label","highlighted","series"],p=r.__rotateLabels,g=r.useSmallerLabels();p&&d.push("rotate90"),g&&d.push("smaller"),d=d.join(" "),e.forEach(function(t,e){var l,u=t.title(),c=0;t.each(function(n,a){l=r.barDimensions(t,e,a),c+=n});var f=p?Math.min(130,r.labelWidth(u,d)+2):r.labelHeight(u,d,l.tw);if(f+=a,s){f+=r.valueLabelSpace();var h=Math.max(0-(n.range()[0]-f),0);i.bpad=Math.max(i.bpad,h)}else if(c<0){var g=Math.max(n(0)+f-o,0);i.tpad=Math.max(i.tpad,g)}else{var v=Math.max(0-(n(0)-f),0);i.bpad=Math.max(i.bpad,v)}})}return i},checkValueLabelSpace:function(t,e,n){var r=this,a=r.valueLabelSpace(),i=t.h-r.__lh,o={tpad:0,bpad:0};if(r._isStacked&&r._isStacked())return o;var s=r.valueDistribution(),l=s.neg,u=s.pos,c=s.diverging,f=r.dataDomain(),h=l?0:n(f[1])+a,d=u||c?0:n(f[0])-a;return o.tpad=Math.max(h-i,0),o.bpad=Math.max(0-d,0),o},valueLabelSpace:function(){var t=this,e=t.get("valueLabels.enabled",!0),n="inside"===t.get("valueLabels.placement"),r=t.chart().hasHighlight();if(t._isStacked()||n)return 0;if(r||e){var a=t.valueDist();return t.labelHeight("X","label value",100)+a}return 0},valueDistribution:function(){var t=this._getBarColumns(),e=!1,n=!0,r=!0;return _.each(t,function(t){t.range()[0]!==Number.MAX_VALUE&&((t.range()[0]<0&&t.range()[1]>0||t.range()[1]<0&&t.range()[0]>0)&&(e=!0),t.each(function(t){t>0&&(r=!1),t<0&&(n=!1)}))}),{diverging:e,neg:r,pos:n,mix:!r&&!n}},rotateLabels:function(){var t=this,e=t.get("rotate-labels","auto");if("on"===e)return!0;if("off"===e)return!1;var n=t._getBarColumns(),r=!1;return _.each(n,function(e,n){e.each(function(t){}),/^X\.\d+$/.test(e.title())||(t.label(0,0,e.title(),{w:"0px",cl:"label series measure-word"}),$($(".measure-word span")[n]).width()>t.barAndLabelWidth()[t._isStacked()?"barWidth":"seriesWidth"]*(t._isStacked()?.85:1)&&(r=!0))}),$(".measure-word").remove(),r},highlightedSeries:function(){var t=this;t.__highlightedSeries=[],t.chart().hasHighlight()&&_.each(t._getBarColumns(),function(e,n){t.chart().isHighlighted(e.name())&&t.__highlightedSeries.push(e.name())})},highlightedKeys:function(){var t=this;if(t.hlKeys=[],t.chart().hasHighlight()){var e=t.dataset.column(t.axes().labels).type(!0).formatter(),n=t._getBarColumns();_.each(n,function(n,r){n.each(function(r,a){var i=e(t.axes(!0).labels.val(a)),o=n.name()+"-"+a;t.chart().isHighlighted(i)&&(t.hlKeys.push(o),t.hlKeys.push(i)),t.chart().isHighlighted(n.name())&&-1===t.hlKeys.indexOf(o)&&t.hlKeys.push(o)})})}},initializeColors:function(){var t=this,e={},n=t._getBarColumns();_.each(n,function(n,r){n.each(function(r,a){var i=n.name()+"-"+a,o=t.colorKey(a),s=t.getColor(o,a,i,!0),l=t.getColor(o,a,i);e["row-"+a]={default:l,noFade:s},e[i]={default:l,noFade:s}})}),t.colorData=e},legendPadding:function(){return{top:fr(this.theme(),"style.chart.legend.padding.top",10),bottom:fr(this.theme(),"style.chart.legend.padding.bottom",20)}},repositionLegend:function(t){var e=this;"top"!==t&&(e.useDirectLabeling()&&e._isStacked()||"bottom"===t&&($(".label:not(.legend-text)").each(function(t){$(this).css("top",parseInt($(this).css("top"),10)-e.__lh+"px")}),$("svg").css("top",-e.__lh+"px"),$(".legend").css("top",e.__canvas.h-e.__lh+e.legendPadding().top)))},seriesDist:function(){return fr(this.theme(),"vis.grouped-column-chart.labels.series.dist",10)-(this.__rotateLabels&&!this.__isTimeScale?2:0)},valueDist:function(){return fr(this.theme(),"vis.column-chart.labels.values.dist",5)},legendHeight:function(t){var e=this,n=e.legendPadding();return e._isStacked()&&!e.useDirectLabeling()&&e.get("categoryLabels.enabled",!0)||!e._isStacked()&&e.get("color-key",!0)?n.top+n.bottom+$(".legend div:last").offset().top+Math.max($(".legend div.dw-rect:last").height(),$(".legend div.legend-text:last span").height())-$(".legend div:first").offset().top:0},createGetColor:function(){var t=this,e=Object.assign({},t.__customColors,t.get("custom-colors",{})),n=t.get("base-color",0),r=fr(t.theme(),"style.chart.highlights.noFade",!1),a=gr(t.theme(),{customColors:e,selectedColor:n,permute:!1,keys:t.colorKeys()}),i=a;if(t.chart().hasHighlight()){var o=t.theme().colors.background;i=function(e,n,i,s){return t.hlKeys.includes(i)||t.hlKeys.includes(e)||s||r||"undefined"===e?a(e,n):cr.interpolate(a(e,n),o,.65,"rgb").hex()}}t.getColor=i},getDates:function(){var t=dw.column.types.date(this.axesDef.columns).parse,e=this.axesDef.columns.map(function(e){return t(e)}).filter(function(t){return ur(t)});return this.isMMMFormat()&&(e=this.fixMMMFormat(e).sort(function(t,e){return t.getTime()-e.getTime()})),e},isMMMFormat:function(){return"MMM"===dw.column.types.date(this.axesDef.columns).format()},d3ColumnData:function(){var t=this,e=t.get("sort-values"),n=t.get("reverse-order"),r=dw.column.types.date(t.axesDef.columns).parse,a=t.dataset.columns()[0].values(),i=t._getBarColumns().map(function(e){var n=e.values().reduce(function(t,e){return(isNaN(t)?0:t)+(isNaN(e)?0:e)}),i={x:r(e.name()),label:e.name()};return e.values().forEach(function(e,r){e=isNaN(e)?0:e,i[a[r]]=e/(t.isNormalized()?n:1)}),i});if(i=i.filter(function(t){return ur(t.x)}),t.isMMMFormat()){var o=t.fixMMMFormat(i.map(function(t){return t.x}));i.forEach(function(t,e){t.x=o[e]})}var s=function(){var t=sl([]),e=vl,n=gl,r=ml;function a(a){var i,o,s=t.apply(this,arguments),l=a.length,u=s.length,c=new Array(u);for(i=0;i<u;++i){for(var f,h=s[i],d=c[i]=new Array(l),p=0;p<l;++p)d[p]=f=[0,+r(a[p],h,p,a)],f.data=a[p];d.key=h}for(i=0,o=e(c);i<u;++i)c[o[i]].index=i;return n(c,o),c}return a.keys=function(e){return arguments.length?(t="function"==typeof e?e:sl(ll.call(e)),a):t},a.value=function(t){return arguments.length?(r="function"==typeof t?t:sl(+t),a):r},a.order=function(t){return arguments.length?(e=null==t?vl:"function"==typeof t?t:sl(ll.call(t)),a):e},a.offset=function(t){return arguments.length?(n=null==t?gl:t,a):n},a}().order(yl).keys(a);if(i.sort(function(t,e){return t.x.getTime()-e.x.getTime()}),i=s(i),e){var l=t.get("sort-by","last");i=i.sort(function(t,e){return"last"===l?e.index-t.index:t.index-e.index})}n&&(i=i.reverse());var u=i[0].map(function(t){return 0}),c=i[0].map(function(t){return 0});return i.forEach(function(e,n){var r=e.key,a=t.colorKey(n);e._columnFill=t.getColor(a,n,r,!0),e.forEach(function(a,o){if(a.key=r,a.label=t.formattedLabel(n),a.r=n,a._columnFill=e._columnFill,a._isHighlighted=t.chart().isHighlighted(t.formattedLabel(n))||t.chart().isHighlighted(a.data.label),0===n)a[2]=0;else{var s=i[n-1][o].data[i[n-1].key];c[o]+=s<0?s:0,u[o]+=s>0?s:0,a[2]=a.data[a.key]<0?c[o]:u[o]}})}),i}})}();