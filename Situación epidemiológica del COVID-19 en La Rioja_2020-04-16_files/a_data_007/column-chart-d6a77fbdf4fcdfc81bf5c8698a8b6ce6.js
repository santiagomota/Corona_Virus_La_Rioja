/*
 * datawrapper / vis / column-chart v3c0e3f46
 * generated on 2020-04-16T16:55:27+00:00
 */
/*! datawrapper - v1.25.0 */
(function(){function getDelimiterPatterns(a,b){return new RegExp("(\\"+a+"|\\r?\\n|\\r|^)(?:"+b+"([^"+b+"]*(?:"+b+'"[^'+b+"]*)*)"+b+"|([^"+b+"\\"+a+"\\r\\n]*))","gi")}var root=this,dw={};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=dw),exports.dw=dw):window.dw=dw,dw.dataset=function(a,b){function c(a){for(var b=a.name(),c=b,e=1;d.hasOwnProperty(c);)c=b+"."+e++;c!=b&&a.name(c)}var d={},e=a.slice(0),f=a.slice(0);_.each(a,function(a){c(a),d[a.name()]=a}),b=_.extend(b,{});var g={columns:function(){return a},column:function(b){if(_.isString(b)){if(void 0!==d[b])return d[b];throw'No column found with that name: "'+b+'"'}if(!(b<0)){if(void 0!==a[b])return a[b];throw"No column found with that index: "+b}},numColumns:function(){return a.length},numRows:function(){return a[0].length},eachColumn:function(b){_.each(a,b)},hasColumn:function(b){return void 0!==(_.isString(b)?d[b]:a[b])},indexOf:function(b){return g.hasColumn(b)?_.indexOf(a,d[b]):-1},list:function(){return _.range(a[0].length).map(function(b){var c={};return _.each(a,function(a){c[a.name()]=a.val(b)}),c})},toCSV:function(){var b="",c=",",d='"';return _.each(a,function(a,e){var f=a.title();f.indexOf(d)>-1&&f.replace(d,"\\"+d),f.indexOf(c)>-1&&(f=d+f+d),b+=(e>0?c:"")+f}),_.each(_.range(g.numRows()),function(e){b+="\n",_.each(a,function(a,f){var g=""+("date"==a.type()?a.raw(e):a.val(e));g.indexOf(d)>-1&&g.replace(d,"\\"+d),g.indexOf(c)>-1&&(g=d+g+d),b+=(f>0?c:"")+g})}),b},filterColumns:function(b){return a=_.filter(a,function(a){return!b[a.name()]}),_.each(b,function(a,b){a&&d[b]&&delete d[b]}),g},eachRow:function(a){var b;for(b=0;b<g.numRows();b++)a(b);return g},add:function(b){return c(b),a.push(b),d[b.name()]=b,e.push(b),g},reset:function(){return a=f.slice(0),d={},_.each(a,function(a){d[a.name()]=a}),g},limitRows:function(b){return _.each(a,function(a){a.limitRows(b)}),g},limitColumns:function(b){return a.length>b&&(a.length=b,e.length=b),g},columnOrder:function(b){return arguments.length?(a.length=0,b.forEach(function(b){a.push(e[b])}),g):a.map(function(a){return e.indexOf(a)})}};return g},dw.column=function(a,b,c){function d(a){return null!==a&&void 0!==a&&""!==a}function e(a){if(_.every(b,_.isNumber))return dw.column.types.number();if(_.every(b,_.isDate))return dw.column.types.date();var c,e=[dw.column.types.date(a),dw.column.types.number(a),dw.column.types.text()],f=b.filter(d).length;return _.each(b,function(a){_.each(e,function(b){b.parse(a)})}),_.every(e,function(a){return(a.errors()/f<.1||a.errors()<=1)&&(c=a),!c}),_.isUndefined(c)&&(c=e[2]),c}var f=_.shuffle(_.range(b.length)).filter(function(a){return d(b[a])}).slice(0,200).map(function(a){return b[a]});c=c?dw.column.types[c](f):e(f);var g,h,i,j=b.slice(0),k={name:function(){return arguments.length?(a=arguments[0],k):dw.utils.purifyHtml(a)},title:function(){return arguments.length?(i=arguments[0],k):dw.utils.purifyHtml(i||a)},length:b.length,val:function(a,d){if(arguments.length){var e=d?j:b;return a<0&&(a+=e.length),c.parse(dw.utils.purifyHtml(e[a]))}},values:function(a){var d=a?j:b;return d=_.map(d,function(a){return dw.utils.purifyHtml(a)}),_.map(d,c.parse)},each:function(a){for(var c=0;c<b.length;c++)a(k.val(c),c)},raw:function(a,c){return arguments.length?2===arguments.length?(b[a]=c,k):dw.utils.purifyHtml(b[a]):b},type:function(a){if(!0===a)return c;if(_.isString(a)){if(dw.column.types[a])return c=dw.column.types[a](f),k;throw new Error("unknown column type: "+a)}return c.name()},range:function(){return!!c.toNum&&(g||(g=[Number.MAX_VALUE,-Number.MAX_VALUE],k.each(function(a){a=c.toNum(a),_.isNumber(a)&&!_.isNaN(a)&&(a<g[0]&&(g[0]=a),a>g[1]&&(g[1]=a))}),g[0]=c.fromNum(g[0]),g[1]=c.fromNum(g[1])),g)},total:function(){return!!c.toNum&&(h||(h=0,k.each(function(a){h+=c.toNum(a)}),h=c.fromNum(h)),h)},filterRows:function(a){return b=[],arguments.length?_.each(a,function(a){b.push(j[a])}):b=j.slice(0),k.length=b.length,g=h=!1,k},toString:function(){return a+" ("+c.name()+")"},indexOf:function(a){return _.find(_.range(b.length),function(b){return k.val(b)===a})},limitRows:function(a){j.length>a&&(j.length=a,b.length=a,k.length=a)}};return k},dw.column.types={},dw.column.types.text=function(){return{parse:_.identity,errors:function(){return 0},name:function(){return"text"},formatter:function(){return _.identity},isValid:function(){return!0},format:function(){}}},dw.column.types.number=function(a){function b(a,b){return 0===a?0:Math.round(b-Math.ceil(Math.log(Math.abs(a))/Math.LN10))}var c,d=0,e={"-.":/^ *[-–—−]?[0-9]*(\.[0-9]+)?(e[+-][0-9]+)?%? *$/,"-,":/^ *[-–—−]?[0-9]*(,[0-9]+)?%? *$/,",.":/^ *[-–—−]?[0-9]{1,3}(,[0-9]{3})*(\.[0-9]+)?%? *$/,".,":/^ *[-–—−]?[0-9]{1,3}(\.[0-9]{3})*(,[0-9]+)?%? *$/," .":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(\.[0-9]+)?%? *$/," ,":/^ *[-–—−]?[0-9]{1,3}([   ][0-9]{3})*(,[0-9]+)?%? *$/,"'.":/^ *[-–—−]?[0-9]{1,3}('[0-9]{3})*(\.[0-9]+)?%? *$/},f={"-.":"1234.56","-,":"1234,56",",.":"1,234.56",".,":"1.234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"," .":"1 234.56"," ,":"1 234,56"},g={na:1,"n/a":1,"-":1,":":1},h={},i=["-.",0];a=a||[],_.each(a,function(a){_.each(e,function(b,c){void 0===h[c]&&(h[c]=0),b.test(a)&&(h[c]+=1,h[c]>i[1]&&(i[0]=c,i[1]=h[c]))})}),c=i[0];var j={parse:function(a){if(_.isNumber(a)||_.isUndefined(a)||_.isNull(a))return a;var b=a.replace("%","").replace("−","-").replace(/[   ]/g,"").replace("–","-").replace("—","-");return"-"!=c[0]&&(b=b.replace(new RegExp("."==c[0]?"\\.":c[0],"g"),"")),"."!=c[1]&&(b=b.replace(c[1],".")),isNaN(b)||""===b?(g[b.toLowerCase()]||""===b||d++,a):Number(b)},toNum:function(a){return a},fromNum:function(a){return a},errors:function(){return d},name:function(){return"number"},formatter:function(a){var c=a["number-format"]||"-",d=Number(a["number-divisor"]||0),e=(a["number-append"]||"").replace(/ /g," "),f=(a["number-prepend"]||"").replace(/ /g," ");return function(a,g,h){if(isNaN(a))return a;var i=c;if(0!==d&&"-"==i&&(i="n1"),0!==d&&(a=Number(a)/Math.pow(10,d)),"s"==i.substr(0,1)){var j=+i.substr(1);i="n"+Math.max(0,b(a,j))}if(h&&(i="n0"),"-"==i&&(i=dw.utils.equalish(a,Math.round(a))?"n0":dw.utils.equalish(a,.1*Math.round(10*a))?"n1":dw.utils.equalish(a,.01*Math.round(100*a))?"n2":dw.utils.equalish(a,.001*Math.round(1e3*a))?"n3":dw.utils.equalish(a,1e-4*Math.round(1e4*a))?"n4":dw.utils.equalish(a,1e-5*Math.round(1e5*a))?"n5":"n6"),a=Globalize.format(a,"-"!=i?i:null),f.indexOf("{+/-}")>-1){var k=Number(a.replace(/[^\d-]/g,""));k<0?(a=a.replace("-",""),f=f.replace("{+/-}","-")):f=k>0?f.replace("{+/-}","+"):f.replace("{+/-}","")}return g?f+a+e:a}},isValid:function(a){return""===a||g[String(a).toLowerCase()]||_.isNumber(j.parse(a))},ambiguousFormats:function(){var a=[];return _.each(h,function(b,c){b==i[1]&&a.push([c,f[c]])}),a},format:function(a){return arguments.length?(c=a,j):c}};return j},dw.column.types.date=function(){function a(){return new RegExp(g+Array.prototype.slice.call(arguments).join(" *")+h,"i")}function b(a,b){var c=q[b];return _.isRegExp(c.test)?c.test.test(a):c.test(a,b)}function c(a,b){var c=q[b];return _.isRegExp(c.parse)?a.match(c.parse):c.parse(a,b)}function d(a,b,c){var d=new Date(Date.UTC(a,0,3));return d.setUTCDate(3-d.getUTCDay()+7*(b-1)+parseInt(c,10)),d}function e(a){var b=a.getUTCDay(),c=new Date(a.valueOf());c.setDate(c.getDate()-(b+6)%7+3);var d=c.getUTCFullYear(),e=Math.floor((c.getTime()-new Date(d,0,1,-6))/864e5);return[d,1+Math.floor(e/7),b>0?b:7]}function f(a,b){return 12!=a?a+("pm"==b?12:0):"am"==b?0:12}var g=/^ */.source,h=/[\*']* *$/.source,i=/[ \-\/\.]?/.source,j=/[ \-\/\.]/.source,k=/[ \-\/\.,]/.source,l=/[ \-\|T]/.source,m=/[ \-\/\m]/.source,n={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},o={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]},p={};_.each(o,function(a,b){_.each(a,function(a){p[a]=b})}),n.MMM={parse:new RegExp("("+_.flatten(_.values(o)).join("|")+")")},_.each(n,function(a,b){a.parse=a.parse.source,_.isRegExp(a.test)?a.test=a.test.source:a.test=a.parse});var q={YYYY:{test:a(n.YYYY2.test),parse:a(n.YYYY2.parse),precision:"year"},"YYYY-H":{test:a(n.YYYY.test,i,n.H.test),parse:a(n.YYYY.parse,i,n.H.parse),precision:"half"},"H-YYYY":{test:a(n.H.test,j,n.YYYY.test),parse:a(n.H.parse,j,n.YYYY.parse),precision:"half"},"YYYY-Q":{test:a(n.YYYY.test,i,n.Q.test),parse:a(n.YYYY.parse,i,n.Q.parse),precision:"quarter"},"Q-YYYY":{test:a(n.Q.test,j,n.YYYY.test),parse:a(n.Q.parse,j,n.YYYY.parse),precision:"quarter"},"YYYY-M":{test:a(n.YYYY.test,m,n.MM.test),parse:a(n.YYYY.parse,m,n.MM.parse),precision:"month"},"M-YYYY":{test:a(n.MM.test,j,n.YYYY.test),parse:a(n.MM.parse,j,n.YYYY.parse),precision:"month"},"YYYY-MMM":{test:a(n.YYYY.test,j,n.MMM.parse),parse:a(n.YYYY.parse,j,n.MMM.parse),precision:"month"},"MMM-YYYY":{test:a(n.MMM.parse,j,n.YYYY.test),parse:a(n.MMM.parse,j,n.YYYY.parse),precision:"month"},"MMM-YY":{test:a(n.MMM.parse,j,n.YY.test),parse:a(n.MMM.parse,j,n.YY.parse),precision:"month"},MMM:{test:a(n.MMM.parse),parse:a(n.MMM.parse),precision:"month"},"YYYY-WW":{test:a(n.YYYY.test,i,n.W.test),parse:a(n.YYYY.parse,i,n.W.parse),precision:"week"},"WW-YYYY":{test:a(n.W.test,j,n.YYYY.test),parse:a(n.W.parse,j,n.YYYY.parse),precision:"week"},"MM/DD/YY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YY.parse),precision:"day"},"DD/MM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YY.parse),precision:"day"},"MM/DD/YYYY":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YYYY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YYYY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YYYY.parse),precision:"day"},"DD/MMM/YY":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MMM.test,"\\2",n.YY.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MMM.parse,"\\2",n.YY.parse),precision:"day"},"YYYY-MM-DD":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse),precision:"day"},"MMM-DD-YYYY":{test:a(n.MMM.test,j,n.DD.test,k,n.YYYY.test),parse:a(n.MMM.parse,j,n.DD.parse,k,n.YYYY.parse),precision:"day"},"YYYY-WW-d":{test:a(n.YYYY.test,i,n.W.test,j,n.DOW.test),parse:a(n.YYYY.parse,i,n.W.parse,j,n.DOW.parse),precision:"day"},"MM/DD/YYYY HH:MM":{test:a(n.MM.test,"([\\-\\/])",n.DD.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.MM.parse,"([\\-\\/])",n.DD.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"DD.MM.YYYY HH:MM":{test:a(n.DD.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.YYYY.test,l,n.HHMM.test),parse:a(n.DD.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.YYYY.parse,l,n.HHMM.parse),precision:"day-minutes"},"YYYY-MM-DD HH:MM":{test:a(n.YYYY.test,"([\\-\\.\\/ ?])",n.MM.test,"\\2",n.DD.test,l,n.HHMM.test),parse:a(n.YYYY.parse,"([\\-\\.\\/ ?])",n.MM.parse,"\\2",n.DD.parse,l,n.HHMM.parse),precision:"day-minutes"},ISO8601:{test:/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d+)?([+-][0-2]\d:[0-5]\d|Z)/,parse:function(a){return a},precision:"day-seconds"}};return function(a){var g,h=0,i={},j=["",0];a=a||[],_.each(q,function(c,d){_.each(a,function(a){void 0===i[d]&&(i[d]=0),b(a,d)&&(i[d]+=1,i[d]>j[1]&&(j[0]=d,j[1]=i[d]))})}),g=j[0];var k={parse:function(a){function e(a){return a=+a,a<30?2e3+a:1900+a}if(_.isDate(a)||_.isUndefined(a))return a;if(!g||!_.isString(a))return h++,a;var i=c(a.toLowerCase(),g);if(!i)return h++,a;b(a,g)||h++;var j=(new Date).getFullYear();switch(g){case"YYYY":return new Date(i[1],0,1);case"YYYY-H":return new Date(i[1],6*(i[2]-1),1);case"H-YYYY":return new Date(i[2],6*(i[1]-1),1);case"YYYY-Q":return new Date(i[1],3*(i[2]-1),1);case"Q-YYYY":return new Date(i[2],3*(i[1]-1),1);case"YYYY-M":return new Date(i[1],i[2]-1,1);case"M-YYYY":return new Date(i[2],i[1]-1,1);case"YYYY-MMM":return new Date(+i[1],p[i[2]],1);case"MMM-YYYY":return new Date(+i[2],p[i[1]],1);case"MMM-YY":return new Date(e(+i[2]),p[i[1]],1);case"MMM":return new Date(j,p[i[1]],1);case"YYYY-WW":return d(i[1],i[2],1);case"WW-YYYY":return d(i[2],i[1],1);case"YYYY-WW-d":return d(i[1],i[2],i[3]);case"YYYY-MM-DD":return new Date(i[1],i[3]-1,i[4]);case"DD/MM/YYYY":return new Date(i[4],i[3]-1,i[1]);case"DD/MMM/YYYY":return new Date(i[4],p[i[3]],i[1]);case"DD/MMM/YY":return new Date(e(i[4]),p[i[3]],i[1]);case"MM/DD/YYYY":return new Date(i[4],i[1]-1,i[3]);case"MM/DD/YY":return new Date(e(i[4]),i[1]-1,i[3]);case"DD/MM/YY":return new Date(e(i[4]),i[3]-1,i[1]);case"MMM-DD-YYYY":return new Date(i[3],p[i[1]],i[2]);case"YYYY-MM-DD HH:MM":return new Date(+i[1],i[3]-1,+i[4],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"DD.MM.YYYY HH:MM":return new Date(+i[4],i[3]-1,+i[1],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"MM/DD/YYYY HH:MM":return new Date(+i[4],i[1]-1,+i[3],f(+i[5],i[8]),+i[6]||0,+i[7]||0);case"ISO8601":return new Date(i.toUpperCase());default:console.warn("unknown format",g)}return h++,a},toNum:function(a){return a.getTime()},fromNum:function(a){return new Date(a)},errors:function(){return h},name:function(){return"date"},format:function(a){return arguments.length?(g=a,k):g},precision:function(){return q[g].precision},formatter:function(a){if(!g)return _.identity;var b=Globalize.culture().calendar.patterns.M.replace("MMMM","MMM");switch(q[g].precision){case"year":return function(a){return _.isDate(a)?a.getFullYear():a};case"half":return function(a){return _.isDate(a)?a.getFullYear()+" H"+(a.getMonth()/6+1):a};case"quarter":return function(a){return _.isDate(a)?a.getFullYear()+" Q"+(a.getMonth()/3+1):a};case"month":return function(a){return _.isDate(a)?Globalize.format(a,"MMM yy"):a};case"week":return function(a){return _.isDate(a)?e(a).slice(0,2).join(" W"):a};case"day":return function(a,b){return _.isDate(a)?Globalize.format(a,b?"D":"d"):a};case"day-minutes":return function(a){return _.isDate(a)?Globalize.format(a,b).replace(" ","&nbsp;")+" - "+Globalize.format(a,"t").replace(" ","&nbsp;"):a};case"day-seconds":return function(a){return _.isDate(a)?Globalize.format(a,"T").replace(" ","&nbsp;"):a}}},isValid:function(a){return _.isDate(k.parse(a))},ambiguousFormats:function(){var a=[];return _.each(i,function(b,c){b==j[1]&&a.push([c,c])}),a}};return k}}(),dw.datasource={},dw.datasource.delimited=function(a){function b(){if(a.url){var b=(window.location.hostname||"").split("."),c="";if(b.length>=2)var c=b[b.length-2]+"."+b[b.length-1];return $.ajax({url:a.url+(a.url.indexOf("?")>-1?"&":"?")+"v="+(new Date).getTime(),method:"GET",dataType:"text",xhrFields:{withCredentials:a.url.indexOf(c)>-1}}).then(function(b){return new DelimitedParser(a).parse(b)})}if(a.csv||""===a.csv){var d=$.Deferred(),e=d.then(function(b){return new DelimitedParser(a).parse(b)});return d.resolve(a.csv),e}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return new DelimitedParser(a).parse(a.csv)}}};var DelimitedParser=function(a){a=_.extend({delimiter:"auto",quoteChar:'"',skipRows:0,emptyValue:null,transpose:!1,firstRowIsHeader:!0},a),this.__delimiterPatterns=getDelimiterPatterns(a.delimiter,a.quoteChar),this.opts=a};_.extend(DelimitedParser.prototype,{parse:function(a){function b(a,b,c){c=c||",";for(var d,e=[[]],f=null;f=a.exec(b);){var g=f[1];g.length&&g!=c&&e.push([]),d=f[2]?f[2].replace(new RegExp('""',"g"),'"'):f[3],e[e.length-1].push(void 0===d?"":d)}e[0][0].substr(0,1)==h&&(e[0][0]=e[0][0].substr(1));var i=e.length-1,j=e[i].length-1,k=e[i][j].length-1;return e[i][j].substr(k)===h&&(e[i][j]=e[i][j].substr(0,k)),e.slice(1)}function c(a){var b=a,c=b.length?b.length:0,d=b[0]instanceof Array?b[0].length:0;if(0===d||0===c)return[];var e,f,g=[];for(e=0;e<d;e++)for(g[e]=[],f=0;f<c;f++)g[e][f]=b[f][e];return g}function d(a){var b=[],c={},d=a.length,e=a[0].length,g=f.skipRows,h=[];f.firstRowIsHeader&&(h=a[g],g++);for(var i=0;i<e;i++){var j=_.isString(h[i])?h[i].replace(/^\s+|\s+$/g,""):"",k=""!==j?"":1;for(j=""!==j?j:"X.";void 0!==c[j+k];)k=""===k?1:k+1;b.push({name:j+k,data:[]}),c[j+k]=!0}return _.each(_.range(g,d),function(c){_.each(b,function(b,d){b.data.push(""!==a[c][d]?a[c][d]:f.emptyValue)})}),b=_.map(b,function(a){return dw.column(a.name,a.data)}),dw.dataset(b)}var e=this,f=this.opts;e.__rawData=a,"auto"==f.delimiter&&(f.delimiter=e.guessDelimiter(a,f.skipRows),e.__delimiterPatterns=getDelimiterPatterns(f.delimiter,f.quoteChar));var g,h="|"!=f.delimiter?"|":"#";return a=h+"\n"+a.replace(/[ \r\n\f]+$/g,"")+h,g=b(this.__delimiterPatterns,a,f.delimiter),f.transpose&&(g=c(g)),d(g)},guessDelimiter:function(a){var b=0,c=-1,d=this,e=["\t",";","|",","];return _.each(e,function(e,f){var g=getDelimiterPatterns(e,d.quoteChar),h=a.match(g).length;"\t"==e&&(h*=1.15),h>b&&(b=h,c=f)}),e[c]}}),dw.datasource.json=function(a){function b(){if(a.url);else if(a.csv||a.json){var b=$.Deferred(),c=b.then(function(a){return JSON.parse(a)});return b.resolve(a.csv||a.json),c}throw"you need to provide either an URL or CSV data."}return{dataset:b,parse:function(){return JSON.parse(a.csv||a.json)}}},dw.utils={minMax:function(a){var b=[Number.MAX_VALUE,-Number.MAX_VALUE];return _.each(a,function(a){b[0]=Math.min(b[0],a.range()[0]),b[1]=Math.max(b[1],a.range()[1])}),b},dateFormat:function(a){function b(a){return function(b){d=!e||b.getMonth()!=e.getMonth(),e=b;for(var c=a.length-1,f=a[c];!f[1](b);)f=a[--c];return f[0](b)}}function c(a){return function(b){var c=Globalize.format(b,a);return"htt"!=a?c:c.toLowerCase()}}var d=!0,e=!1,f=function(a){return{date:"de"==a?"dd.":"dd",hour:"en"!=a?"H:00":"htt",minute:"de"==a?"H:mm":"h:mm",mm:"de"==a?"d.M.":"MM/dd",mmm:"de"==a?"d.MMM":"MMM dd",mmmm:"de"==a?"d. MMMM":"MMMM dd"}}(Globalize.culture().language);return b([[c("yyyy"),function(){return!0}],[c("MMM"),function(a){return 0!==a.getMonth()}],[c(f.date),function(a){return 1!=a.getDate()}],[c(a<7?f.mm:f.mmm),function(a){return 1!=a.getDate()&&d}],[c(f.hour),function(a){return a.getHours()}],[c(f.minute),function(a){return a.getMinutes()}],[c(":ss"),function(a){return a.getSeconds()}],[c(".fff"),function(a){return a.getMilliseconds()}]])},longDateFormat:function(a){return function(b){if("date"!=a.type())return b;switch(a.type(!0).precision()){case"year":return b.getFullYear();case"quarter":return b.getFullYear()+" Q"+(b.getMonth()/3+1);case"month":return Globalize.format(b,"MMM yy");case"day":return Globalize.format(b,"MMM d");case"minute":return Globalize.format(b,"t");case"second":return Globalize.format(b,"T")}}},columnNameColumn:function(a){var b=_.map(a,function(a){return a.title()});return dw.column("",b)},name:function(a){return _.isFunction(a.name)?a.name():_.isString(a.name)?a.name:a},getNonChartHeight:function(){function a(a,b){return getComputedStyle($(a).get(0))[b].replace("px","")}var b=0;$("body > *").each(function(a,c){function d(a){return f.split(" ").indexOf(a)>-1}var e=c.tagName.toLowerCase(),f=$(c).attr("class")||"";"script"==e||"style"==e||"chart"==c.id||$(c).attr("aria-hidden")||d("tooltip")||d("vg-tooltip")||d("hidden")||d("qtip")||d("container")||d("noscript")||d("hidden")||d("filter-ui")||d("dw-chart-body")||(b+=Number($(c).outerHeight(!0)))});var c=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return["body","body #chart"].forEach(function(d){c.forEach(function(c){b+=Number(a(d,c))})}),b},getMaxChartHeight:function(){var a=$(window).height()-8;return a-=dw.utils.getNonChartHeight()},purifyHtml:function(a,b){function c(a,b){if(null===a)return null;if(a=String(a),a.indexOf("<")<0||a.indexOf(">")<0)return a;if(a=d(a,b),"undefined"==typeof document)return a;var c=document.createElement("div");c.innerHTML=a;for(var e=c.querySelectorAll("*"),f=0;f<e.length;f++){"a"===e[f].nodeName.toLowerCase()&&("_self"!==e[f].getAttribute("target")&&e[f].setAttribute("target","_blank"),e[f].setAttribute("rel","nofollow noopener noreferrer"));for(var g=0;g<e[f].attributes.length;g++){var h=e[f].attributes[g];h.specified&&"on"==h.name.substr(0,2)&&e[f].removeAttribute(h.name)}}return c.innerHTML}function d(a,b){b=(((void 0!==b?b||"":g)+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var c=a,d=a;;)if(c=d,d=c.replace(f,"").replace(e,function(a,c){return b.indexOf("<"+c.toLowerCase()+">")>-1?a:""}),c===d)return d}var e=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,f=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,g="<a><b><br><br/><i><strong><sup><sub><strike><u><em><tt>";return dw.utils.purifyHtml=c,c(a,b)},significantDimension:function(a){function b(a){return dw.utils.round(a,f)}var c,d,e=[],f=0,g=_.uniq(a),h=g.length,i=Math.floor(.8*h);if(g.length<3)return Math.round(g.reduce(function(a,b){if(!b)return a;var c=Math.log(Math.abs(b))/Math.LN10;return c<8&&c>-3?a+Math.min(3,dw.utils.tailLength(g[0])):a+(c>0?-1*(c-1):-1*c)},0)/g.length);_.uniq(_.map(g,b)).length>i?(c=function(){return _.uniq(e).length==h},d=-1):(c=function(){return _.uniq(e).length<=i},d=1);var j=100;do{e=_.map(g,b),f+=d}while(c()&&j-- >0);return j<10&&console.warn("maximum iteration reached",a,e,f),d<0?f+=2:f--,f},tailLength:function(a){return String(a-Math.floor(a)).replace(/00000*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2},round:function(a,b){var c=Math.pow(10,b);return Math.round(a*c)/c},smartRound:function(a,b){var c=dw.utils.significantDimension(a);return c+=b||0,_.map(a,function(a){return dw.utils.round(a,c)})},nearest:function(a,b){var c,d=Number.MAX_VALUE;return _.each(a,function(a){var e=Math.abs(a-b);e<d&&(d=e,c=a)}),c},metricSuffix:function(a){switch(a.substr(0,2).toLowerCase()){case"de":return{3:" Tsd.",6:" Mio.",9:" Mrd.",12:" Bio."};case"fr":return{3:" mil",6:" Mio",9:" Mrd"};case"es":return{3:" Mil",6:" millón"};default:return{3:"k",6:"M",9:" bil"}}},magnitudeRange:function(a){var b=Math.round(Math.log(a[0])/Math.LN10);return Math.round(Math.log(a[1])/Math.LN10)-b},logTicks:function(a,b){var c=Math.round(Math.log(a)/Math.LN10),d=Math.round(Math.log(b)/Math.LN10);return _.map(_.range(c,d),function(a){return Math.pow(10,a)})},clone:function(a){try{return JSON.parse(JSON.stringify(a))}catch(a){}return a},equalish:function(a,b){return a-b<1e-6}},dw.utils.filter=function(a,b,c,d){function e(b){_.each(g,function(c){_.isFunction(c)&&c(a.val(b),b)})}function f(c){var d;return"auto"==c&&(c="date"==a.type()?"timescale":a.length<6?"buttons":"select"),a.length<2?function(){return!1}:("select"==c&&(d=function(b){var c=$("<select />");return a.each(function(b,d){var e=a.raw()[d];e&&c.append('<option value="'+d+'">'+(_.isString(e)?$.trim(e):e)+"</option>")}),c.change(function(a){e(c.val())}),c.addClass("filter-ui filter-select"),c}),"buttons"==c&&(d=function(c){var d=$("<div />");d.addClass("filter-ui filter-links"),a.each(function(c,e){var f=a.raw()[e];if(f){var g=$('<a href="#'+e+'"'+(e==b?' class="active" ':"")+">"+(_.isString(f)?$.trim(f):f)+"</a>").data("row",e);d.append(g)}}),$("a",d).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($("a",d).removeClass("active"),b.addClass("active"),e(b.data("row")))}),d.appendTo("body");var g=$("a:first",d).offset().top+$("a:first",d).height();return $("a:last",d).offset().top+$("a:last",d).height()-g>1?(d.remove(),f("select")(c)):d}),"timescale"==c&&(d=function(b){function c(b,c){return b*(1-(a.val(-1).getTime()-c.getTime())/864e5/daysDelta)}var d=Math.min(b.__w-35);timesel=$("<div></div>").css({position:"relative",height:45,"margin-left":3}).addClass("filter-ui"),daysDelta=Math.round((a.val(-1).getTime()-a.val(0).getTime())/864e5);for(var f=0,g=0;g<a.length;g++){var h=$('<div class="point"></div>');h.data("row",g),h.css("left",c(d,a.val(g))+"px"),timesel.append(h);var i=$('<div class="point-label">'+a.raw()[g]+"</div>");i.css("left",c(d,a.val(g))+"px"),timesel.append(i),0==g&&h.addClass("active");var j=c(d,a.val(g));j>f&&(h,f=j)}var k=f;return timesel.append('<div class="line"></div>'),$(".line",timesel).width(k),$(".point",timesel).click(function(a){var b=$(a.target);a.preventDefault(),b.hasClass("active")||($(".point",timesel).removeClass("active"),b.addClass("active"),e(b.data("row")))}),timesel}),d)}var g=[];return c=c||"auto",d=d||_.identity,"auto"==c&&("date"==a.type()?c="timescale":"text"==a.type()&&(c=a.length<6?"buttons":"select")),{ui:f(c),change:function(a){g.push(a)}}},dw.chart=function(attributes){function reorderColumns(a){var b=chart.get("metadata.data.column-order",[]);return b.length&&b.length==a.numColumns()&&a.columnOrder(b),a}function applyChanges(a){var b=chart.get("metadata.data.changes",[]),c=chart.get("metadata.data.transpose",!1);_.each(b,function(b){var d="row",e="column";if(c&&(d="column",e="row"),a.hasColumn(b[e]))if(0===b[d]){if(b.previous){const f=a.column(b[e]).title();if(f!==b.previous)return}a.column(b[e]).title(b.value)}else{if(b.previous){const g=a.column(b[e]).raw(b[d]-1);if(g!==b.previous)return}a.column(b[e]).raw(b[d]-1,b.value)}});var d=chart.get("metadata.data.column-format",{});return _.each(d,function(b,c){b.type&&a.hasColumn(c)&&"auto"!=b.type&&a.column(c).type(b.type),b["input-format"]&&a.hasColumn(c)&&a.column(c).type(!0).format(b["input-format"])}),a}function addComputedColumns(dataset){function add_computed_column(formula,name){var datefmt=function(a){return a.getFullYear()+"-"+left_pad(1+a.getMonth(),2,0)+"-"+left_pad(1+a.getDate(),2,0)},values=data.map(function(row,row_i){var context=[];return context.push("var __row = "+row_i+";"),_.each(row,function(a,b){columnNameToVar[b]&&(context.push("var "+columnNameToVar[b]+" = "+JSON.stringify(a)+";"),"number"==dataset.column(b).type()&&(context.push("var "+columnNameToVar[b]+"__sum = "+col_aggregates[b].sum+";"),context.push("var "+columnNameToVar[b]+"__min = "+col_aggregates[b].min+";"),context.push("var "+columnNameToVar[b]+"__max = "+col_aggregates[b].max+";"),context.push("var "+columnNameToVar[b]+"__mean = "+col_aggregates[b].mean+";"),context.push("var "+columnNameToVar[b]+"__median = "+col_aggregates[b].median+";")))}),context.push("var max = Math.max, min = Math.min;"),function(){try{return eval(this.context.join("\n")+"\n"+formula)}catch(a){return console.warn(a),"n/a"}}.call({context:context})}).map(function(a){return _.isBoolean(a)?a?"yes":"no":_.isDate(a)?datefmt(a):_.isNumber(a)?""+a:String(a)}),v_col=dw.column(name,values);v_col.isComputed=!0,dataset.add(v_col)}function column_name_to_var(a){return a.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w\-]+/g,"").replace(/-/g,"_").replace(/\_\_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(abstract|arguments|await|boolean|break|byte|case|catch|char|class|const|continue|debugger|default|delete|do|double|else|enum|eval|export|extends|false|final|finally|float|for|function|goto|if|implements|import|in|instanceof|int|interface|let|long|native|new|null|package|private|protected|public|return|short|static|super|switch|synchronized|this|throw|throws|transient|true|try|typeof|var|void|volatile|while|window|with|yield)$/,"$1_")}function d3_min(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&b>c&&(b=c)}return b}function d3_max(a){var b,c,d=-1,e=a.length;if(1===arguments.length){for(;++d<e;)if(null!=(c=a[d])&&c>=c){b=c;break}for(;++d<e;)null!=(c=a[d])&&c>b&&(b=c)}return b}function d3_sum(a){var b,c=0,d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=+a[e])&&(c+=b);return c}function d3_mean(a){for(var b,c=0,d=a.length,e=-1,f=d;++e<d;)d3_numeric(b=d3_number(a[e]))?c+=b:--f;if(f)return c/f}function d3_median(a){var b,c=[],d=a.length,e=-1;if(1===arguments.length)for(;++e<d;)d3_numeric(b=d3_number(a[e]))&&c.push(b);if(c.length)return d3_quantile(c.sort(d3_ascending),.5)}function d3_quantile(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e}function d3_number(a){return null===a?NaN:+a}function d3_numeric(a){return!isNaN(a)}function d3_ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function left_pad(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}var v_columns=chart.get("metadata.describe.computed-columns",{}),data=dataset.list(),columnNameToVar={},col_aggregates={};return dataset.eachColumn(function(a){a.isComputed||(columnNameToVar[a.name()]=column_name_to_var(a.name()),"number"==a.type()&&(col_aggregates[a.name()]={min:d3_min(a.values()),max:d3_max(a.values()),sum:d3_sum(a.values()),mean:d3_mean(a.values()),median:d3_median(a.values())}))}),_.each(v_columns,add_computed_column),dataset}function is_equal(a,b){return JSON.stringify(a)==JSON.stringify(b)}var dataset,theme,visualization,metric_prefix,change_callbacks=$.Callbacks(),dataset_change_callbacks=$.Callbacks(),locale,_ds,chart={get:function(a,b){var c=a.split("."),d=attributes;return _.some(c,function(a){return!(!_.isUndefined(d)&&!_.isNull(d))||(d=d[a],!1)}),_.isUndefined(d)||_.isNull(d)?b:d},set:function(a,b){var c=a.split("."),d=c.pop(),e=attributes;return _.each(c,function(a){(_.isUndefined(e[a])||_.isNull(e[a]))&&(e[a]={}),e=e[a]}),is_equal(e[d],b)||(e[d]=b,change_callbacks.fire(chart,a,b)),this},load:function(a,b){var c,d={firstRowIsHeader:chart.get("metadata.data.horizontal-header",!0),transpose:chart.get("metadata.data.transpose",!1)};return!a&&""!==a||b?d.url=b||"data.csv":d.csv=a,c=chart.get("metadata.data.json")?dw.datasource.json(d):dw.datasource.delimited(d),c.dataset().pipe(function(a){return chart.dataset(a),dataset_change_callbacks.fire(chart,a),a})},dataset:function(a){return arguments.length?(!0!==a&&(_ds=a),dataset=chart.get("metadata.data.json")?_ds:reorderColumns(applyChanges(addComputedColumns(_ds))),!0===a?dataset:chart):dataset},theme:function(a){return arguments.length?(theme=a,chart):theme||{}},vis:function(a){return arguments.length?(visualization=a,visualization.chart(chart),chart):visualization},hasHighlight:function(){var a=chart.get("metadata.visualize.highlighted-series");return _.isArray(a)&&a.length>0},isHighlighted:function(a){if(void 0===_.isUndefined(a))return!1;var b=this.get("metadata.visualize.highlighted-series"),c=dw.utils.name(a);return!_.isArray(b)||0===b.length||_.indexOf(b,c)>=0},locale:function(a,b){return arguments.length?(locale=a.replace("_","-"),window.Globalize&&(Globalize.cultures.hasOwnProperty(locale)?(Globalize.culture(locale),"function"==typeof b&&b()):$.getScript("/static/vendor/globalize/cultures/globalize.culture."+locale+".js",function(){chart.locale(locale),"function"==typeof b&&b()})),chart):locale},metricPrefix:function(a){return arguments.length?(metric_prefix=a,chart):metric_prefix},formatValue:function(a,b,c){
var d=chart.get("metadata.describe.number-format"),e=Number(chart.get("metadata.describe.number-divisor")),f=chart.get("metadata.describe.number-append","").replace(" ","&nbsp;"),g=chart.get("metadata.describe.number-prepend","").replace(" ","&nbsp;");return 0!==e&&(a=Number(a)/Math.pow(10,e)),"-"!=d?((c||a==Math.round(a))&&(d=d.substr(0,1)+"0"),a=Globalize.format(a,d)):0!==e&&(a=a.toFixed(1)),b?g+a+f:a},render:function(a){if(!visualization||!theme||!dataset)throw"cannot render the chart!";visualization.chart(chart),visualization.__init();var b=$(a);b.parent().addClass("vis-"+visualization.id).addClass("theme-"+theme.id),visualization.render(b)},attributes:function(a){return arguments.length?(attributes=a,chart):attributes},onChange:change_callbacks.add,onDatasetChange:dataset_change_callbacks.add,columnFormatter:function(a){var b=chart.get("metadata.data.column-format",{});if(b=_.clone(b[a.name()]||{type:"auto","number-format":"auto"}),"number"==a.type()&&("auto"==b||void 0===b["number-format"]||"auto"==b["number-format"])){var c=a.values(),d=dw.utils.significantDimension(c);b["number-format"]="n"+Math.max(0,d)}return a.type(!0).formatter(b)},dataCellChanged:function(a,b){var c=chart.get("metadata.data.changes",[]),d=chart.get("metadata.data.transpose",!1),e=!1;return _.each(c,function(c){var f="row",g="column";d&&(f="column",g="row"),a==c[g]&&c[f]==b&&(e=!0)}),e}};return chart},dw.visualization=function(){var a={},b=function(b){if(!a[b]){console.warn("unknown visualization type: "+b);var c=_.keys(a);return c.length>0&&console.warn("try one of these instead: "+c.join(", ")),!1}return new a[b]};return b.register=function(b){var c=3===arguments.length?a[arguments[1]].prototype:dw.visualization.base,d=arguments[arguments.length-1],e=a[b]=function(){};_.extend(e.prototype,c,{id:b},d)},b.has=function(b){return void 0!==a[b]},b}(),dw.visualization.base=function(){}.prototype,_.extend(dw.visualization.base,{__init:function(){return this.__renderedDfd=$.Deferred(),this.__rendered=!1,this.__colors={},this.__callbacks={},window.parent&&window.parent.postMessage&&window.parent.postMessage("datawrapper:vis:init","*"),this},render:function(a){$(a).html("implement me!")},theme:function(a){if(!arguments.length)return this.__theme;this.__theme=a;var b=["horizontalGrid","verticalGrid","yAxis","xAxis"];return _.each(b,function(b){if(a.hasOwnProperty(b))for(var c in a[b]){var d=c.replace(/([A-Z])/g,"-$1").toLowerCase();a[b].hasOwnProperty(d)||(a[b][d]=a[b][c])}}),this},size:function(a,b){var c=this;return arguments.length?(c.__w=a,c.__h=b,c):[c.__w,c.__h]},get:function(a,b){return this.chart().get("metadata.visualize"+(a?"."+a:""),b)},notify:function(a){if(dw.backend&&_.isFunction(dw.backend.notify))return dw.backend.notify(a);window.parent&&window.parent.postMessage?window.parent.postMessage("notify:"+a,"*"):window.console&&console.log(a)},signature:function(){},translate:function(a){return this.meta.locale[a]||a},checkBrowserCompatibility:function(){return!0},chart:function(a){var b=this;if(!arguments.length)return b.__chart;b.dataset=a.dataset(),b.theme(a.theme()),b.__chart=a;var c=a.get("metadata.data.column-format",{}),d={};return _.each(c,function(a,b){d[b]=!!a.ignore}),b.dataset.filterColumns&&b.dataset.filterColumns(d),b},axes:function(a,b){function c(a){_.isArray(a)||(a=[a]);for(var b=0;b<a.length;b++)if(!e.hasColumn(a[b]))return!1;return!0}var d=this;if(!b&&d.__axisCache)return d.__axisCache[a?"axesAsColumns":"axes"];var e=d.dataset,f={},g={},h={},i=[],j=d.chart().get("metadata.axes",{});_.each(d.meta.axes,function(a,b){if(j[b]){var d=j[b];c(d)&&(g[b]=d,_.isArray(d)||(d=[d]),_.each(d,function(a){f[a]=!0}))}});var k=[];return _.each(d.meta.axes,function(a,b){function c(b){return!f[b.name()]&&_.indexOf(a.accepts,b.type())>=0}function h(){var c=dw.backend?dw.backend.messages.insufficientData:"The visualization needs at least one column of the type %type to populate axis %key";i.push(c.replace("%type",a.accepts).replace("%key",b))}function j(a){function b(a,b){if(void 0===a&&void 0!==b)return!1;if(void 0===b&&void 0!==a)return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(-1===b.indexOf(a[c]))return!1;return!0}var c=0;return _.each(d.meta.axes,function(d,e){if(!(k.indexOf(e)>-1)&&b(d.accepts,a)&&"string"!=typeof c&&!d.optional)return d.multiple?void(c="multiple"):void(c+=1)}),c}function l(a,b){var d=0;return a.eachColumn(function(a,b){c(a)&&d++}),d}if(k.push(b),!g[b])if(a.optional&&a.overrideOptionalKey&&d.chart().get("metadata."+a.overrideOptionalKey,!1)&&(a.optional=!1),a.optional)g[b]=!1;else if(a.multiple){var m=j(a.accepts),n=l(e);g[b]=[],e.eachColumn(function(a){"multiple"===m&&g[b].length||n<=m||c(a)&&(f[a.name()]=!0,g[b].push(a.name()),n--)}),g[b].length||h()}else{var o,p=_.filter(e.columns(),c);if(a.preferred){var q=new RegExp(a.preferred,"i");o=_.find(p,function(a){return q.test(a.name())||a.title()!==a.name()&&q.test(a.title())})}if(o||(o=p[0]),o)f[o.name()]=!0,g[b]=o.name();else if(_.indexOf(a.accepts,"text")>=0){const r=_.filter(e.columns(),function(b){return _.indexOf(a.accepts,b.type())>=0});if(r.length)g[b]=r[0].name();else{var s=dw.column(b,_.map(_.range(e.numRows()),function(a){return(a>25?String.fromCharCode(64+a/26):"")+String.fromCharCode(65+a%26)}),"text");e.add(s),d.chart().dataset(e),f[s.name()]=!0,g[b]=s.name()}}else h()}}),i.length&&d.notify(i.join("<br />")),_.each(g,function(a,b){_.isArray(a)?(h[b]=[],_.each(a,function(a,c){h[b][c]=!1!==a?d.dataset.column(a):null})):h[b]=!1!==a?d.dataset.column(a):null}),d.__axisCache={axes:g,axesAsColumns:h},d.axes(a)},keys:function(){var a=this,b=a.axes();if(b.labels){var c=a.dataset.column(b.labels),d=a.chart().columnFormatter(c),e=[];return c.each(function(a){e.push(String(d(a)))}),e}return[]},keyLabel:function(a){return a},reset:function(){this.clear(),$("#chart").html("").off("click").off("mousemove").off("mouseenter").off("mouseover"),$(".chart .filter-ui").remove(),$(".chart .legend").remove()},clear:function(){},renderingComplete:function(){window.parent&&window.parent.postMessage&&setTimeout(function(){window.parent.postMessage("datawrapper:vis:rendered","*")},200),this.__renderedDfd.resolve(),this.__rendered=!0,this.postRendering()},postRendering:function(){function a(){var a=b.options.watermark.text||"CONFIDENTIAL";$(".watermark","#chart").remove(),$(".dw-chart-body").append('<div class="export-text watermark noscript"><span>'+a+"</span></div>"),$(".watermark","#chart").css("font-size","6px");var c=$(".watermark","#chart"),d=c[0].getBoundingClientRect().width,e=Math.sqrt(Math.pow(window.innerHeight,2)+Math.pow(window.innerWidth,2)),f=.7*e/d*6,g=Math.atan(window.innerHeight/window.innerWidth),h="rotate("+-g+"rad)";c.attr("data-rotate",-1*g*180/Math.PI).css("font-size",f);var i=c[0].getBoundingClientRect().height;d=c[0].getBoundingClientRect().width;var j=(e-d)*Math.cos(g),k=(e-d)*Math.sin(g);c.css("transform",h).css("bottom",-i/2+k/2+"px").css("left",j/2+"px")}var b=this.theme();this.theme()&&this.theme().options&&this.theme().options.watermark&&(a(),$(window).off("resize",a).on("resize",a))},rendered:function(){return this.__renderedDfd.promise()},supportsSmartRendering:function(){return!1},_svgCanvas:function(){return!1},colorMap:function(){var a=this;return function(b){return a.__colors[b]=1,window.__dw&&window.__dwColorMap?window.__dwColorMap(b):b}},colorsUsed:function(){return Object.keys(this.__colors)},on:function(a,b){this.__callbacks[a]||(this.__callbacks[a]=[]),this.__callbacks[a].push(b)},fire:function(a,b){this.__callbacks[a]&&this.__callbacks[a].forEach(function(a){"function"==typeof a&&a(b)})}}),dw.theme=function(){function a(){var c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length;for("object"==typeof h||_.isFunction(h)||(h={});i<j;i++)if(null!=(c=arguments[i]))for(d in c)e=h[d],f=c[d],h!==f&&(f&&b(f)?(g=e&&b(e)?e:{},h[d]=a(g,f)):void 0!==f&&(h[d]=f));return h}function b(a){return _.isObject(a)&&!_.isArray(a)&&!_.isFunction(a)}var c={},d=function(a){return c[a]};return d.register=function(b){var d=3==arguments.length?c[arguments[1]]:dw.theme.base,e=arguments[arguments.length-1];c[b]=a({},d,{id:b},e)},d}(),dw.theme.base={colors:{palette:["#6E7DA1","#64A4C4","#53CCDD","#4EF4E8"],picker:{rowCount:6,controls:{hexEditable:!0,hue:!0,saturation:!0,lightness:!0}},secondary:[],positive:"#85B4D4",negative:"#E31A1C",neutral:"#CCCCCC",background:"#ffffff",text:"#333333",gradients:[["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],["#fefaca","#008b15"],["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],["#8c510a","#d8b365","#f6e8c3","#f5f7ea","#c7eae5","#5ab4ac","#01665e"],["#c51b7d","#e9a3c9","#fde0ef","#faf6ea","#e6f5d0","#a1d76a","#4d9221"],["#b2182b","#ef8a62","#fddbc7","#f8f6e9","#d1e5f0","#67a9cf","#2166ac"]],categories:[["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]]},annotation:{background:"#000",opacity:.08},padding:{left:0,right:20,bottom:30,top:10},lineChart:{strokeWidth:3,maxLabelWidth:80,fillOpacity:.2,xLabelOffset:20},columnChart:{cutGridLines:!1,barAttrs:{"stroke-width":1},darkenStroke:18},barChart:{barAttrs:{"stroke-width":1}},xAxis:{stroke:"#333"},yAxis:{strokeWidth:1},horizontalGrid:{stroke:"#d9d9d9"},verticalGrid:!1,frame:!1,frameStrokeOnTop:!1,yTicks:!1,hover:!0,tooltip:!0,hpadding:0,vpadding:10,minWidth:100,locale:"de_DE",duration:1e3,easing:"expoInOut"}}).call(this);

!function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t,e){return t(e={exports:{}},e.exports),e.exports}e(function(e){"undefined"==typeof Symbol&&function(t,n){e.exports=function(t){var e=Object.defineProperty,n=Object.defineProperties,r=0,i=[],a=Array.prototype.slice,o="object"==typeof t.ES6?t.ES6:t.ES6={},s=Array.isArray,u=Object.prototype.toString,l=Array.prototype.push,c=function(){},f=function(t){return t},h=function(t){return"function"==typeof t},d=function(){},p=function(t,e){this._array=t,this._flag=e,this._nextIndex=0},g=function(t,e){this._string=t,this._flag=e,this._nextIndex=0},v=function(t){return null!==t&&("object"==typeof t||"function"==typeof t)},m=function(t,e){if("number"==typeof t.length&&0<=t.length&&"number"==typeof e.length&&0<=e.length){var n=Math.floor(t.length),r=Math.floor(e.length),i=0;for(t.length=n+r;i<r;++i)e.hasOwnProperty(i)&&(t[n+i]=e[i])}},b=function(t,e){if("function"!=typeof t||"function"!=typeof e)throw new TypeError("Child and Parent must be function type");t.prototype=Object.create(e.prototype),t.prototype.constructor=t},y=function t(e){if(e=void 0===e?"":String(e),this instanceof t)throw new TypeError("Symbol is not a constructor");return function(t,e){return n(t,{_description:{value:e},_isSymbol:{value:!0},_id:{value:r++}}),t}(Object.create(t.prototype),e)};n(y,{for:{value:function(t){t=String(t);for(var e,n=i.length,r=0;r<n;++r)if((e=i[r]).key===t)return e.symbol;return e={key:t,symbol:y(t)},i.push(e),e.symbol},writable:!0,configurable:!0},keyFor:{value:function(t){if(!o.isSymbol(t))throw new TypeError(String(t)+" is not a symbol");for(var e,n=i.length,r=0;r<n;++r)if((e=i[r]).symbol===t)return e.key},writable:!0,configurable:!0},hasInstance:{value:y("Symbol.hasInstance")},isConcatSpreadable:{value:y("Symbol.isConcatSpreadable")},iterator:{value:y("Symbol.iterator")},toStringTag:{value:y("Symbol.toStringTag")}}),y.prototype.toString=function(){return"@@_____"+this._id+"_____"},y.prototype.valueOf=function(){return this},e(d.prototype,y.iterator.toString(),{value:function(){return this},writable:!0,configurable:!0}),b(p,d),b(g,d),e(p.prototype,y.toStringTag.toString(),{value:"Array Iterator",configurable:!0}),e(g.prototype,y.toStringTag.toString(),{value:"String Iterator",configurable:!0}),p.prototype.next=function(){if(!(this instanceof p))throw new TypeError("Method Array Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this;return-1===e._nextIndex?{done:!0,value:void 0}:"number"==typeof e._array.length&&0<=e._array.length&&e._nextIndex<Math.floor(e._array.length)?(1===e._flag?t=[e._nextIndex,e._array[e._nextIndex]]:2===e._flag?t=e._array[e._nextIndex]:3===e._flag&&(t=e._nextIndex),e._nextIndex++,{done:!1,value:t}):(e._nextIndex=-1,{done:!0,value:void 0})},g.prototype.next=function(){if(!(this instanceof g))throw new TypeError("Method String Iterator.prototype.next called on incompatible receiver "+String(this));var t,e=this,n=new String(this._string);return-1===e._nextIndex?{done:!0,value:void 0}:e._nextIndex<n.length?(t=n[e._nextIndex],e._nextIndex++,{done:!1,value:t}):(e._nextIndex=-1,{done:!0,value:void 0})};var _=function(t,e){this._target=t,this._values=[],this._thisArg=e};return _.prototype.spread=function(){var t=this;return a.call(arguments).forEach(function(e){o.forOf(e,function(e){t._values.push(e)})}),t},_.prototype.add=function(){var t=this;return a.call(arguments).forEach(function(e){t._values.push(e)}),t},_.prototype.call=function(t){if("function"!=typeof this._target)throw new TypeError("Target is not a function");return t=arguments.length<=0?this._thisArg:t,this._target.apply(t,this._values)},_.prototype.new=function(){if("function"!=typeof this._target)throw new TypeError("Target is not a constructor");var t,e;return t=Object.create(this._target.prototype),e=this._target.apply(t,this._values),v(e)?e:t},_.prototype.array=function(){if(!s(this._target))throw new TypeError("Target is not a array");return l.apply(this._target,this._values),this._target},n(o,{isSymbol:{value:function(t){return t instanceof y&&!0===(e=t)._isSymbol&&"number"==typeof e._id&&"string"==typeof e._description;var e},writable:!0,configurable:!0},instanceOf:{value:function(t,e){if(!v(e))throw new TypeError("Right-hand side of 'instanceof' is not an object");var n=e[y.hasInstance];if(void 0===n)return t instanceof e;if("function"!=typeof n)throw new TypeError(typeof n+" is not a function");return n.call(e,t)},writable:!0,configurable:!0},forOf:{value:function(t,e,n){if(e="function"!=typeof e?c:e,"function"!=typeof t[y.iterator])throw new TypeError("Iterable[Symbol.iterator] is not a function");var r,i=t[y.iterator]();if("function"!=typeof i.next)throw new TypeError(".iterator.next is not a function");for(;;){if(r=i.next(),!v(r))throw new TypeError("Iterator result "+r+" is not an object");if(r.done)break;e.call(n,r.value)}},writable:!0,configurable:!0},spreadOperator:{value:function(t,e){if("function"!=typeof t&&!s(t))throw new TypeError("Spread operator only supports on array and function objects at this moment");return new _(t,e)},writable:!0,configurable:!0}}),e(t,"Symbol",{value:y,writable:!0,configurable:!0}),e(Function.prototype,y.hasInstance.toString(),{value:function(t){return"function"==typeof this&&t instanceof this}}),e(Array.prototype,"concat",{value:function(){if(null==this)throw new TypeError("Array.prototype.concat called on null or undefined");var t=Object(this),e=a.call(arguments),n=[];return e.unshift(t),e.forEach(function(t){v(t)?void 0!==t[y.isConcatSpreadable]?t[y.isConcatSpreadable]?m(n,t):n.push(t):s(t)?m(n,t):n.push(t):n.push(t)}),n},writable:!0,configurable:!0}),e(Object.prototype,"toString",{value:function(){return null==this?u.call(this):"string"==typeof this[y.toStringTag]?"[object "+this[y.toStringTag]+"]":u.call(this)},writable:!0,configurable:!0}),e(Array.prototype,y.iterator.toString(),{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,2)},writable:!0,configurable:!0}),e(Array,"from",{value:function(t,e,n){var r,i,a,s=0;if(r=h(this)?this:Array,null==t)throw new TypeError("Cannot convert undefined or null to object");if(t=Object(t),void 0===e)e=f;else if(!h(e))throw new TypeError(e+" is not a function");if(void 0===t[y.iterator]){if(!("number"==typeof t.length&&0<=t.length))return(a=new r(0)).length=0,a;for(i=Math.floor(t.length),(a=new r(i)).length=i;s<i;++s)a[s]=e.call(n,t[s])}else(a=new r).length=0,o.forOf(t,function(t){a.length++,a[a.length-1]=e.call(n,t)});return a},writable:!0,configurable:!0}),e(Array.prototype,"entries",{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,1)},writable:!0,configurable:!0}),e(Array.prototype,"keys",{value:function(){if(null==this)throw new TypeError("Cannot convert undefined or null to object");var t=Object(this);return new p(t,3)},writable:!0,configurable:!0}),e(String.prototype,y.iterator.toString(),{value:function(){if(null==this)throw new TypeError("String.prototype[Symbol.iterator] called on null or undefined");return new g(String(this),0)},writable:!0,configurable:!0}),o}(t)}("undefined"!=typeof window?window:t)});!function(){var t,e,n="hasOwnProperty",r=/[\.\/]/,i=function(){},a=function(t,e){return t-e},o={n:{}},s=function(n,r){n=String(n);var i,o=e,u=Array.prototype.slice.call(arguments,2),l=s.listeners(n),c=0,f=[],h={},d=[],p=t;t=n,e=0;for(var g=0,v=l.length;g<v;g++)"zIndex"in l[g]&&(f.push(l[g].zIndex),l[g].zIndex<0&&(h[l[g].zIndex]=l[g]));for(f.sort(a);f[c]<0;)if(i=h[f[c++]],d.push(i.apply(r,u)),e)return e=o,d;for(g=0;g<v;g++)if("zIndex"in(i=l[g]))if(i.zIndex==f[c]){if(d.push(i.apply(r,u)),e)break;do{if((i=h[f[++c]])&&d.push(i.apply(r,u)),e)break}while(i)}else h[i.zIndex]=i;else if(d.push(i.apply(r,u)),e)break;return e=o,t=p,d.length?d:null};s._events=o,s.listeners=function(t){var e,n,i,a,s,u,l,c,f=t.split(r),h=o,d=[h],p=[];for(a=0,s=f.length;a<s;a++){for(c=[],u=0,l=d.length;u<l;u++)for(n=[(h=d[u].n)[f[a]],h["*"]],i=2;i--;)(e=n[i])&&(c.push(e),p=p.concat(e.f||[]));d=c}return p},s.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(r),a=o,s=0,u=n.length;s<u;s++)a=(a=a.n).hasOwnProperty(n[s])&&a[n[s]]||(a[n[s]]={n:{}});for(a.f=a.f||[],s=0,u=a.f.length;s<u;s++)if(a.f[s]==e)return i;return a.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},s.f=function(t){var e=[].slice.call(arguments,1);return function(){s.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},s.stop=function(){e=1},s.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},s.nts=function(){return t.split(r)},s.off=s.unbind=function(t,e){if(t){var i,a,u,l,c,f,h,d=t.split(r),p=[o];for(l=0,c=d.length;l<c;l++)for(f=0;f<p.length;f+=u.length-2){if(u=[f,1],i=p[f].n,"*"!=d[l])i[d[l]]&&u.push(i[d[l]]);else for(a in i)i[n](a)&&u.push(i[a]);p.splice.apply(p,u)}for(l=0,c=p.length;l<c;l++)for(i=p[l];i.n;){if(e){if(i.f){for(f=0,h=i.f.length;f<h;f++)if(i.f[f]==e){i.f.splice(f,1);break}!i.f.length&&delete i.f}for(a in i.n)if(i.n[n](a)&&i.n[a].f){var g=i.n[a].f;for(f=0,h=g.length;f<h;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete i.n[a].f}}else for(a in delete i.f,i.n)i.n[n](a)&&i.n[a].f&&delete i.n[a].f;i=i.n}}else s._events=o={n:{}}},s.once=function(t,e){var n=function(){return s.unbind(t,n),e.apply(this,arguments)};return s.on(t,n)},s.version="0.4.2",s.toString=function(){return"You are running Eve 0.4.2"},window.eve=s}(),function(){function t(n){if(t.is(n,"function"))return e?n():eve.on("raphael.DOMload",n);if(t.is(n,S))return t._engine.create[l](t,n.splice(0,3+t.is(n[0],C))).add(n);var r=Array.prototype.slice.call(arguments,0);if(t.is(r[r.length-1],"function")){var i=r.pop();return e?i.call(t._engine.create[l](t,r)):eve.on("raphael.DOMload",function(){i.call(t._engine.create[l](t,r))})}return t._engine.create[l](t,arguments)}t.version="2.1.2",t.eve=eve;var e,n,r=/[, ]+/,i={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},a=/\{(\d+)\}/g,o="hasOwnProperty",s={doc:document,win:window},u=(Object.prototype[o].call(s.win,"Raphael"),s.win.Raphael,function(){this.ca=this.customAttributes={}}),l="apply",c="concat",f="ontouchstart"in s.win||s.win.DocumentTouch&&s.doc instanceof DocumentTouch,h="",d=" ",p=String,g="split",v="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[g](d),m={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=p.prototype.toLowerCase,y=Math,_=y.max,x=y.min,w=y.abs,k=y.pow,M=y.PI,C="number",S="array",T=Object.prototype.toString,A=(t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),N={NaN:1,Infinity:1,"-Infinity":1},L=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,B=y.round,D=parseFloat,F=parseInt,E=p.prototype.toUpperCase,$=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},P=t._availableAnimAttrs={blur:C,"clip-rect":"csv",cx:C,cy:C,fill:"colour","fill-opacity":C,"font-size":C,height:C,opacity:C,path:"path",r:C,rx:C,ry:C,stroke:"colour","stroke-opacity":C,"stroke-width":C,transform:"transform",width:C,x:C,y:C},O=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,z={hs:1,rg:1},j=/,?([achlmqrstvxz]),?/gi,R=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,Y=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,I=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,H=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),U=function(t,e){return D(t)-D(e)},q=function(t){return t},V=t._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},W=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},G=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return W(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return W(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return V(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return V(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return V(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return V(e.x,e.y,e.width,e.height)}},X=t.mapPath=function(t,e){if(!e)return t;var n,r,i,a,o,s,u;for(i=0,o=(t=Ct(t)).length;i<o;i++)for(a=1,s=(u=t[i]).length;a<s;a+=2)n=e.x(u[a],u[a+1]),r=e.y(u[a],u[a+1]),u[a]=n,u[a+1]=r;return t};if(t._g=s,t.type=s.win.SVGAngle||s.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var Z,K=s.doc.createElement("div");if(K.innerHTML='<v:shape adj="1"/>',(Z=K.firstChild).style.behavior="url(#default#VML)",!Z||"object"!=typeof Z.adj)return t.type=h;K=null}function Q(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[o](n)&&(e[n]=Q(t[n]));return e}t.svg=!(t.vml="VML"==t.type),t._Paper=u,t.fn=n=u.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return"finite"==(e=b.call(e))?!N[o](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||T.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,n,r,i,a,o){if(null==a){var s=e-r,u=n-i;return s||u?(180+180*y.atan2(-u,-s)/M+360)%360:0}return t.angle(e,n,a,o)-t.angle(r,i,a,o)},t.rad=function(t){return t%360*M/180},t.deg=function(t){return Math.round(180*t/M%360*1e3)/1e3},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,S)){for(var i=e.length;i--;)if(w(e[i]-n)<=r)return e[i]}else{var a=n%(e=+e);if(a<r)return n-a;if(a>e-r)return n-a+e}return n};var J,tt;t.createUUID=(J=/[xy]/g,tt=function(t){var e=16*y.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(J,tt).toUpperCase()});t.setWindow=function(e){eve("raphael.setWindow",t,s.win,e),s.win=e,s.doc=s.win.document,t._engine.initWin&&t._engine.initWin(s.win)};var et=function(e){if(t.vml){var n,r=/^\s+|\s+$/g;try{var i=new ActiveXObject("htmlfile");i.write("<body>"),i.close(),n=i.body}catch(t){n=createPopup().document.body}var a=n.createTextRange();et=st(function(t){try{n.style.color=p(t).replace(r,h);var e=a.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}})}else{var o=s.doc.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",s.doc.body.appendChild(o),et=st(function(t){return o.style.color=t,s.doc.defaultView.getComputedStyle(o,h).getPropertyValue("color")})}return et(e)},nt=function(){return"hsb("+[this.h,this.s,this.b]+")"},rt=function(){return"hsl("+[this.h,this.s,this.l]+")"},it=function(){return this.hex},at=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,"string")){var i=t.getRGB(e);e=i.r,n=i.g,r=i.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},ot=function(e,n,r,i){var a={r:e*=255,g:n*=255,b:r*=255,hex:t.rgb(e,n,r),toString:it};return t.is(i,"finite")&&(a.opacity=i),a};function st(t,e,n){return function r(){var i=Array.prototype.slice.call(arguments,0),a=i.join("␀"),s=r.cache=r.cache||{},u=r.count=r.count||[];return s[o](a)?(function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}(u,a),n?n(s[a]):s[a]):(u.length>=1e3&&delete s[u.shift()],u.push(a),s[a]=t[l](e,i),n?n(s[a]):s[a])}}t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1),e.toString=it,e},t.hsb2rgb=function(t,e,n,r){var i,a,o,s,u;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),s=(u=n*e)*(1-w((t=(t*=360)%360/60)%2-1)),i=a=o=n-u,ot(i+=[u,s,0,0,s,u][t=~~t],a+=[s,u,u,s,0,0][t],o+=[0,0,s,u,u,s][t],r)},t.hsl2rgb=function(t,e,n,r){var i,a,o,s,u;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),s=(u=2*e*(n<.5?n:1-n))*(1-w((t=(t*=360)%360/60)%2-1)),i=a=o=n-u/2,ot(i+=[u,s,0,0,s,u][t=~~t],a+=[s,u,u,s,0,0][t],o+=[0,0,s,u,u,s][t],r)},t.rgb2hsb=function(t,e,n){var r,i;return t=(n=at(t,e,n))[0],e=n[1],n=n[2],{h:((0==(i=(r=_(t,e,n))-x(t,e,n))?null:r==t?(e-n)/i:r==e?(n-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:nt}},t.rgb2hsl=function(t,e,n){var r,i,a,o;return t=(n=at(t,e,n))[0],e=n[1],n=n[2],r=((i=_(t,e,n))+(a=x(t,e,n)))/2,{h:((0==(o=i-a)?null:i==t?(e-n)/o:i==e?(n-t)/o+2:(t-e)/o+4)+360)%6*60/360,s:0==o?0:r<.5?o/(2*r):o/(2-2*r),l:r,toString:rt}},t._path2string=function(){return this.join(",").replace(j,"$1")};t._preload=function(t,e){var n=s.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,s.doc.body.removeChild(this)},n.onerror=function(){s.doc.body.removeChild(this)},s.doc.body.appendChild(n),n.src=t};function ut(){return this.hex}function lt(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?a[3]={x:+t[0],y:+t[1]}:i-2==r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}t.getRGB=st(function(e){if(!e||(e=p(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:ut};!z[o](e.toLowerCase().substring(0,2))&&"#"!=e.charAt()&&(e=et(e));var n,r,i,a,s,u,l=e.match(A);return l?(l[2]&&(i=F(l[2].substring(5),16),r=F(l[2].substring(3,5),16),n=F(l[2].substring(1,3),16)),l[3]&&(i=F((s=l[3].charAt(3))+s,16),r=F((s=l[3].charAt(2))+s,16),n=F((s=l[3].charAt(1))+s,16)),l[4]&&(u=l[4][g](O),n=D(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=D(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=D(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(a=D(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100)),l[5]?(u=l[5][g](O),n=D(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=D(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=D(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(a=D(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),t.hsb2rgb(n,r,i,a)):l[6]?(u=l[6][g](O),n=D(u[0]),"%"==u[0].slice(-1)&&(n*=2.55),r=D(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),i=D(u[2]),"%"==u[2].slice(-1)&&(i*=2.55),("deg"==u[0].slice(-3)||"°"==u[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(a=D(u[3])),u[3]&&"%"==u[3].slice(-1)&&(a/=100),t.hsl2rgb(n,r,i,a)):((l={r:n,g:r,b:i,toString:ut}).hex="#"+(16777216|i|r<<8|n<<16).toString(16).slice(1),t.is(a,"finite")&&(l.opacity=a),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut}},t),t.hsb=st(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=st(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=st(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=ct(e);if(n.arr)return mt(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,S)&&t.is(e[0],S)&&(i=mt(e)),i.length||p(e).replace(R,function(t,e,n){var a=[],o=e.toLowerCase();if(n.replace(I,function(t,e){e&&a.push(+e)}),"m"==o&&a.length>2&&(i.push([e][c](a.splice(0,2))),o="l",e="m"==e?"l":"L"),"r"==o)i.push([e][c](a));else for(;a.length>=r[o]&&(i.push([e][c](a.splice(0,r[o]))),r[o]););}),i.toString=t._path2string,n.arr=mt(i),i},t.parseTransformString=st(function(e){if(!e)return null;var n=[];return t.is(e,S)&&t.is(e[0],S)&&(n=mt(e)),n.length||p(e).replace(Y,function(t,e,r){var i=[];b.call(e);r.replace(I,function(t,e){e&&i.push(+e)}),n.push([e][c](i))}),n.toString=t._path2string,n});var ct=function(t){var e=ct.ps=ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[o](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};function ft(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function ht(t,e,n,r,i,a,o,s,u){null==u&&(u=1);for(var l=(u=u>1?1:u<0?0:u)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,d=0;d<12;d++){var p=l*c[d]+l,g=ft(p,t,n,i,o),v=ft(p,e,r,a,s),m=g*g+v*v;h+=f[d]*y.sqrt(m)}return l*h}function dt(t,e,n,r,i,a,o,s){if(!(_(t,n)<x(i,o)||x(t,n)>_(i,o)||_(e,r)<x(a,s)||x(e,r)>_(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var l=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,c=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,f=+l.toFixed(2),h=+c.toFixed(2);if(!(f<+x(t,n).toFixed(2)||f>+_(t,n).toFixed(2)||f<+x(i,o).toFixed(2)||f>+_(i,o).toFixed(2)||h<+x(e,r).toFixed(2)||h>+_(e,r).toFixed(2)||h<+x(a,s).toFixed(2)||h>+_(a,s).toFixed(2)))return{x:l,y:c}}}}function pt(e,n,r){var i=t.bezierBBox(e),a=t.bezierBBox(n);if(!t.isBBoxIntersect(i,a))return r?0:[];for(var o=ht.apply(0,e),s=ht.apply(0,n),u=_(~~(o/5),1),l=_(~~(s/5),1),c=[],f=[],h={},d=r?0:[],p=0;p<u+1;p++){var g=t.findDotsAtSegment.apply(t,e.concat(p/u));c.push({x:g.x,y:g.y,t:p/u})}for(p=0;p<l+1;p++)g=t.findDotsAtSegment.apply(t,n.concat(p/l)),f.push({x:g.x,y:g.y,t:p/l});for(p=0;p<u;p++)for(var v=0;v<l;v++){var m=c[p],b=c[p+1],y=f[v],k=f[v+1],M=w(b.x-m.x)<.001?"y":"x",C=w(k.x-y.x)<.001?"y":"x",S=dt(m.x,m.y,b.x,b.y,y.x,y.y,k.x,k.y);if(S){if(h[S.x.toFixed(4)]==S.y.toFixed(4))continue;h[S.x.toFixed(4)]=S.y.toFixed(4);var T=m.t+w((S[M]-m[M])/(b[M]-m[M]))*(b.t-m.t),A=y.t+w((S[C]-y[C])/(k[C]-y[C]))*(k.t-y.t);T>=0&&T<=1.001&&A>=0&&A<=1.001&&(r?d++:d.push({x:S.x,y:S.y,t1:x(T,1),t2:x(A,1)}))}}return d}function gt(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var i,a,o,s,u,l,c,f,h,d,p=r?0:[],g=0,v=e.length;g<v;g++){var m=e[g];if("M"==m[0])i=u=m[1],a=l=m[2];else{"C"==m[0]?(h=[i,a].concat(m.slice(1)),i=h[6],a=h[7]):(h=[i,a,i,a,u,l,u,l],i=u,a=l);for(var b=0,y=n.length;b<y;b++){var _=n[b];if("M"==_[0])o=c=_[1],s=f=_[2];else{"C"==_[0]?(d=[o,s].concat(_.slice(1)),o=d[6],s=d[7]):(d=[o,s,o,s,c,f,c,f],o=c,s=f);var x=pt(h,d,r);if(r)p+=x;else{for(var w=0,k=x.length;w<k;w++)x[w].segment1=g,x[w].segment2=b,x[w].bez1=h,x[w].bez2=d;p=p.concat(x)}}}}}return p}t.findDotsAtSegment=function(t,e,n,r,i,a,o,s,u){var l=1-u,c=k(l,3),f=k(l,2),h=u*u,d=h*u,p=c*t+3*f*u*n+3*l*u*u*i+d*o,g=c*e+3*f*u*r+3*l*u*u*a+d*s,v=t+2*u*(n-t)+h*(i-2*n+t),m=e+2*u*(r-e)+h*(a-2*r+e),b=n+2*u*(i-n)+h*(o-2*i+n),_=r+2*u*(a-r)+h*(s-2*a+r),x=l*t+u*n,w=l*e+u*r,C=l*i+u*o,S=l*a+u*s,T=90-180*y.atan2(v-b,m-_)/M;return(v>b||m<_)&&(T+=180),{x:p,y:g,m:{x:v,y:m},n:{x:b,y:_},start:{x:x,y:w},end:{x:C,y:S},alpha:T}},t.bezierBBox=function(e,n,r,i,a,o,s,u){t.is(e,"array")||(e=[e,n,r,i,a,o,s,u]);var l=Mt.apply(null,e);return{x:l.min.x,y:l.min.y,x2:l.max.x,y2:l.max.y,width:l.max.x-l.min.x,height:l.max.y-l.min.y}},t.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(t,e){return gt(t,e)},t.pathIntersectionNumber=function(t,e){return gt(t,e,1)},t.isPointInsidePath=function(e,n,r){var i=t.pathBBox(e);return t.isPointInsideBBox(i,n,r)&&gt(e,[["M",n,r],["H",i.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var vt=t.pathBBox=function(t){var e=ct(t);if(e.bbox)return Q(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,r=0,i=0,a=[],o=[],s=0,u=(t=Ct(t)).length;s<u;s++)if("M"==(n=t[s])[0])r=n[1],i=n[2],a.push(r),o.push(i);else{var f=Mt(r,i,n[1],n[2],n[3],n[4],n[5],n[6]);a=a[c](f.min.x,f.max.x),o=o[c](f.min.y,f.max.y),r=n[5],i=n[6]}var h=x[l](0,a),d=x[l](0,o),p=_[l](0,a),g=_[l](0,o),v=p-h,m=g-d,b={x:h,y:d,x2:p,y2:g,width:v,height:m,cx:h+v/2,cy:d+m/2};return e.bbox=Q(b),b},mt=function(e){var n=Q(e);return n.toString=t._path2string,n},bt=t._pathToRelative=function(e){var n=ct(e);if(n.rel)return mt(n.rel);t.is(e,S)&&t.is(e&&e[0],S)||(e=t.parsePathString(e));var r=[],i=0,a=0,o=0,s=0,u=0;"M"==e[0][0]&&(o=i=e[0][1],s=a=e[0][2],u++,r.push(["M",i,a]));for(var l=u,c=e.length;l<c;l++){var f=r[l]=[],h=e[l];if(h[0]!=b.call(h[0]))switch(f[0]=b.call(h[0]),f[0]){case"a":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+(h[6]-i).toFixed(3),f[7]=+(h[7]-a).toFixed(3);break;case"v":f[1]=+(h[1]-a).toFixed(3);break;case"m":o=h[1],s=h[2];default:for(var d=1,p=h.length;d<p;d++)f[d]=+(h[d]-(d%2?i:a)).toFixed(3)}else{f=r[l]=[],"m"==h[0]&&(o=h[1]+i,s=h[2]+a);for(var g=0,v=h.length;g<v;g++)r[l][g]=h[g]}var m=r[l].length;switch(r[l][0]){case"z":i=o,a=s;break;case"h":i+=+r[l][m-1];break;case"v":a+=+r[l][m-1];break;default:i+=+r[l][m-2],a+=+r[l][m-1]}}return r.toString=t._path2string,n.rel=mt(r),r},yt=t._pathToAbsolute=function(e){var n=ct(e);if(n.abs)return mt(n.abs);if(t.is(e,S)&&t.is(e&&e[0],S)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],i=0,a=0,o=0,s=0,u=0;"M"==e[0][0]&&(o=i=+e[0][1],s=a=+e[0][2],u++,r[0]=["M",i,a]);for(var l,f,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=u,p=e.length;d<p;d++){if(r.push(l=[]),(f=e[d])[0]!=E.call(f[0]))switch(l[0]=E.call(f[0]),l[0]){case"A":l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=+(f[6]+i),l[7]=+(f[7]+a);break;case"V":l[1]=+f[1]+a;break;case"H":l[1]=+f[1]+i;break;case"R":for(var g=[i,a][c](f.slice(1)),v=2,m=g.length;v<m;v++)g[v]=+g[v]+i,g[++v]=+g[v]+a;r.pop(),r=r[c](lt(g,h));break;case"M":o=+f[1]+i,s=+f[2]+a;default:for(v=1,m=f.length;v<m;v++)l[v]=+f[v]+(v%2?i:a)}else if("R"==f[0])g=[i,a][c](f.slice(1)),r.pop(),r=r[c](lt(g,h)),l=["R"][c](f.slice(-2));else for(var b=0,y=f.length;b<y;b++)l[b]=f[b];switch(l[0]){case"Z":i=o,a=s;break;case"H":i=l[1];break;case"V":a=l[1];break;case"M":o=l[l.length-2],s=l[l.length-1];default:i=l[l.length-2],a=l[l.length-1]}}return r.toString=t._path2string,n.abs=mt(r),r},_t=function(t,e,n,r){return[t,e,n,r,n,r]},xt=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]},wt=function(t,e,n,r,i,a,o,s,u,l){var f,h=120*M/180,d=M/180*(+i||0),p=[],v=st(function(t,e,n){return{x:t*y.cos(n)-e*y.sin(n),y:t*y.sin(n)+e*y.cos(n)}});if(l)A=l[0],N=l[1],S=l[2],T=l[3];else{t=(f=v(t,e,-d)).x,e=f.y;var m=(t-(s=(f=v(s,u,-d)).x))/2,b=(e-(u=f.y))/2,_=m*m/(n*n)+b*b/(r*r);_>1&&(n*=_=y.sqrt(_),r*=_);var x=n*n,k=r*r,C=(a==o?-1:1)*y.sqrt(w((x*k-x*b*b-k*m*m)/(x*b*b+k*m*m))),S=C*n*b/r+(t+s)/2,T=C*-r*m/n+(e+u)/2,A=y.asin(((e-T)/r).toFixed(9)),N=y.asin(((u-T)/r).toFixed(9));(A=t<S?M-A:A)<0&&(A=2*M+A),(N=s<S?M-N:N)<0&&(N=2*M+N),o&&A>N&&(A-=2*M),!o&&N>A&&(N-=2*M)}var L=N-A;if(w(L)>h){var B=N,D=s,F=u;N=A+h*(o&&N>A?1:-1),s=S+n*y.cos(N),u=T+r*y.sin(N),p=wt(s,u,n,r,i,0,o,D,F,[N,B,S,T])}L=N-A;var E=y.cos(A),$=y.sin(A),P=y.cos(N),O=y.sin(N),z=y.tan(L/4),j=4/3*n*z,R=4/3*r*z,Y=[t,e],I=[t+j*$,e-R*E],H=[s+j*O,u-R*P],U=[s,u];if(I[0]=2*Y[0]-I[0],I[1]=2*Y[1]-I[1],l)return[I,H,U][c](p);for(var q=[],V=0,W=(p=[I,H,U][c](p).join()[g](",")).length;V<W;V++)q[V]=V%2?v(p[V-1],p[V],d).y:v(p[V],p[V+1],d).x;return q},kt=function(t,e,n,r,i,a,o,s,u){var l=1-u;return{x:k(l,3)*t+3*k(l,2)*u*n+3*l*u*u*i+k(u,3)*o,y:k(l,3)*e+3*k(l,2)*u*r+3*l*u*u*a+k(u,3)*s}},Mt=st(function(t,e,n,r,i,a,o,s){var u,c=i-2*n+t-(o-2*i+n),f=2*(n-t)-2*(i-n),h=t-n,d=(-f+y.sqrt(f*f-4*c*h))/2/c,p=(-f-y.sqrt(f*f-4*c*h))/2/c,g=[e,s],v=[t,o];return w(d)>"1e12"&&(d=.5),w(p)>"1e12"&&(p=.5),d>0&&d<1&&(u=kt(t,e,n,r,i,a,o,s,d),v.push(u.x),g.push(u.y)),p>0&&p<1&&(u=kt(t,e,n,r,i,a,o,s,p),v.push(u.x),g.push(u.y)),c=a-2*r+e-(s-2*a+r),h=e-r,d=(-(f=2*(r-e)-2*(a-r))+y.sqrt(f*f-4*c*h))/2/c,p=(-f-y.sqrt(f*f-4*c*h))/2/c,w(d)>"1e12"&&(d=.5),w(p)>"1e12"&&(p=.5),d>0&&d<1&&(u=kt(t,e,n,r,i,a,o,s,d),v.push(u.x),g.push(u.y)),p>0&&p<1&&(u=kt(t,e,n,r,i,a,o,s,p),v.push(u.x),g.push(u.y)),{min:{x:x[l](0,v),y:x[l](0,g)},max:{x:_[l](0,v),y:_[l](0,g)}}}),Ct=t._path2curve=st(function(t,e){var n=!e&&ct(t);if(!e&&n.curve)return mt(n.curve);for(var r=yt(t),i=e&&yt(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][c](wt[l](0,[e.x,e.y][c](t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i][c](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][c](xt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][c](xt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][c](_t(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][c](_t(e.x,e.y,t[1],e.y));break;case"V":t=["C"][c](_t(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][c](_t(e.x,e.y,e.X,e.Y))}return t},u=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)h[e]="A",i&&(d[e]="A"),t.splice(e++,0,["C"][c](n.splice(0,6)));t.splice(e,1),m=_(r.length,i&&i.length||0)}},f=function(t,e,n,a,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",a.x,a.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],m=_(r.length,i&&i.length||0))},h=[],d=[],p="",g="",v=0,m=_(r.length,i&&i.length||0);v<m;v++){r[v]&&(p=r[v][0]),"C"!=p&&(h[v]=p,v&&(g=h[v-1])),r[v]=s(r[v],a,g),"A"!=h[v]&&"C"==p&&(h[v]="C"),u(r,v),i&&(i[v]&&(p=i[v][0]),"C"!=p&&(d[v]=p,v&&(g=d[v-1])),i[v]=s(i[v],o,g),"A"!=d[v]&&"C"==p&&(d[v]="C"),u(i,v)),f(r,i,a,o,v),f(i,r,o,a,v);var b=r[v],y=i&&i[v],x=b.length,w=i&&y.length;a.x=b[x-2],a.y=b[x-1],a.bx=D(b[x-4])||a.x,a.by=D(b[x-3])||a.y,o.bx=i&&(D(y[w-4])||o.x),o.by=i&&(D(y[w-3])||o.y),o.x=i&&y[w-2],o.y=i&&y[w-1]}return i||(n.curve=mt(r)),i?[r,i]:r},null,mt),St=(t._parseDots=st(function(e){for(var n=[],r=0,i=e.length;r<i;r++){var a={},o=e[r].match(/^([^:]*):?([\d\.]*)/);if(a.color=t.getRGB(o[1]),a.color.error)return null;a.color=a.color.hex,o[2]&&(a.offset=o[2]+"%"),n.push(a)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){for(var s=D(n[r-1].offset||0),u=0,l=r+1;l<i;l++)if(n[l].offset){u=n[l].offset;break}u||(u=100,l=i);for(var c=((u=D(u))-s)/(l-r+1);r<l;r++)s+=c,n[r].offset=s+"%"}return n}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Tt=(t._tofront=function(t,e){e.top!==t&&(St(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(St(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,n){St(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,n){St(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var n=vt(t),r={_:{transform:h},getBBox:function(){return n}};return At(r,e),r.matrix}),At=(t.transformPath=function(t,e){return X(t,Tt(t,e))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=p(n).replace(/\.{3}|\u2026/g,e._.transform||h);var r,i,a=t.parseTransformString(n),o=0,s=1,u=1,l=e._,c=new Bt;if(l.transform=a||[],a)for(var f=0,d=a.length;f<d;f++){var g,v,m,b,y,_=a[f],x=_.length,w=p(_[0]).toLowerCase(),k=_[0]!=w,M=k?c.invert():0;"t"==w&&3==x?k?(g=M.x(0,0),v=M.y(0,0),m=M.x(_[1],_[2]),b=M.y(_[1],_[2]),c.translate(m-g,b-v)):c.translate(_[1],_[2]):"r"==w?2==x?(y=y||e.getBBox(1),c.rotate(_[1],y.x+y.width/2,y.y+y.height/2),o+=_[1]):4==x&&(k?(m=M.x(_[2],_[3]),b=M.y(_[2],_[3]),c.rotate(_[1],m,b)):c.rotate(_[1],_[2],_[3]),o+=_[1]):"s"==w?2==x||3==x?(y=y||e.getBBox(1),c.scale(_[1],_[x-1],y.x+y.width/2,y.y+y.height/2),s*=_[1],u*=_[x-1]):5==x&&(k?(m=M.x(_[3],_[4]),b=M.y(_[3],_[4]),c.scale(_[1],_[2],m,b)):c.scale(_[1],_[2],_[3],_[4]),s*=_[1],u*=_[2]):"m"==w&&7==x&&c.add(_[1],_[2],_[3],_[4],_[5],_[6]),l.dirtyT=1,e.matrix=c}e.matrix=c,l.sx=s,l.sy=u,l.deg=o,l.dx=r=c.e,l.dy=i=c.f,1==s&&1==u&&!o&&l.bbox?(l.bbox.x+=+r,l.bbox.y+=+i):l.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Lt=t._equaliseTransform=function(e,n){n=p(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,i,a,o,s=_(e.length,n.length),u=[],l=[],c=0;c<s;c++){if(a=e[c]||Nt(n[c]),o=n[c]||Nt(a),a[0]!=o[0]||"r"==a[0].toLowerCase()&&(a[2]!=o[2]||a[3]!=o[3])||"s"==a[0].toLowerCase()&&(a[3]!=o[3]||a[4]!=o[4]))return;for(u[c]=[],l[c]=[],r=0,i=_(a.length,o.length);r<i;r++)r in a&&(u[c][r]=a[r]),r in o&&(l[c][r]=o[r])}return{from:u,to:l}};function Bt(t,e,n,r,i,a){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}t._getContainer=function(e,n,r,i){var a;if(null!=(a=null!=i||t.is(e,"object")?e:s.doc.getElementById(e)))return a.tagName?null==n?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:n,height:r}:{container:1,x:e,y:n,width:r,height:i}},t.pathToRelative=bt,t._engine={},t.path2curve=Ct,t.matrix=function(t,e,n,r,i,a){return new Bt(t,e,n,r,i,a)},function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=y.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,i,a){var o,s,u,l,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,n,i],[e,r,a],[0,0,1]];for(t&&t instanceof Bt&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(l=0,u=0;u<3;u++)l+=f[o][u]*h[u][s];c[o][s]=l}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new Bt(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new Bt(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var i=+y.cos(e).toFixed(9),a=+y.sin(e).toFixed(9);this.add(i,a,-a,i,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[p.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=y.sqrt(n(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=y.sqrt(n(i[1])),r(i[1]),e.shear/=e.scaley;var a=-i[0][1],o=i[1][1];return o<0?(e.rotate=t.deg(y.acos(o)),a<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(y.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this[g]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:h)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:h)+(e.rotate?"r"+[e.rotate,0,0]:h)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Bt.prototype);var Dt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Dt&&Dt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Dt&&Dt[1]<8?n.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:n.safari=function(){};for(var Ft=function(){this.returnValue=!1},Et=function(){return this.originalEvent.preventDefault()},$t=function(){this.cancelBubble=!0},Pt=function(){return this.originalEvent.stopPropagation()},Ot=function(t){var e=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,n=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},zt=s.doc.addEventListener?function(t,e,n,r){var i=function(t){var e=Ot(t);return n.call(r,t,e.x,e.y)};if(t.addEventListener(e,i,!1),f&&m[e]){var a=function(e){for(var i=Ot(e),a=e,o=0,s=e.targetTouches&&e.targetTouches.length;o<s;o++)if(e.targetTouches[o].target==t){(e=e.targetTouches[o]).originalEvent=a,e.preventDefault=Et,e.stopPropagation=Pt;break}return n.call(r,e,i.x,i.y)};t.addEventListener(m[e],a,!1)}return function(){return t.removeEventListener(e,i,!1),f&&m[e]&&t.removeEventListener(m[e],a,!1),!0}}:s.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||s.win.event;var e=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,i=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,a=t.clientX+i,o=t.clientY+e;return t.preventDefault=t.preventDefault||Ft,t.stopPropagation=t.stopPropagation||$t,n.call(r,t,a,o)};return t.attachEvent("on"+e,i),function(){return t.detachEvent("on"+e,i),!0}}:void 0,jt=[],Rt=function(t){for(var e,n=t.clientX,r=t.clientY,i=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,a=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft,o=jt.length;o--;){if(e=jt[o],f&&t.touches){for(var u,l=t.touches.length;l--;)if((u=t.touches[l]).identifier==e.el._drag.id){n=u.clientX,r=u.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,h=e.el.node,d=h.nextSibling,p=h.parentNode,g=h.style.display;s.win.opera&&p.removeChild(h),h.style.display="none",c=e.el.paper.getElementByPoint(n,r),h.style.display=g,s.win.opera&&(d?p.insertBefore(h,d):p.appendChild(h)),c&&eve("raphael.drag.over."+e.el.id,e.el,c),n+=a,r+=i,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,r-e.el._drag.y,n,r,t)}},Yt=function(e){t.unmousemove(Rt).unmouseup(Yt);for(var n,r=jt.length;r--;)(n=jt[r]).el._drag={},eve("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);jt=[]},It=t.el={},Ht=v.length;Ht--;)!function(e){t[e]=It[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:zt(this.shape||this.node||s.doc,e,n,r||this)})),this},t["un"+e]=It["un"+e]=function(n){for(var r=this.events||[],i=r.length;i--;)r[i].name!=e||!t.is(n,"undefined")&&r[i].f!=n||(r[i].unbind(),r.splice(i,1),!r.length&&delete this.events);return this}}(v[Ht]);It.data=function(e,n){var r=H[this.id]=H[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(t.is(e,"object")){for(var i in e)e[o](i)&&this.data(i,e[i]);return this}return eve("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,eve("raphael.data.set."+this.id,this,n,e),this},It.removeData=function(t){return null==t?H[this.id]={}:H[this.id]&&delete H[this.id][t],this},It.getData=function(){return Q(H[this.id]||{})},It.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},It.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Ut=[];It.drag=function(e,n,r,i,a,o){function u(u){(u.originalEvent||u).preventDefault();var l=u.clientX,c=u.clientY,h=s.doc.documentElement.scrollTop||s.doc.body.scrollTop,d=s.doc.documentElement.scrollLeft||s.doc.body.scrollLeft;if(this._drag.id=u.identifier,f&&u.touches)for(var p,g=u.touches.length;g--;)if(p=u.touches[g],this._drag.id=p.identifier,p.identifier==this._drag.id){l=p.clientX,c=p.clientY;break}this._drag.x=l+d,this._drag.y=c+h,!jt.length&&t.mousemove(Rt).mouseup(Yt),jt.push({el:this,move_scope:i,start_scope:a,end_scope:o}),n&&eve.on("raphael.drag.start."+this.id,n),e&&eve.on("raphael.drag.move."+this.id,e),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,a||i||this,u.clientX+d,u.clientY+h,u)}return this._drag={},Ut.push({el:this,start:u}),this.mousedown(u),this},It.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},It.undrag=function(){for(var e=Ut.length;e--;)Ut[e].el==this&&(this.unmousedown(Ut[e].start),Ut.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!Ut.length&&t.unmousemove(Rt).unmouseup(Yt),jt=[]},n.circle=function(e,n,r){var i=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},n.rect=function(e,n,r,i,a){var o=t._engine.rect(this,e||0,n||0,r||0,i||0,a||0);return this.__set__&&this.__set__.push(o),o},n.ellipse=function(e,n,r,i){var a=t._engine.ellipse(this,e||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(a),a},n.path=function(e){e&&!t.is(e,"string")&&!t.is(e[0],S)&&(e+=h);var n=t._engine.path(t.format[l](t,arguments),this);return this.__set__&&this.__set__.push(n),n},n.image=function(e,n,r,i,a){var o=t._engine.image(this,e||"about:blank",n||0,r||0,i||0,a||0);return this.__set__&&this.__set__.push(o),o},n.text=function(e,n,r){var i=t._engine.text(this,e||0,n||0,p(r));return this.__set__&&this.__set__.push(i),i},n.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ce(e);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},n.setStart=function(t){this.__set__=t||this.set()},n.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},n.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},n.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},n.setViewBox=function(e,n,r,i,a){return t._engine.setViewBox.call(this,e,n,r,i,a)},n.top=n.bottom=null,n.raphael=t;function qt(){return this.x+d+this.y+d+this.width+" × "+this.height}n.getElementByPoint=function(t,e){var n,r,i,a,o,u,l,c=this.canvas,f=s.doc.elementFromPoint(t,e);if(s.win.opera&&"svg"==f.tagName){var h=(r=(n=c).getBoundingClientRect(),i=n.ownerDocument,a=i.body,o=i.documentElement,u=o.clientTop||a.clientTop||0,l=o.clientLeft||a.clientLeft||0,{y:r.top+(s.win.pageYOffset||o.scrollTop||a.scrollTop)-u,x:r.left+(s.win.pageXOffset||o.scrollLeft||a.scrollLeft)-l}),d=c.createSVGRect();d.x=t-h.x,d.y=e-h.y,d.width=d.height=1;var p=c.getIntersectionList(d,null);p.length&&(f=p[p.length-1])}if(!f)return null;for(;f.parentNode&&f!=c.parentNode&&!f.raphael;)f=f.parentNode;return f==this.canvas.parentNode&&(f=c),f=f&&f.raphael?this.getById(f.raphaelid):null},n.getElementsByBBox=function(e){var n=this.set();return this.forEach(function(r){t.isBBoxIntersect(r.getBBox(),e)&&n.push(r)}),n},n.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},n.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},n.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},It.isPointInside=function(e,n){var r=this.realPath=G[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=t.transformPath(r,this.attr("transform"))),t.isPointInsidePath(r,e,n)},It.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=G[this.type](this),e.bboxwt=vt(this.realPath),e.bboxwt.toString=qt,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=G[this.type](this)),e.bbox=vt(X(this.realPath,this.matrix)),e.bbox.toString=qt,e.dirty=e.dirtyT=0),e.bbox)},It.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},It.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),a=this.realPath||G[this.type](this);a=this.matrix?X(a,this.matrix):a;for(var o=1;o<n+1;o++)i.push(r.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*o).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Vt=function(e,n,r,i,a,o,s,u,l){return null==l?ht(e,n,r,i,a,o,s,u):t.findDotsAtSegment(e,n,r,i,a,o,s,u,function(t,e,n,r,i,a,o,s,u){if(!(u<0||ht(t,e,n,r,i,a,o,s)<u)){var l,c=.5,f=1-c;for(l=ht(t,e,n,r,i,a,o,s,f);w(l-u)>.01;)l=ht(t,e,n,r,i,a,o,s,f+=(l<u?1:-1)*(c/=2));return f}}(e,n,r,i,a,o,s,u,l))},Wt=function(e,n){return function(r,i,a){for(var o,s,u,l,c,f="",h={},d=0,p=0,g=(r=Ct(r)).length;p<g;p++){if("M"==(u=r[p])[0])o=+u[1],s=+u[2];else{if(d+(l=Vt(o,s,u[1],u[2],u[3],u[4],u[5],u[6]))>i){if(n&&!h.start){if(f+=["C"+(c=Vt(o,s,u[1],u[2],u[3],u[4],u[5],u[6],i-d)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],a)return f;h.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,u[5],u[6]].join(),d+=l,o=+u[5],s=+u[6];continue}if(!e&&!n)return{x:(c=Vt(o,s,u[1],u[2],u[3],u[4],u[5],u[6],i-d)).x,y:c.y,alpha:c.alpha}}d+=l,o=+u[5],s=+u[6]}f+=u.shift()+u}return h.end=f,(c=e?d:n?h:t.findDotsAtSegment(o,s,u[0],u[1],u[2],u[3],u[4],u[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Gt=Wt(1),Xt=Wt(),Zt=Wt(0,1);t.getTotalLength=Gt,t.getPointAtLength=Xt,t.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Zt(t,e).end;var r=Zt(t,n,1);return e?Zt(r,e).end:r},It.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Gt(t)},It.getPointAtLength=function(t){var e=this.getPath();if(e)return Xt(e,t)},It.getPath=function(){var e,n=t._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(e=n(this)),e},It.getSubpath=function(e,n){var r=this.getPath();if(r)return t.getSubpath(r,e,n)};var Kt=t.easing_formulas={linear:function(t){return t},"<":function(t){return k(t,1.7)},">":function(t){return k(t,.48)},"<>":function(t){var e=.48-t/1.04,n=y.sqrt(.1734+e*e),r=n-e,i=-n-e,a=k(w(r),1/3)*(r<0?-1:1)+k(w(i),1/3)*(i<0?-1:1)+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:k(2,-10*t)*y.sin(2*M*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};Kt.easeIn=Kt["ease-in"]=Kt["<"],Kt.easeOut=Kt["ease-out"]=Kt[">"],Kt.easeInOut=Kt["ease-in-out"]=Kt["<>"],Kt["back-in"]=Kt.backIn,Kt["back-out"]=Kt.backOut;var Qt=[],Jt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},te=function(){for(var e=+new Date,n=0;n<Qt.length;n++){var r=Qt[n];if(!r.el.removed&&!r.paused){var i,a,s=e-r.start,u=r.ms,l=r.easing,f=r.from,h=r.diff,p=r.to,g=(r.t,r.el),v={},m={};if(r.initstatus?(s=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*u,r.status=r.initstatus,delete r.initstatus,r.stop&&Qt.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(s/u))/r.anim.top,!(s<0))if(s<u){var b=l(s/u);for(var y in f)if(f[o](y)){switch(P[y]){case C:i=+f[y]+b*u*h[y];break;case"colour":i="rgb("+[ee(B(f[y].r+b*u*h[y].r)),ee(B(f[y].g+b*u*h[y].g)),ee(B(f[y].b+b*u*h[y].b))].join(",")+")";break;case"path":i=[];for(var _=0,x=f[y].length;_<x;_++){i[_]=[f[y][_][0]];for(var w=1,k=f[y][_].length;w<k;w++)i[_][w]=+f[y][_][w]+b*u*h[y][_][w];i[_]=i[_].join(d)}i=i.join(d);break;case"transform":if(h[y].real)for(i=[],_=0,x=f[y].length;_<x;_++)for(i[_]=[f[y][_][0]],w=1,k=f[y][_].length;w<k;w++)i[_][w]=f[y][_][w]+b*u*h[y][_][w];else{var M=function(t){return+f[y][t]+b*u*h[y][t]};i=[["m",M(0),M(1),M(2),M(3),M(4),M(5)]]}break;case"csv":if("clip-rect"==y)for(i=[],_=4;_--;)i[_]=+f[y][_]+b*u*h[y][_];break;default:var S=[][c](f[y]);for(i=[],_=g.paper.customAttributes[y].length;_--;)i[_]=+S[_]+b*u*h[y][_]}v[y]=i}g.attr(v),function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+t,e,n)})}(g.id,g,r.anim)}else{if(function(e,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r),eve("raphael.anim.finish."+n.id,n,r),t.is(e,"function")&&e.call(n)})}(r.callback,g,r.anim),g.attr(p),Qt.splice(n--,1),r.repeat>1&&!r.next){for(a in p)p[o](a)&&(m[a]=r.totalOrigin[a]);r.el.attr(m),ie(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&ie(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}t.svg&&g&&g.paper&&g.paper.safari(),Qt.length&&Jt(te)},ee=function(t){return t>255?255:t<0?0:t};function ne(t,e,n,r,i,a){var o=3*e,s=3*(r-e)-o,u=1-o-s,l=3*n,c=3*(i-n)-l,f=1-l-c;function h(t){return((u*t+s)*t+o)*t}return function(t,e){var n=function(t,e){var n,r,i,a,l,c;for(i=t,c=0;c<8;c++){if(a=h(i)-t,w(a)<e)return i;if(w(l=(3*u*i+2*s)*i+o)<1e-6)break;i-=a/l}if(r=1,(i=t)<(n=0))return n;if(i>r)return r;for(;n<r;){if(a=h(i),w(a-t)<e)return i;t>a?n=i:r=i,i=(r-n)/2+n}return i}(t,e);return((f*n+c)*n+l)*n}(t,1/(200*a))}function re(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[o](i)&&(r[D(i)]=t[i],n.push(D(i)));n.sort(U)}this.anim=r,this.top=n[n.length-1],this.percents=n}function ie(e,n,i,a,s,u){i=D(i);var l,f,h,d,v,m,b=e.ms,y={},_={},x={};if(a)for(k=0,M=Qt.length;k<M;k++){var w=Qt[k];if(w.el.id==n.id&&w.anim==e){w.percent!=i?(Qt.splice(k,1),h=1):f=w,n.attr(w.totalOrigin);break}}else a=+_;for(var k=0,M=e.percents.length;k<M;k++){if(e.percents[k]==i||e.percents[k]>a*e.top){i=e.percents[k],v=e.percents[k-1]||0,b=b/e.top*(i-v),d=e.percents[k+1],l=e.anim[i];break}a&&n.attr(e.anim[e.percents[k]])}if(l){if(f)f.initstatus=a,f.start=new Date-f.ms*a;else{for(var S in l)if(l[o](S)&&(P[o](S)||n.paper.customAttributes[o](S)))switch(y[S]=n.attr(S),null==y[S]&&(y[S]=$[S]),_[S]=l[S],P[S]){case C:x[S]=(_[S]-y[S])/b;break;case"colour":y[S]=t.getRGB(y[S]);var T=t.getRGB(_[S]);x[S]={r:(T.r-y[S].r)/b,g:(T.g-y[S].g)/b,b:(T.b-y[S].b)/b};break;case"path":var A=Ct(y[S],_[S]),N=A[1];for(y[S]=A[0],x[S]=[],k=0,M=y[S].length;k<M;k++){x[S][k]=[0];for(var B=1,F=y[S][k].length;B<F;B++)x[S][k][B]=(N[k][B]-y[S][k][B])/b}break;case"transform":var E=n._,O=Lt(E[S],_[S]);if(O)for(y[S]=O.from,_[S]=O.to,x[S]=[],x[S].real=!0,k=0,M=y[S].length;k<M;k++)for(x[S][k]=[y[S][k][0]],B=1,F=y[S][k].length;B<F;B++)x[S][k][B]=(_[S][k][B]-y[S][k][B])/b;else{var z=n.matrix||new Bt,j={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};y[S]=[z.a,z.b,z.c,z.d,z.e,z.f],At(j,_[S]),_[S]=j._.transform,x[S]=[(j.matrix.a-z.a)/b,(j.matrix.b-z.b)/b,(j.matrix.c-z.c)/b,(j.matrix.d-z.d)/b,(j.matrix.e-z.e)/b,(j.matrix.f-z.f)/b]}break;case"csv":var R=p(l[S])[g](r),Y=p(y[S])[g](r);if("clip-rect"==S)for(y[S]=Y,x[S]=[],k=Y.length;k--;)x[S][k]=(R[k]-y[S][k])/b;_[S]=R;break;default:for(R=[][c](l[S]),Y=[][c](y[S]),x[S]=[],k=n.paper.customAttributes[S].length;k--;)x[S][k]=((R[k]||0)-(Y[k]||0))/b}var I=l.easing,H=t.easing_formulas[I];if(!H)if((H=p(I).match(L))&&5==H.length){var U=H;H=function(t){return ne(t,+U[1],+U[2],+U[3],+U[4],b)}}else H=q;if(w={anim:e,percent:i,timestamp:m=l.start||e.start||+new Date,start:m+(e.del||0),status:0,initstatus:a||0,stop:!1,ms:b,easing:H,from:y,diff:x,to:_,el:n,callback:l.callback,prev:v,next:d,repeat:u||e.times,origin:n.attr(),totalOrigin:s},Qt.push(w),a&&!f&&!h&&(w.stop=!0,w.start=new Date-b*a,1==Qt.length))return te();h&&(w.start=new Date-w.ms*a),1==Qt.length&&Jt(te)}eve("raphael.anim.start."+n.id,n,e)}}function ae(t){for(var e=0;e<Qt.length;e++)Qt[e].el.paper==t&&Qt.splice(e--,1)}It.animateWith=function(e,n,r,i,a,o){if(this.removed)return o&&o.call(this),this;var s=r instanceof re?r:t.animation(r,i,a,o);ie(s,this,s.percents[0],null,this.attr());for(var u=0,l=Qt.length;u<l;u++)if(Qt[u].anim==n&&Qt[u].el==e){Qt[l-1].start=Qt[u].start;break}return this},It.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},re.prototype.delay=function(t){var e=new re(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},re.prototype.repeat=function(t){var e=new re(this.anim,this.ms);return e.del=this.del,e.times=y.floor(_(t,0))||1,e},t.animation=function(e,n,r,i){if(e instanceof re)return e;!t.is(r,"function")&&r||(i=i||r||null,r=null),e=Object(e),n=+n||0;var a,s,u={};for(s in e)e[o](s)&&D(s)!=s&&D(s)+"%"!=s&&(a=!0,u[s]=e[s]);if(a)return r&&(u.easing=r),i&&(u.callback=i),new re({100:u},n);if(i){var l=0;for(var c in e){var f=F(c);e[o](c)&&f>l&&(l=f)}!e[l+="%"].callback&&(e[l].callback=i)}return new re(e,n)},It.animate=function(e,n,r,i){if(this.removed)return i&&i.call(this),this;var a=e instanceof re?e:t.animation(e,n,r,i);return ie(a,this,a.percents[0],null,this.attr()),this},It.setTime=function(t,e){return t&&null!=e&&this.status(t,x(e,t.ms)/t.ms),this},It.status=function(t,e){var n,r,i=[],a=0;if(null!=e)return ie(t,this,-1,x(e,1)),this;for(n=Qt.length;a<n;a++)if((r=Qt[a]).el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},It.pause=function(t){for(var e=0;e<Qt.length;e++)Qt[e].el.id!=this.id||t&&Qt[e].anim!=t||!1!==eve("raphael.anim.pause."+this.id,this,Qt[e].anim)&&(Qt[e].paused=!0);return this},It.resume=function(t){for(var e=0;e<Qt.length;e++)if(Qt[e].el.id==this.id&&(!t||Qt[e].anim==t)){var n=Qt[e];!1!==eve("raphael.anim.resume."+this.id,this,n.anim)&&(delete n.paused,this.status(n.anim,n.status))}return this},It.stop=function(t){for(var e=0;e<Qt.length;e++)Qt[e].el.id!=this.id||t&&Qt[e].anim!=t||!1!==eve("raphael.anim.stop."+this.id,this,Qt[e].anim)&&Qt.splice(e--,1);return this},eve.on("raphael.remove",ae),eve.on("raphael.clear",ae),It.toString=function(){return"Raphaël’s object"};var oe,se,ue,le,ce=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=It.constructor&&t[e].constructor!=ce||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},fe=ce.prototype;for(var he in fe.push=function(){for(var t,e,n=arguments,r=0,i=arguments.length;r<i;r++)!(t=n[r])||t.constructor!=It.constructor&&t.constructor!=ce||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},fe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},fe.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(!1===t.call(e,this.items[n],n))return this;return this},It)It[o](he)&&(fe[he]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][l](n,e)})}}(he));fe.attr=function(e,n){if(e&&t.is(e,S)&&t.is(e[0],"object"))for(var r=0,i=e.length;r<i;r++)this.items[r].attr(e[r]);else for(var a=0,o=this.items.length;a<o;a++)this.items[a].attr(e,n);return this},fe.clear=function(){for(;this.length;)this.pop()},fe.splice=function(t,e,n){var r=arguments;t=t<0?_(this.length+t,0):t,e=_(0,x(this.length-t,e));var i,a=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(r[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)a.push(this[t+i]);var u=s.length;for(i=0;i<u+a.length;i++)this.items[t+i]=this[t+i]=i<u?s[i]:a[i-u];for(i=this.items.length=this.length-=e-u;this[i];)delete this[i++];return new ce(o)},fe.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},fe.animate=function(e,n,r,i){(t.is(r,"function")||!r)&&(i=r||null);var a,o,s=this.items.length,u=s,l=this;if(!s)return this;i&&(o=function(){!--s&&i.call(l)}),r=t.is(r,"string")?r:o;var c=t.animation(e,n,r,o);for(a=this.items[--u].animate(c);u--;)this.items[u]&&!this.items[u].removed&&this.items[u].animateWith(a,c,c),this.items[u]&&!this.items[u].removed||s--;return this},fe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},fe.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var a=this.items[i].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),r.push(a.y+a.height)}return{x:t=x[l](0,t),y:e=x[l](0,e),x2:n=_[l](0,n),y2:r=_[l](0,r),width:n-t,height:r-e}},fe.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},fe.toString=function(){return"Raphaël‘s set"},fe.glow=function(t){var e=this.paper.set();return this.forEach(function(n,r){var i=n.glow(t);null!=i&&i.forEach(function(t,n){e.push(t)})}),e},fe.isPointInside=function(t,e){var n=!1;return this.forEach(function(r){if(r.isPointInside(t,e))return n=!0,!1}),n},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[o](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var i in e.face["units-per-em"]=F(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[o](i)){var a=t.glyphs[i];if(e.glyphs[i]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[o](s)&&(e.glyphs[i].k[s]=a.k[s])}return t},n.getFont=function(e,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var a,s=t.fonts[e];if(!s){var u=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,h)+"(\\s|$)","i");for(var l in t.fonts)if(t.fonts[o](l)&&u.test(l)){s=t.fonts[l];break}}if(s)for(var c=0,f=s.length;c<f&&((a=s[c]).face["font-weight"]!=n||a.face["font-style"]!=r&&a.face["font-style"]||a.face["font-stretch"]!=i);c++);return a}},n.print=function(e,n,i,a,o,s,u,l){s=s||"middle",u=_(x(u||0,1),-1),l=_(x(l||1,3),1);var c,f=p(i)[g](h),d=0,v=0,m=h;if(t.is(a,"string")&&(a=this.getFont(a)),a){c=(o||16)/a.face["units-per-em"];for(var b=a.face.bbox[g](r),y=+b[0],w=b[3]-b[1],k=0,M=+b[1]+("baseline"==s?w+ +a.face.descent:w/2),C=0,S=f.length;C<S;C++){if("\n"==f[C])d=0,A=0,v=0,k+=w*l;else{var T=v&&a.glyphs[f[C-1]]||{},A=a.glyphs[f[C]];d+=v?(T.w||a.w)+(T.k&&T.k[f[C]]||0)+a.w*u:0,v=1}A&&A.d&&(m+=t.transformPath(A.d,["t",d*c,k*c,"s",c,c,y,M,"t",(e-y)/c,(n-M)/c]))}}return this.path(m).attr({fill:"#000",stroke:"none"})},n.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),a=0,s=e.length;a<s;a++)n=e[a]||{},i[o](n.type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,S)?[0][c](n):arguments;return e&&t.is(e,"string")&&r.length-1&&(e=e.replace(a,function(t,e){return null==r[++e]?h:r[e]})),e||h},t.fullfill=(oe=/\{([^\}]+)\}/g,se=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(oe,function(t,n){return function(t,e,n){var r=n;return e.replace(se,function(t,e,n,i,a){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&a&&(r=r()))}),r=(null==r||r==n?t:r)+""}(t,n,e)})}),t.st=fe,eve.on("raphael.DOMload",function(){e=!0}),null==(ue=document).readyState&&ue.addEventListener&&(ue.addEventListener("DOMContentLoaded",le=function(){ue.removeEventListener("DOMContentLoaded",le,!1),ue.readyState="complete"},!1),ue.readyState="loading"),function e(){/in/.test(ue.readyState)?setTimeout(e,9):t.eve("raphael.DOMload")}(),function(){if(t.svg){var e="hasOwnProperty",n=String,r=parseFloat,i=parseInt,a=Math,o=a.max,s=a.abs,u=a.pow,l=/[, ]+/,c=t.eve,f="",h=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var v=function(r,i){if(i)for(var a in"string"==typeof r&&(r=v(r)),i)i[e](a)&&("xlink:"==a.substring(0,6)?r.setAttributeNS(d,a.substring(6),n(i[a])):r.setAttribute(a,n(i[a])));else(r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r)).style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},m=function(e,i){var l="linear",c=e.id+i,h=.5,d=.5,p=e.node,g=e.paper,m=p.style,b=t._g.doc.getElementById(c);if(!b){if(i=(i=n(i).replace(t._radial_gradient,function(t,e,n){if(l="radial",e&&n){h=r(e);var i=2*((d=r(n))>.5)-1;u(h-.5,2)+u(d-.5,2)>.25&&(d=a.sqrt(.25-u(h-.5,2))*i+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*i)}return f})).split(/\s*\-\s*/),"linear"==l){var y=i.shift();if(y=-r(y),isNaN(y))return null;var _=[0,0,a.cos(t.rad(y)),a.sin(t.rad(y))],x=1/(o(s(_[2]),s(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var w=t._parseDots(i);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=v(l+"Gradient",{id:c}),e.gradient=b,v(b,"radial"==l?{fx:h,fy:d}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(b);for(var k=0,M=w.length;k<M;k++)b.appendChild(v("stop",{offset:w[k].offset?w[k].offset:k?"100%":"0%","stop-color":w[k].color||"#fff"}))}}return v(p,{fill:"url('"+document.location+"#"+c+"')",opacity:1,"fill-opacity":1}),m.fill=f,m.opacity=1,m.fillOpacity=1,1},b=function(t){var e=t.getBBox(1);v(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},y=function(r,i,a){if("path"==r.type){for(var o,s,u,l,c,h=n(i).toLowerCase().split("-"),d=r.paper,m=a?"end":"start",b=r.node,y=r.attrs,_=y["stroke-width"],x=h.length,w="classic",k=3,M=3,C=5;x--;)switch(h[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=h[x];break;case"wide":M=5;break;case"narrow":M=2;break;case"long":k=5;break;case"short":k=2}if("open"==w?(k+=2,M+=2,C+=2,u=1,l=a?4:1,c={fill:"none",stroke:y.stroke}):(l=u=k/2,c={fill:y.stroke,stroke:"none"}),r._.arrows?a?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=w){var S="raphael-marker-"+w,T="raphael-marker-"+m+w+k+M+"-obj"+r.id;t._g.doc.getElementById(S)?g[S]++:(d.defs.appendChild(v(v("path"),{"stroke-linecap":"round",d:p[w],id:S})),g[S]=1);var A,N=t._g.doc.getElementById(T);N?(g[T]++,A=N.getElementsByTagName("use")[0]):(N=v(v("marker"),{id:T,markerHeight:M,markerWidth:k,orient:"auto",refX:l,refY:M/2}),A=v(v("use"),{"xlink:href":"#"+S,transform:(a?"rotate(180 "+k/2+" "+M/2+") ":f)+"scale("+k/C+","+M/C+")","stroke-width":(1/((k/C+M/C)/2)).toFixed(4)}),N.appendChild(A),d.defs.appendChild(N),g[T]=1),v(A,c);var L=u*("diamond"!=w&&"oval"!=w);a?(o=r._.arrows.startdx*_||0,s=t.getTotalLength(y.path)-L*_):(o=L*_,s=t.getTotalLength(y.path)-(r._.arrows.enddx*_||0)),(c={})["marker-"+m]="url(#"+T+")",(s||o)&&(c.d=t.getSubpath(y.path,o,s)),v(b,c),r._.arrows[m+"Path"]=S,r._.arrows[m+"Marker"]=T,r._.arrows[m+"dx"]=L,r._.arrows[m+"Type"]=w,r._.arrows[m+"String"]=i}else a?(o=r._.arrows.startdx*_||0,s=t.getTotalLength(y.path)-o):(o=0,s=t.getTotalLength(y.path)-(r._.arrows.enddx*_||0)),r._.arrows[m+"Path"]&&v(b,{d:t.getSubpath(y.path,o,s)}),delete r._.arrows[m+"Path"],delete r._.arrows[m+"Marker"],delete r._.arrows[m+"dx"],delete r._.arrows[m+"Type"],delete r._.arrows[m+"String"];for(c in g)if(g[e](c)&&!g[c]){var B=t._g.doc.getElementById(c);B&&B.parentNode.removeChild(B)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,r){if(e=_[n(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",a={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],s=e.length;s--;)o[s]=e[s]*i+(s%2?1:-1)*a;v(t.node,{"stroke-dasharray":o.join(",")})}},w=function(r,a){var u=r.node,c=r.attrs,h=u.style.visibility;for(var p in u.style.visibility="hidden",a)if(a[e](p)){if(!t._availableAttrs[e](p))continue;var g=a[p];switch(c[p]=g,p){case"blur":r.blur(g);break;case"title":var _=u.getElementsByTagName("title");if(_.length&&(_=_[0]))_.firstChild.nodeValue=g;else{_=v("title");var w=t._g.doc.createTextNode(g);_.appendChild(w),u.appendChild(_)}break;case"href":case"target":var M=u.parentNode;if("a"!=M.tagName.toLowerCase()){var C=v("a");M.insertBefore(C,u),C.appendChild(u),M=C}"target"==p?M.setAttributeNS(d,"show","blank"==g?"new":g):M.setAttributeNS(d,p,g);break;case"cursor":u.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":y(r,g);break;case"arrow-end":y(r,g,1);break;case"clip-rect":var S=n(g).split(l);if(4==S.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var T=v("clipPath"),A=v("rect");T.id=t.createUUID(),v(A,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(A),r.paper.defs.appendChild(T),v(u,{"clip-path":"url(#"+T.id+")"}),r.clip=A}if(!g){var N=u.getAttribute("clip-path");if(N){var L=t._g.doc.getElementById(N.replace(/(^url\(#|\)$)/g,f));L&&L.parentNode.removeChild(L),v(u,{"clip-path":f}),delete r.clip}}break;case"path":"path"==r.type&&(v(u,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1)));break;case"width":if(u.setAttribute(p,g),r._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":u.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"height":if(u.setAttribute(p,g),r._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":u.setAttribute(p,g),r.pattern&&b(r),r._.dirty=1;break;case"r":"rect"==r.type?v(u,{rx:g,ry:g}):u.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&u.setAttributeNS(d,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=o(s(r._.sx),s(r._.sy))||1),u.setAttribute(p,g),c["stroke-dasharray"]&&x(r,c["stroke-dasharray"],a),r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1));break;case"stroke-dasharray":x(r,g,a);break;case"fill":var B=n(g).match(t._ISURL);if(B){T=v("pattern");var D=v("image");T.id=t.createUUID(),v(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),v(D,{x:0,y:0,"xlink:href":B[1]}),T.appendChild(D),function(e){t._preload(B[1],function(){var t=this.offsetWidth,n=this.offsetHeight;v(e,{width:t,height:n}),v(D,{width:t,height:n}),r.paper.safari()})}(T),r.paper.defs.appendChild(T),v(u,{fill:"url(#"+T.id+")"}),r.pattern=T,r.pattern&&b(r);break}var F=t.getRGB(g);if(F.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&m(r,g)){if("opacity"in c||"fill-opacity"in c){var E=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(E){var $=E.getElementsByTagName("stop");v($[$.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete a.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(a.opacity,"undefined")&&v(u,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&v(u,{"fill-opacity":c["fill-opacity"]});F[e]("opacity")&&v(u,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=t.getRGB(g),u.setAttribute(p,F.hex),"stroke"==p&&F[e]("opacity")&&v(u,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&y(r,r._.arrows.startString),"endString"in r._.arrows&&y(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&m(r,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&v(u,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){(E=t._g.doc.getElementById(u.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&($=E.getElementsByTagName("stop"),v($[$.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=i(g,10)+"px");var P=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});u.style[P]=g,r._.dirty=1,u.setAttribute(p,g)}}k(r,a),u.style.visibility=h},k=function(r,a){if("text"==r.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var o=r.attrs,s=r.node,u=s.firstChild?i(t._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(o.text=a.text;s.firstChild;)s.removeChild(s.firstChild);for(var l,c=n(a.text).split("\n"),h=[],d=0,p=c.length;d<p;d++)l=v("tspan"),d&&v(l,{dy:1.2*u,x:o.x}),l.appendChild(t._g.doc.createTextNode(c[d])),s.appendChild(l),h[d]=l}else for(d=0,p=(h=s.getElementsByTagName("tspan")).length;d<p;d++)d?v(h[d],{dy:1.2*u,x:o.x}):v(h[0],{dy:0});v(s,{x:o.x,y:o.y}),r._.dirty=1;var g=r._getBBox(),m=o.y-(g.y+g.height/2);m&&t.is(m,"finite")&&v(h[0],{dy:m})}},M=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},C=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},S=t.el;C.prototype=S,S.constructor=C,t._engine.path=function(t,e){var n=v("path");e.canvas&&e.canvas.appendChild(n);var r=new C(n,e);return r.type="path",w(r,{fill:"none",stroke:"#000",path:t}),r},S.rotate=function(t,e,i){if(this.removed)return this;if((t=n(t).split(l)).length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var a=this.getBBox(1);e=a.x+a.width/2,i=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},S.scale=function(t,e,i,a){if(this.removed)return this;if((t=n(t).split(l)).length-1&&(e=r(t[1]),i=r(t[2]),a=r(t[3])),t=r(t[0]),null==e&&(e=t),null==a&&(i=a),null==i||null==a)var o=this.getBBox(1);return i=null==i?o.x+o.width/2:i,a=null==a?o.y+o.height/2:a,this.transform(this._.transform.concat([["s",t,e,i,a]])),this},S.translate=function(t,e){return this.removed?this:((t=n(t).split(l)).length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},S.transform=function(n){var r=this._;if(null==n)return r.transform;if(t._extractTransform(this,n),this.clip&&v(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&v(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},S.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},S.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},S.remove=function(){var e=M(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var r in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},S._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(t){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},n&&(e.display="none")}return t&&this.hide(),r},S.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var a in this.attrs)this.attrs[e](a)&&(i[a]=this.attrs[a]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var o=n.split(l),s={},u=0,f=o.length;u<f;u++)(n=o[u])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[o[0]]}if(null==r&&t.is(n,"array")){for(s={},u=0,f=n.length;u<f;u++)s[n[u]]=this.attr(n[u]);return s}if(null!=r){var h={};h[n]=r}else null!=n&&t.is(n,"object")&&(h=n);for(var d in h)c("raphael.attr."+d+"."+this.id,this,h[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&h[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));for(var g in this.attrs[d]=h[d],p)p[e](g)&&(h[g]=p[g])}return w(this,h),this},S.toFront=function(){if(this.removed)return this;var e=M(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},S.toBack=function(){if(this.removed)return this;var e=M(this.node),n=e.parentNode;n.insertBefore(e,n.firstChild),t._toback(this,this.paper);this.paper;return this},S.insertAfter=function(e){if(this.removed||!e)return this;var n=M(this.node),r=M(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(n,r.nextSibling):r.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},S.insertBefore=function(e){if(this.removed||!e)return this;var n=M(this.node),r=M(e.node||e[0].node);return r.parentNode.insertBefore(n,r),t._insertbefore(this,e,this.paper),this},S.blur=function(e){var n=this;if(0!=+e){var r=v("filter"),i=v("feGaussianBlur");n.attrs.blur=e,r.id=t.createUUID(),v(i,{stdDeviation:+e||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,v(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,r){var i=v("circle");t.canvas&&t.canvas.appendChild(i);var a=new C(i,t);return a.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},a.type="circle",v(i,a.attrs),a},t._engine.rect=function(t,e,n,r,i,a){var o=v("rect");t.canvas&&t.canvas.appendChild(o);var s=new C(o,t);return s.attrs={x:e,y:n,width:r,height:i,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},s.type="rect",v(o,s.attrs),s},t._engine.ellipse=function(t,e,n,r,i){var a=v("ellipse");t.canvas&&t.canvas.appendChild(a);var o=new C(a,t);return o.attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},o.type="ellipse",v(a,o.attrs),o},t._engine.image=function(t,e,n,r,i,a){var o=v("image");v(o,{x:n,y:r,width:i,height:a,preserveAspectRatio:"none"}),o.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(o);var s=new C(o,t);return s.attrs={x:n,y:r,width:i,height:a,src:e},s.type="image",s},t._engine.text=function(e,n,r,i){var a=v("text");e.canvas&&e.canvas.appendChild(a);var o=new C(a,e);return o.attrs={x:n,y:r,"text-anchor":"middle",text:i,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},o.type="text",w(o,o.attrs),o},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,r=e.x,i=e.y,a=e.width,o=e.height;if(!n)throw new Error("SVG container not found.");var s,u=v("svg"),l="overflow:hidden;";return r=r||0,i=i||0,v(u,{height:o=o||342,version:1.1,width:a=a||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(u.style.cssText=l+"position:absolute;left:"+r+"px;top:"+i+"px",t._g.doc.body.appendChild(u),s=1):(u.style.cssText=l+"position:relative",n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u)),(n=new t._Paper).width=a,n.height=o,n.canvas=u,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,r,i){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var a,s,u=this.getSize(),l=o(n/u.width,r/u.height),f=this.top,d=i?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+h+this.height):(this._vbSize=l,a=t+h+e+h+n+h+r),v(this.canvas,{viewBox:a,preserveAspectRatio:d});l&&f;)s="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":s}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,n,r,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,i=-t.f%1;(r||i)&&(r&&(this._left=(this._left+r)%1,n.left=this._left+"px"),i&&(this._top=(this._top+i)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=v("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=v("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var T=t.st;for(var A in S)S[e](A)&&!T[e](A)&&(T[A]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(A))}}(),function(){if(t.vml){var e="hasOwnProperty",n=String,r=parseFloat,i=Math,a=i.round,o=i.max,s=i.min,u=i.abs,l=/[, ]+/,c=t.eve,f=" ",h="",d={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,m="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,y={path:1,rect:1,image:1},_={circle:1,ellipse:1},x=function(e,n,r){var i=t.matrix();return i.rotate(-e,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},w=function(t,e,n,r,i,a){var o=t._,s=t.matrix,l=o.fillpos,c=t.node,h=c.style,d=1,p="",g=b/e,v=b/n;if(h.visibility="hidden",e&&n){if(c.coordsize=u(g)+f+u(v),h.rotation=a*(e*n<0?-1:1),a){var m=x(a,r,i);r=m.dx,i=m.dy}if(e<0&&(p+="x"),n<0&&(p+=" y")&&(d=-1),h.flip=p,c.coordorigin=r*-g+f+i*-v,l||o.fillsize){var y=c.getElementsByTagName("fill");y=y&&y[0],c.removeChild(y),l&&(m=x(a,s.x(l[0],l[1]),s.y(l[0],l[1])),y.position=m.dx*d+f+m.dy*d),o.fillsize&&(y.size=o.fillsize[0]*u(e)+f+o.fillsize[1]*u(n)),c.appendChild(y)}h.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var k,M=function(t,e,r){for(var i=n(e).toLowerCase().split("-"),a=r?"end":"start",o=i.length,s="classic",u="medium",l="medium";o--;)switch(i[o]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[o];break;case"wide":case"narrow":l=i[o];break;case"long":case"short":u=i[o]}var c=t.node.getElementsByTagName("stroke")[0];c[a+"arrow"]=s,c[a+"arrowlength"]=u,c[a+"arrowwidth"]=l},C=function(i,u){i.attrs=i.attrs||{};var c=i.node,g=i.attrs,m=c.style,x=y[i.type]&&(u.x!=g.x||u.y!=g.y||u.width!=g.width||u.height!=g.height||u.cx!=g.cx||u.cy!=g.cy||u.rx!=g.rx||u.ry!=g.ry||u.r!=g.r),C=_[i.type]&&(g.cx!=u.cx||g.cy!=u.cy||g.r!=u.r||g.rx!=u.rx||g.ry!=u.ry),T=i;for(var A in u)u[e](A)&&(g[A]=u[A]);if(x&&(g.path=t._getPath[i.type](i),i._.dirty=1),u.href&&(c.href=u.href),u.title&&(c.title=u.title),u.target&&(c.target=u.target),u.cursor&&(m.cursor=u.cursor),"blur"in u&&i.blur(u.blur),(u.path&&"path"==i.type||x)&&(c.path=function(e){var r=/[ahqstv]/gi,i=t._pathToAbsolute;if(n(e).match(r)&&(i=t._path2curve),r=/[clmz]/g,i==t._pathToAbsolute&&!n(e).match(r)){var o=n(e).replace(p,function(t,e,n){var r=[],i="m"==e.toLowerCase(),o=d[e];return n.replace(v,function(t){i&&2==r.length&&(o+=r+d["m"==e?"l":"L"],r=[]),r.push(a(t*b))}),o+r});return o}var s,u,l=i(e);o=[];for(var c=0,g=l.length;c<g;c++){s=l[c],"z"==(u=l[c][0].toLowerCase())&&(u="x");for(var m=1,y=s.length;m<y;m++)u+=a(s[m]*b)+(m!=y-1?",":h);o.push(u)}return o.join(f)}(~n(g.path).toLowerCase().indexOf("r")?t._pathToAbsolute(g.path):g.path),i._.dirty=1,"image"==i.type&&(i._.fillpos=[g.x,g.y],i._.fillsize=[g.width,g.height],w(i,1,1,0,0,0))),"transform"in u&&i.transform(u.transform),C){var N=+g.cx,L=+g.cy,B=+g.rx||+g.r||0,D=+g.ry||+g.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((N-B)*b),a((L-D)*b),a((N+B)*b),a((L+D)*b),a(N*b)),i._.dirty=1}if("clip-rect"in u){var F=n(u["clip-rect"]).split(l);if(4==F.length){F[2]=+F[2]+ +F[0],F[3]=+F[3]+ +F[1];var E=c.clipRect||t._g.doc.createElement("div"),$=E.style;$.clip=t.format("rect({1}px {2}px {3}px {0}px)",F),c.clipRect||($.position="absolute",$.top=0,$.left=0,$.width=i.paper.width+"px",$.height=i.paper.height+"px",c.parentNode.insertBefore(E,c),E.appendChild(c),c.clipRect=E)}u["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(i.textpath){var P=i.textpath.style;u.font&&(P.font=u.font),u["font-family"]&&(P.fontFamily='"'+u["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,h)+'"'),u["font-size"]&&(P.fontSize=u["font-size"]),u["font-weight"]&&(P.fontWeight=u["font-weight"]),u["font-style"]&&(P.fontStyle=u["font-style"])}if("arrow-start"in u&&M(T,u["arrow-start"]),"arrow-end"in u&&M(T,u["arrow-end"],1),null!=u.opacity||null!=u["stroke-width"]||null!=u.fill||null!=u.src||null!=u.stroke||null!=u["stroke-width"]||null!=u["stroke-opacity"]||null!=u["fill-opacity"]||null!=u["stroke-dasharray"]||null!=u["stroke-miterlimit"]||null!=u["stroke-linejoin"]||null!=u["stroke-linecap"]){var O=c.getElementsByTagName("fill");if(!(O=O&&O[0])&&(O=k("fill")),"image"==i.type&&u.src&&(O.src=u.src),u.fill&&(O.on=!0),null!=O.on&&"none"!=u.fill&&null!==u.fill||(O.on=!1),O.on&&u.fill){var z=n(u.fill).match(t._ISURL);if(z){O.parentNode==c&&c.removeChild(O),O.rotate=!0,O.src=z[1],O.type="tile";var j=i.getBBox(1);O.position=j.x+f+j.y,i._.fillpos=[j.x,j.y],t._preload(z[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else O.color=t.getRGB(u.fill).hex,O.src=h,O.type="solid",t.getRGB(u.fill).error&&(T.type in{circle:1,ellipse:1}||"r"!=n(u.fill).charAt())&&S(T,u.fill,O)&&(g.fill="none",g.gradient=u.fill,O.rotate=!1)}if("fill-opacity"in u||"opacity"in u){var R=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+t.getRGB(u.fill).o+1||2)-1);R=s(o(R,0),1),O.opacity=R,O.src&&(O.color="none")}c.appendChild(O);var Y=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],I=!1;!Y&&(I=Y=k("stroke")),(u.stroke&&"none"!=u.stroke||u["stroke-width"]||null!=u["stroke-opacity"]||u["stroke-dasharray"]||u["stroke-miterlimit"]||u["stroke-linejoin"]||u["stroke-linecap"])&&(Y.on=!0),("none"==u.stroke||null===u.stroke||null==Y.on||0==u.stroke||0==u["stroke-width"])&&(Y.on=!1);var H=t.getRGB(u.stroke);Y.on&&u.stroke&&(Y.color=H.hex),R=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+H.o+1||2)-1);var U=.75*(r(u["stroke-width"])||1);if(R=s(o(R,0),1),null==u["stroke-width"]&&(U=g["stroke-width"]),u["stroke-width"]&&(Y.weight=U),U&&U<1&&(R*=U)&&(Y.weight=1),Y.opacity=R,u["stroke-linejoin"]&&(Y.joinstyle=u["stroke-linejoin"]||"miter"),Y.miterlimit=u["stroke-miterlimit"]||8,u["stroke-linecap"]&&(Y.endcap="butt"==u["stroke-linecap"]?"flat":"square"==u["stroke-linecap"]?"square":"round"),"stroke-dasharray"in u){var q={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};Y.dashstyle=q[e](u["stroke-dasharray"])?q[u["stroke-dasharray"]]:h}I&&c.appendChild(Y)}if("text"==T.type){T.paper.canvas.style.display=h;var V=T.paper.span,W=g.font&&g.font.match(/\d+(?:\.\d*)?(?=px)/);m=V.style,g.font&&(m.font=g.font),g["font-family"]&&(m.fontFamily=g["font-family"]),g["font-weight"]&&(m.fontWeight=g["font-weight"]),g["font-style"]&&(m.fontStyle=g["font-style"]),W=r(g["font-size"]||W&&W[0])||10,m.fontSize=100*W+"px",T.textpath.string&&(V.innerHTML=n(T.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var G=V.getBoundingClientRect();T.W=g.w=(G.right-G.left)/100,T.H=g.h=(G.bottom-G.top)/100,T.X=g.x,T.Y=g.y+T.H/2,("x"in u||"y"in u)&&(T.path.v=t.format("m{0},{1}l{2},{1}",a(g.x*b),a(g.y*b),a(g.x*b)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,K=X.length;Z<K;Z++)if(X[Z]in u){T._.dirty=1;break}switch(g["text-anchor"]){case"start":T.textpath.style["v-text-align"]="left",T.bbx=T.W/2;break;case"end":T.textpath.style["v-text-align"]="right",T.bbx=-T.W/2;break;default:T.textpath.style["v-text-align"]="center",T.bbx=0}T.textpath.style["v-text-kern"]=!0}},S=function(e,a,o){e.attrs=e.attrs||{};e.attrs;var s=Math.pow,u="linear",l=".5 .5";if(e.attrs.gradient=a,a=(a=n(a).replace(t._radial_gradient,function(t,e,n){return u="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),l=e+f+n),h})).split(/\s*\-\s*/),"linear"==u){var c=a.shift();if(c=-r(c),isNaN(c))return null}var d=t._parseDots(a);if(!d)return null;if(e=e.shape||e.node,d.length){e.removeChild(o),o.on=!0,o.method="none",o.color=d[0].color,o.color2=d[d.length-1].color;for(var p=[],g=0,v=d.length;g<v;g++)d[g].offset&&p.push(d[g].offset+f+d[g].color);o.colors=p.length?p.join():"0% "+o.color,"radial"==u?(o.type="gradientTitle",o.focus="100%",o.focussize="0 0",o.focusposition=l,o.angle=0):(o.type="gradient",o.angle=(270-c)%360),e.appendChild(o)}return 1},T=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},A=t.el;T.prototype=A,A.constructor=T,A.transform=function(e){if(null==e)return this._.transform;var r,i=this.paper._viewBoxShift,a=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:h;i&&(r=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||h)),t._extractTransform(this,a+e);var o,s=this.matrix.clone(),u=this.skew,l=this.node,c=~n(this.attrs.fill).indexOf("-"),d=!n(this.attrs.fill).indexOf("url(");if(s.translate(1,1),d||c||"image"==this.type)if(u.matrix="1 0 0 1",u.offset="0 0",o=s.split(),c&&o.noRotation||!o.isSimple){l.style.filter=s.toFilter();var p=this.getBBox(),g=this.getBBox(1),v=p.x-g.x,m=p.y-g.y;l.coordorigin=v*-b+f+m*-b,w(this,1,1,v,m,0)}else l.style.filter=h,w(this,o.scalex,o.scaley,o.dx,o.dy,o.rotate);else l.style.filter=h,u.matrix=n(s),u.offset=s.offset();return null!==r&&(this._.transform=r,t._extractTransform(this,r)),this},A.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if((t=n(t).split(l)).length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var a=this.getBBox(1);e=a.x+a.width/2,i=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},A.translate=function(t,e){return this.removed?this:((t=n(t).split(l)).length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},A.scale=function(t,e,i,a){if(this.removed)return this;if((t=n(t).split(l)).length-1&&(e=r(t[1]),i=r(t[2]),a=r(t[3]),isNaN(i)&&(i=null),isNaN(a)&&(a=null)),t=r(t[0]),null==e&&(e=t),null==a&&(i=a),null==i||null==a)var o=this.getBBox(1);return i=null==i?o.x+o.width/2:i,a=null==a?o.y+o.height/2:a,this.transform(this._.transform.concat([["s",t,e,i,a]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=h),this},A.auxGetBBox=t.el.getBBox,A.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},A.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var a in this.attrs)this.attrs[e](a)&&(i[a]=this.attrs[a]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var o=n.split(l),s={},u=0,f=o.length;u<f;u++)(n=o[u])in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[o[0]]}if(this.attrs&&null==r&&t.is(n,"array")){for(s={},u=0,f=n.length;u<f;u++)s[n[u]]=this.attr(n[u]);return s}var h;for(var d in null!=r&&((h={})[n]=r),null==r&&t.is(n,"object")&&(h=n),h)c("raphael.attr."+d+"."+this.id,this,h[d]);if(h){for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&h[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));for(var g in this.attrs[d]=h[d],p)p[e](g)&&(h[g]=p[g])}h.text&&"text"==this.type&&(this.textpath.string=h.text),C(this,h)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},A.blur=function(e){var n=this.node.runtimeStyle,r=n.filter;return r=r.replace(g,h),0!=+e?(this.attrs.blur=e,n.filter=r+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=k("shape");n.style.cssText=m,n.coordsize=b+f+b,n.coordorigin=e.coordorigin;var r=new T(n,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),r.type="path",r.path=[],r.Path=h,C(r,i),e.canvas.appendChild(n);var a=k("skew");return a.on=!0,n.appendChild(a),r.skew=a,r.transform(h),r},t._engine.rect=function(e,n,r,i,a,o){var s=t._rectPath(n,r,i,a,o),u=e.path(s),l=u.attrs;return u.X=l.x=n,u.Y=l.y=r,u.W=l.width=i,u.H=l.height=a,l.r=o,l.path=s,u.type="rect",u},t._engine.ellipse=function(t,e,n,r,i){var a=t.path();a.attrs;return a.X=e-r,a.Y=n-i,a.W=2*r,a.H=2*i,a.type="ellipse",C(a,{cx:e,cy:n,rx:r,ry:i}),a},t._engine.circle=function(t,e,n,r){var i=t.path();i.attrs;return i.X=e-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",C(i,{cx:e,cy:n,r:r}),i},t._engine.image=function(e,n,r,i,a,o){var s=t._rectPath(r,i,a,o),u=e.path(s).attr({stroke:"none"}),l=u.attrs,c=u.node,f=c.getElementsByTagName("fill")[0];return l.src=n,u.X=l.x=r,u.Y=l.y=i,u.W=l.width=a,u.H=l.height=o,l.path=s,u.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",u._.fillpos=[r,i],u._.fillsize=[a,o],c.appendChild(f),w(u,1,1,0,0,0),u},t._engine.text=function(e,r,i,o){var s=k("shape"),u=k("path"),l=k("textpath");r=r||0,i=i||0,o=o||"",u.v=t.format("m{0},{1}l{2},{1}",a(r*b),a(i*b),a(r*b)+1),u.textpathok=!0,l.string=n(o),l.on=!0,s.style.cssText=m,s.coordsize=b+f+b,s.coordorigin="0 0";var c=new T(s,e),d={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:o};c.shape=s,c.path=u,c.textpath=l,c.type="text",c.attrs.text=n(o),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,C(c,d),s.appendChild(l),s.appendChild(u),e.canvas.appendChild(s);var p=k("skew");return p.on=!0,s.appendChild(p),c.skew=p,c.transform(h),c},t._engine.setSize=function(e,n){var r=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),r.width=e,r.height=n,r.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,r,i,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,r,i,a]);var o,s,u=this.getSize(),l=u.width,c=u.height;return a&&(r*(o=c/i)<l&&(e-=(l-r*o)/2/o),i*(s=l/r)<c&&(n-=(c-i*s)/2/s)),this._viewBox=[e,n,r,i,!!a],this._viewBoxShift={dx:-e,dy:-n,scale:u},this.forEach(function(t){t.transform("...")}),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),k=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){k=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,r=e.height,i=e.width,a=e.x,o=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,u=s.canvas=t._g.doc.createElement("div"),l=u.style;return a=a||0,o=o||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=216e5+f+216e5,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",u.appendChild(s.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==n?(t._g.doc.body.appendChild(u),l.left=a+"px",l.top=o+"px",l.position="absolute"):n.firstChild?n.insertBefore(u,n.firstChild):n.appendChild(u),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=h,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var L in A)A[e](L)&&!N[e](L)&&(N[L]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(L))}}(),window.Raphael=t}();var n=e(function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];e["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return e[Object.prototype.toString.call(t)]||"object"},o=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==a(t[e])?t[e].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},u={format:{},autodetect:[]},l=s.last,c=s.clip_rgb,f=s.type,h=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var i=l(e),a=!1;if(!i){a=!0,u.sorted||(u.autodetect=u.autodetect.sort(function(t,e){return e.p-t.p}),u.sorted=!0);for(var o=0,s=u.autodetect;o<s.length;o+=1){var h=s[o];if(i=h.test.apply(h,e))break}}if(!u.format[i])throw new Error("unknown format: "+e);var d=u.format[i].apply(null,a?e:e.slice(0,-1));r._rgb=c(d),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=h,p=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.0.6";var g=p,v=s.unpack,m=Math.max,b=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=v(e,"rgb"),i=r[0],a=r[1],o=r[2],s=1-m(i/=255,m(a/=255,o/=255)),u=s<1?1/(1-s):0,l=(1-i-s)*u,c=(1-a-s)*u,f=(1-o-s)*u;return[l,c,f,s]},y=s.unpack,_=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=y(e,"cmyk"))[0],i=e[1],a=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a>=1?0:255*(1-a)*(1-o),s]},x=s.unpack,w=s.type;d.prototype.cmyk=function(){return b(this._rgb)},g.cmyk=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},u.format.cmyk=_,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var k=s.unpack,M=s.last,C=function(t){return Math.round(100*t)/100},S=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=k(e,"hsla"),i=M(e)||"lsa";return r[0]=C(r[0]||0),r[1]=C(100*r[1])+"%",r[2]=C(100*r[2])+"%","hsla"===i||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,i="hsla"):r.length=3,i+"("+r.join(",")+")"},T=s.unpack,A=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=T(e,"rgba"))[0],i=e[1],a=e[2];r/=255,i/=255,a/=255;var o,s,u=Math.min(r,i,a),l=Math.max(r,i,a),c=(l+u)/2;return l===u?(o=0,s=Number.NaN):o=c<.5?(l-u)/(l+u):(l-u)/(2-l-u),r==l?s=(i-a)/(l-u):i==l?s=2+(a-r)/(l-u):a==l&&(s=4+(r-i)/(l-u)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,c,e[3]]:[s,o,c]},N=s.unpack,L=s.last,B=Math.round,D=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=N(e,"rgba"),i=L(e)||"rgb";return"hsl"==i.substr(0,3)?S(A(r),i):(r[0]=B(r[0]),r[1]=B(r[1]),r[2]=B(r[2]),("rgba"===i||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,i="rgba"),i+"("+r.slice(0,"rgb"===i?3:4).join(",")+")")},F=s.unpack,E=Math.round,$=function(){for(var t,e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];var i,a,o,s=(n=F(n,"hsl"))[0],u=n[1],l=n[2];if(0===u)i=a=o=255*l;else{var c=[0,0,0],f=[0,0,0],h=l<.5?l*(1+u):l+u-l*u,d=2*l-h,p=s/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var g=0;g<3;g++)c[g]<0&&(c[g]+=1),c[g]>1&&(c[g]-=1),6*c[g]<1?f[g]=d+6*(h-d)*c[g]:2*c[g]<1?f[g]=h:3*c[g]<2?f[g]=d+(h-d)*(2/3-c[g])*6:f[g]=d;t=[E(255*f[0]),E(255*f[1]),E(255*f[2])],i=t[0],a=t[1],o=t[2]}return n.length>3?[i,a,o,n[3]]:[i,a,o,1]},P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,O=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,j=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=Math.round,H=function(t){var e;if(t=t.toLowerCase().trim(),u.format.named)try{return u.format.named(t)}catch(t){}if(e=t.match(P)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(O)){for(var i=e.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(e=t.match(z)){for(var o=e.slice(1,4),s=0;s<3;s++)o[s]=I(2.55*o[s]);return o[3]=1,o}if(e=t.match(j)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=I(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(R)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var h=$(f);return h[3]=1,h}if(e=t.match(Y)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var p=$(d);return p[3]=+e[4],p}};H.test=function(t){return P.test(t)||O.test(t)||z.test(t)||j.test(t)||R.test(t)||Y.test(t)};var U=H,q=s.type;d.prototype.css=function(t){return D(this._rgb,t)},g.css=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},u.format.css=U,u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===q(t)&&U.test(t))return"css"}});var V=s.unpack;u.format.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=V(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var W=s.unpack,G=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=W(e,"rgb"),a=i[0],o=i[1],s=i[2],u=Math.min(a,o,s),l=Math.max(a,o,s),c=l-u,f=100*c/255,h=u/(255-c)*100;return 0===c?r=Number.NaN:(a===l&&(r=(o-s)/c),o===l&&(r=2+(s-a)/c),s===l&&(r=4+(a-o)/c),(r*=60)<0&&(r+=360)),[r,f,h]},X=s.unpack,Z=Math.floor,K=function(){for(var t,e,n,r,i,a,o=arguments,s=[],u=arguments.length;u--;)s[u]=o[u];var l,c,f,h=(s=X(s,"hcg"))[0],d=s[1],p=s[2];p*=255;var g=255*d;if(0===d)l=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=Z(h/=60),m=h-v,b=p*(1-d),y=b+g*(1-m),_=b+g*m,x=b+g;switch(v){case 0:l=(t=[x,_,b])[0],c=t[1],f=t[2];break;case 1:l=(e=[y,x,b])[0],c=e[1],f=e[2];break;case 2:l=(n=[b,x,_])[0],c=n[1],f=n[2];break;case 3:l=(r=[b,y,x])[0],c=r[1],f=r[2];break;case 4:l=(i=[_,b,x])[0],c=i[1],f=i[2];break;case 5:l=(a=[x,b,y])[0],c=a[1],f=a[2]}}return[l,c,f,s.length>3?s[3]:1]},Q=s.unpack,J=s.type;d.prototype.hcg=function(){return G(this._rgb)},g.hcg=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},u.format.hcg=K,u.autodetect.push({p:1,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Q(e,"hcg"),"array"===J(e)&&3===e.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,rt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=tt(e,"rgba"),i=r[0],a=r[1],o=r[2],s=r[3],u=et(e)||"auto";void 0===s&&(s=1),"auto"===u&&(u=s<1?"rgba":"rgb"),i=nt(i),a=nt(a),o=nt(o);var l=i<<16|a<<8|o,c="000000"+l.toString(16);c=c.substr(c.length-6);var f="0"+nt(255*s).toString(16);switch(f=f.substr(f.length-2),u.toLowerCase()){case"rgba":return"#"+c+f;case"argb":return"#"+f+c;default:return"#"+c}},it=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,at=/^#?([A-Fa-f0-9]{8})$/,ot=function(t){if(t.match(it)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,i=255&e;return[n,r,i,1]}if(t.match(at)){9===t.length&&(t=t.substr(1));var a=parseInt(t,16),o=a>>24&255,s=a>>16&255,u=a>>8&255,l=Math.round((255&a)/255*100)/100;return[o,s,u,l]}throw new Error("unknown hex color: "+t)},st=s.type;d.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},u.format.hex=ot,u.autodetect.push({p:4,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var ut=s.unpack,lt=s.TWOPI,ct=Math.min,ft=Math.sqrt,ht=Math.acos,dt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=ut(e,"rgb"),a=i[0],o=i[1],s=i[2],u=ct(a/=255,o/=255,s/=255),l=(a+o+s)/3,c=l>0?1-u/l:0;return 0===c?r=NaN:(r=(a-o+(a-s))/2,r/=ft((a-o)*(a-o)+(a-s)*(o-s)),r=ht(r),s>o&&(r=lt-r),r/=lt),[360*r,c,l]},pt=s.unpack,gt=s.limit,vt=s.TWOPI,mt=s.PITHIRD,bt=Math.cos,yt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=pt(e,"hsi"))[0],s=e[1],u=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(a=(1-s)/3,r=(1+s*bt(vt*o)/bt(mt-vt*o))/3,i=1-(a+r)):o<2/3?(r=(1-s)/3,i=(1+s*bt(vt*(o-=1/3))/bt(mt-vt*o))/3,a=1-(r+i)):(i=(1-s)/3,a=(1+s*bt(vt*(o-=2/3))/bt(mt-vt*o))/3,r=1-(i+a)),r=gt(u*r*3),i=gt(u*i*3),a=gt(u*a*3),[255*r,255*i,255*a,e.length>3?e[3]:1]},_t=s.unpack,xt=s.type;d.prototype.hsi=function(){return dt(this._rgb)},g.hsi=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},u.format.hsi=yt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=_t(e,"hsi"),"array"===xt(e)&&3===e.length)return"hsi"}});var wt=s.unpack,kt=s.type;d.prototype.hsl=function(){return A(this._rgb)},g.hsl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},u.format.hsl=$,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=wt(e,"hsl"),"array"===kt(e)&&3===e.length)return"hsl"}});var Mt=s.unpack,Ct=Math.min,St=Math.max,Tt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=Mt(e,"rgb"))[0],s=e[1],u=e[2],l=Ct(o,s,u),c=St(o,s,u),f=c-l;return a=c/255,0===c?(r=Number.NaN,i=0):(i=f/c,o===c&&(r=(s-u)/f),s===c&&(r=2+(u-o)/f),u===c&&(r=4+(o-s)/f),(r*=60)<0&&(r+=360)),[r,i,a]},At=s.unpack,Nt=Math.floor,Lt=function(){for(var t,e,n,r,i,a,o=arguments,s=[],u=arguments.length;u--;)s[u]=o[u];var l,c,f,h=(s=At(s,"hsv"))[0],d=s[1],p=s[2];if(p*=255,0===d)l=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=Nt(h/=60),v=h-g,m=p*(1-d),b=p*(1-d*v),y=p*(1-d*(1-v));switch(g){case 0:l=(t=[p,y,m])[0],c=t[1],f=t[2];break;case 1:l=(e=[b,p,m])[0],c=e[1],f=e[2];break;case 2:l=(n=[m,p,y])[0],c=n[1],f=n[2];break;case 3:l=(r=[m,b,p])[0],c=r[1],f=r[2];break;case 4:l=(i=[y,m,p])[0],c=i[1],f=i[2];break;case 5:l=(a=[p,m,b])[0],c=a[1],f=a[2]}}return[l,c,f,s.length>3?s[3]:1]},Bt=s.unpack,Dt=s.type;d.prototype.hsv=function(){return Tt(this._rgb)},g.hsv=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},u.format.hsv=Lt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Bt(e,"hsv"),"array"===Dt(e)&&3===e.length)return"hsv"}});var Ft={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Et=s.unpack,$t=Math.pow,Pt=function(t){return(t/=255)<=.04045?t/12.92:$t((t+.055)/1.055,2.4)},Ot=function(t){return t>Ft.t3?$t(t,1/3):t/Ft.t2+Ft.t0},zt=function(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=Ot((.4124564*t+.3575761*e+.1804375*n)/Ft.Xn),i=Ot((.2126729*t+.7151522*e+.072175*n)/Ft.Yn),a=Ot((.0193339*t+.119192*e+.9503041*n)/Ft.Zn);return[r,i,a]},jt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Et(e,"rgb"),i=r[0],a=r[1],o=r[2],s=zt(i,a,o),u=s[0],l=s[1],c=s[2],f=116*l-16;return[f<0?0:f,500*(u-l),200*(l-c)]},Rt=s.unpack,Yt=Math.pow,It=function(t){return 255*(t<=.00304?12.92*t:1.055*Yt(t,1/2.4)-.055)},Ht=function(t){return t>Ft.t1?t*t*t:Ft.t2*(t-Ft.t0)},Ut=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o,s,u,l=(e=Rt(e,"lab"))[0],c=e[1],f=e[2];return i=(l+16)/116,r=isNaN(c)?i:i+c/500,a=isNaN(f)?i:i-f/200,i=Ft.Yn*Ht(i),r=Ft.Xn*Ht(r),a=Ft.Zn*Ht(a),o=It(3.2404542*r-1.5371385*i-.4985314*a),s=It(-.969266*r+1.8760108*i+.041556*a),u=It(.0556434*r-.2040259*i+1.0572252*a),[o,s,u,e.length>3?e[3]:1]},qt=s.unpack,Vt=s.type;d.prototype.lab=function(){return jt(this._rgb)},g.lab=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},u.format.lab=Ut,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=qt(e,"lab"),"array"===Vt(e)&&3===e.length)return"lab"}});var Wt=s.unpack,Gt=s.RAD2DEG,Xt=Math.sqrt,Zt=Math.atan2,Kt=Math.round,Qt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Wt(e,"lab"),i=r[0],a=r[1],o=r[2],s=Xt(a*a+o*o),u=(Zt(o,a)*Gt+360)%360;return 0===Kt(1e4*s)&&(u=Number.NaN),[i,s,u]},Jt=s.unpack,te=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Jt(e,"rgb"),i=r[0],a=r[1],o=r[2],s=jt(i,a,o),u=s[0],l=s[1],c=s[2];return Qt(u,l,c)},ee=s.unpack,ne=s.DEG2RAD,re=Math.sin,ie=Math.cos,ae=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ee(e,"lch"),i=r[0],a=r[1],o=r[2];return isNaN(o)&&(o=0),[i,ie(o*=ne)*a,re(o)*a]},oe=s.unpack,se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=oe(e,"lch"))[0],i=e[1],a=e[2],o=ae(r,i,a),s=o[0],u=o[1],l=o[2],c=Ut(s,u,l),f=c[0],h=c[1],d=c[2];return[f,h,d,e.length>3?e[3]:1]},ue=s.unpack,le=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ue(e,"hcl").reverse();return se.apply(void 0,r)},ce=s.unpack,fe=s.type;d.prototype.lch=function(){return te(this._rgb)},d.prototype.hcl=function(){return te(this._rgb).reverse()},g.lch=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},g.hcl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},u.format.lch=se,u.format.hcl=le,["lch","hcl"].forEach(function(t){return u.autodetect.push({p:2,test:function(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];if(n=ce(n,t),"array"===fe(n)&&3===n.length)return t}})});var he={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},de=s.type;d.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),e=0,n=Object.keys(he);e<n.length;e+=1){var r=n[e];if(he[r]===t)return r.toLowerCase()}return t},u.format.named=function(t){if(t=t.toLowerCase(),he[t])return ot(he[t]);throw new Error("unknown color name: "+t)},u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===de(t)&&he[t.toLowerCase()])return"named"}});var pe=s.unpack,ge=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=pe(e,"rgb"),i=r[0],a=r[1],o=r[2];return(i<<16)+(a<<8)+o},ve=s.type,me=function(t){if("number"==ve(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},be=s.type;d.prototype.num=function(){return ge(this._rgb)},g.num=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},u.format.num=me,u.autodetect.push({p:5,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(1===e.length&&"number"===be(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var ye=s.unpack,_e=s.type,xe=Math.round;d.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xe)},d.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:xe(e):e})},g.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},u.format.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ye(e,"rgba");return void 0===r[3]&&(r[3]=1),r},u.autodetect.push({p:3,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=ye(e,"rgba"),"array"===_e(e)&&(3===e.length||4===e.length&&"number"==_e(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var we=Math.log,ke=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*we(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*we(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*we(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*we(n),r=255),[e,n,r,1]},Me=s.unpack,Ce=Math.round,Se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];for(var r,i=Me(e,"rgb"),a=i[0],o=i[2],s=1e3,u=4e4,l=.4;u-s>l;){var c=ke(r=.5*(u+s));c[2]/c[0]>=o/a?u=r:s=r}return Ce(r)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return Se(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=ke;var Te=s.type;d.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Te(t)?e?(this._rgb[3]=t,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ft.Kn*t,new d(e,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var a=n.indexOf(r);if(a>-1)return i[a];throw new Error("unknown channel "+r+" in mode "+n)}return i};var Ae=s.type,Ne=Math.pow;d.prototype.luminance=function(t){if(void 0!==t&&"number"===Ae(t)){if(0===t)return new d([0,0,0,this._rgb[3]],"rgb");if(1===t)return new d([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var a=e.interpolate(i,.5,"rgb"),o=a.luminance();return Math.abs(t-o)<1e-7||!n--?a:o>t?r(e,a):r(a,i)},i=(e>t?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(i.concat([this._rgb[3]]))}return Le.apply(void 0,this._rgb.slice(0,3))};var Le=function(t,e,n){return t=Be(t),e=Be(e),n=Be(n),.2126*t+.7152*e+.0722*n},Be=function(t){return(t/=255)<=.03928?t/12.92:Ne((t+.055)/1.055,2.4)},De={},Fe=s.type,Ee=function(t,e,n){var r=arguments;void 0===n&&(n=.5);for(var i=[],a=arguments.length-3;a-->0;)i[a]=r[a+3];var o=i[0]||"lrgb";if(De[o]||i.length||(o=Object.keys(De)[0]),!De[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Fe(t)&&(t=new d(t)),"object"!==Fe(e)&&(e=new d(e)),De[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};d.prototype.mix=d.prototype.interpolate=function(t,e){var n=arguments;void 0===e&&(e=.5);for(var r=[],i=arguments.length-2;i-->0;)r[i]=n[i+2];return Ee.apply(void 0,[this,t,e].concat(r))},d.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new d([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},d.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ft.Kn*t,e[1]<0&&(e[1]=0),new d(e,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var $e=s.type;d.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],a=r[1],o=this[i]();if(a){var s=i.indexOf(a);if(s>-1){if("string"==$e(e))switch(e.charAt(0)){case"+":case"-":o[s]+=+e;break;case"*":o[s]*=+e.substr(1);break;case"/":o[s]/=+e.substr(1);break;default:o[s]=+e}else{if("number"!==$e(e))throw new Error("unsupported value for Color.set");o[s]=e}var u=new d(o,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+a+" in mode "+i)}return o},De.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Pe=Math.sqrt,Oe=Math.pow;De.lrgb=function(t,e,n){var r=t._rgb,i=r[0],a=r[1],o=r[2],s=e._rgb,u=s[0],l=s[1],c=s[2];return new d(Pe(Oe(i,2)*(1-n)+Oe(u,2)*n),Pe(Oe(a,2)*(1-n)+Oe(l,2)*n),Pe(Oe(o,2)*(1-n)+Oe(c,2)*n),"rgb")},De.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var ze=function(t,e,n,r){var i,a,o,s,u,l,c,f,h,p,g,v;return"hsl"===r?(o=t.hsl(),s=e.hsl()):"hsv"===r?(o=t.hsv(),s=e.hsv()):"hcg"===r?(o=t.hcg(),s=e.hcg()):"hsi"===r?(o=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",o=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(u=(i=o)[0],c=i[1],h=i[2],l=(a=s)[0],f=a[1],p=a[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?v=Number.NaN:(v=l,1!=h&&0!=h||"hsv"==r||(g=f)):(v=u,1!=p&&0!=p||"hsv"==r||(g=c)):v=u+n*(l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u),void 0===g&&(g=c+n*(f-c)),new d([v,g,h+n*(p-h)],r)},je=function(t,e,n){return ze(t,e,n,"lch")};De.lch=je,De.hcl=je,De.num=function(t,e,n){var r=t.num(),i=e.num();return new d(r+n*(i-r),"num")},De.hcg=function(t,e,n){return ze(t,e,n,"hcg")},De.hsi=function(t,e,n){return ze(t,e,n,"hsi")},De.hsl=function(t,e,n){return ze(t,e,n,"hsl")},De.hsv=function(t,e,n){return ze(t,e,n,"hsv")};var Re=s.clip_rgb,Ye=Math.pow,Ie=Math.sqrt,He=Math.PI,Ue=Math.cos,qe=Math.sin,Ve=Math.atan2,We=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],i=0,a=t;i<a.length;i+=1){var o=a[i],s=o._rgb;r[0]+=Ye(s[0],2)*n,r[1]+=Ye(s[1],2)*n,r[2]+=Ye(s[2],2)*n,r[3]+=s[3]*n}return r[0]=Ie(r[0]),r[1]=Ie(r[1]),r[2]=Ie(r[2]),r[3]>.9999999&&(r[3]=1),new d(Re(r))},Ge=s.type,Xe=Math.pow,Ze=function(t){var e="rgb",n=g("#ccc"),r=0,i=[0,1],a=[],o=[0,0],s=!1,u=[],l=!1,c=0,f=1,h=!1,d={},p=!0,v=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Ge(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===Ge(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=g(t[e]);a.length=0;for(var n=0;n<t.length;n++)a.push(n/(t.length-1))}return x(),u=t},b=function(t){return t},y=function(t){return t},_=function(t,r){var i,l;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)l=t;else if(s&&s.length>2){var h=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t);l=h/(s.length-2)}else l=f!==c?(t-c)/(f-c):1;l=y(l),r||(l=b(l)),1!==v&&(l=Xe(l,v)),l=o[0]+l*(1-o[0]-o[1]),l=Math.min(1,Math.max(0,l));var m=Math.floor(1e4*l);if(p&&d[m])i=d[m];else{if("array"===Ge(u))for(var _=0;_<a.length;_++){var x=a[_];if(l<=x){i=u[_];break}if(l>=x&&_===a.length-1){i=u[_];break}if(l>x&&l<a[_+1]){l=(l-x)/(a[_+1]-x),i=g.interpolate(u[_],u[_+1],l,e);break}}else"function"===Ge(u)&&(i=u(l));p&&(d[m]=i)}return i},x=function(){return d={}};m(t);var w=function(t){var e=g(_(t));return l&&e[l]?e[l]():e};return w.classes=function(t){if(null!=t){if("array"===Ge(t))s=t,i=[t[0],t[t.length-1]];else{var e=g.analyze(i);s=0===t?[e.min,e.max]:g.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;c=t[0],f=t[t.length-1],a=[];var e=u.length;if(t.length===e&&c!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];a.push((o-c)/(f-c))}else{for(var s=0;s<e;s++)a.push(s/(e-1));if(t.length>2){var l=t.map(function(e,n){return n/(t.length-1)}),h=t.map(function(t){return(t-c)/(f-c)});h.every(function(t,e){return l[e]===t})||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]),r=l[e]+n*(l[e+1]-l[e]);return r})}}return i=[c,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return l=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),b=h?function(t){for(var e=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=e>n,i=_(t,!0).lab()[0],a=e+(n-e)*t,o=i-a,s=0,u=1,l=20;Math.abs(o)>.01&&l-->0;)r&&(o*=-1),o<0?(s=t,t+=.5*(u-t)):(u=t,t+=.5*(s-t)),i=_(t,!0).lab()[0],o=i-a;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Ge(t)&&(t=[t,t]),o=t,w):o},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var a=i[0],o=i[1]-a;r=Ke(0,e,!1).map(function(t){return w(a+t/(e-1)*o)})}else{t=[];var l=[];if(s&&s.length>2)for(var c=1,f=s.length,h=1<=f;h?c<f:c>f;h?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map(function(t){return w(t)})}return g[n]&&(r=r.map(function(t){return t[n]()})),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=g(t),w):n},w};function Ke(t,e,n){for(var r=[],i=t<e,a=n?i?e+1:e-1:e,o=t;i?o<a:o>a;i?o++:o--)r.push(o);return r}var Qe=function(t){var e,n,r,i,a,o,s;if(2===(t=t.map(function(t){return new d(t)})).length)e=t.map(function(t){return t.lab()}),a=e[0],o=e[1],i=function(t){var e=[0,1,2].map(function(e){return a[e]+t*(o[e]-a[e])});return new d(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),a=n[0],o=n[1],s=n[2],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*s[e]});return new d(e,"lab")};else if(4===t.length){var u;r=t.map(function(t){return t.lab()}),a=r[0],o=r[1],s=r[2],u=r[3],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]});return new d(e,"lab")}}else if(5===t.length){var l=Qe(t.slice(0,3)),c=Qe(t.slice(2,5));i=function(t){return t<.5?l(2*t):c(2*(t-.5))}}return i},Je=function(t,e,n){if(!Je[n])throw new Error("unknown blend mode "+n);return Je[n](t,e)},tn=function(t){return function(e,n){var r=g(n).rgb(),i=g(e).rgb();return g.rgb(t(r,i))}},en=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Je.normal=tn(en(function(t){return t})),Je.multiply=tn(en(function(t,e){return t*e/255})),Je.screen=tn(en(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),Je.overlay=tn(en(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),Je.darken=tn(en(function(t,e){return t>e?e:t})),Je.lighten=tn(en(function(t,e){return t>e?t:e})),Je.dodge=tn(en(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),Je.burn=tn(en(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var nn=Je,rn=s.type,an=s.clip_rgb,on=s.TWOPI,sn=Math.pow,un=Math.sin,ln=Math.cos,cn=Math.floor,fn=Math.random,hn=Math.log,dn=Math.pow,pn=Math.floor,gn=Math.abs,vn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===a(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return mn(n,t,e)},n},mn=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==a(t)&&(t=vn(t));var r=t.min,i=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,i];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(i)),"e"===e.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*hn(r),c=Math.LOG10E*hn(i);s.push(r);for(var f=1;f<n;f++)s.push(dn(10,l+f/n*(c-l)));s.push(i)}else if("q"===e.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(o.length-1)*h/n,p=pn(d);if(p===d)s.push(o[p]);else{var g=d-p;s.push(o[p]*(1-g)+o[p+1]*g)}}s.push(i)}else if("k"===e.substr(0,1)){var v,m=o.length,b=new Array(m),y=new Array(n),_=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);_;){for(var M=0;M<n;M++)y[M]=0;for(var C=0;C<m;C++)for(var S=o[C],T=Number.MAX_VALUE,A=void 0,N=0;N<n;N++){var L=gn(w[N]-S);L<T&&(T=L,A=N),y[A]++,b[C]=A}for(var B=new Array(n),D=0;D<n;D++)B[D]=null;for(var F=0;F<m;F++)v=b[F],null===B[v]?B[v]=o[F]:B[v]+=o[F];for(var E=0;E<n;E++)B[E]*=1/y[E];_=!1;for(var $=0;$<n;$++)if(B[$]!==w[$]){_=!0;break}w=B,++x>200&&(_=!1)}for(var P={},O=0;O<n;O++)P[O]=[];for(var z=0;z<m;z++)v=b[z],P[v].push(o[z]);for(var j=[],R=0;R<n;R++)j.push(P[R][0]),j.push(P[R][P[R].length-1]);j=j.sort(function(t,e){return t-e}),s.push(j[0]);for(var Y=1;Y<j.length;Y+=2){var I=j[Y];isNaN(I)||-1!==s.indexOf(I)||s.push(I)}}return s},bn={analyze:vn,limits:mn},yn=Math.sqrt,_n=Math.atan2,xn=Math.abs,wn=Math.cos,kn=Math.PI,Mn={cool:function(){return Ze([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return Ze(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Cn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Sn=0,Tn=Object.keys(Cn);Sn<Tn.length;Sn+=1){var An=Tn[Sn];Cn[An.toLowerCase()]=Cn[An]}var Nn=Cn;return g.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new d(t)}),"lrgb"===e)return We(t);for(var r=t.shift(),i=r.get(e),a=[],o=0,s=0,u=0;u<i.length;u++)if(i[u]=i[u]||0,a.push(isNaN(i[u])?0:1),"h"===e.charAt(u)&&!isNaN(i[u])){var l=i[u]/180*He;o+=Ue(l),s+=qe(l)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<i.length;r++)if(!isNaN(n[r]))if(a[r]++,"h"===e.charAt(r)){var u=n[r]/180*He;o+=Ue(u),s+=qe(u)}else i[r]+=n[r]});for(var f=0;f<i.length;f++)if("h"===e.charAt(f)){for(var h=Ve(s/a[f],o/a[f])/He*180;h<0;)h+=360;for(;h>=360;)h-=360;i[f]=h}else i[f]=i[f]/a[f];return c/=n,new d(i,e).alpha(c>.99999?1:c,!0)},g.bezier=function(t){var e=Qe(t);return e.scale=function(){return Ze(e)},e},g.blend=nn,g.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===rn(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var s=function(s){var u=on*((t+120)/360+e*s),l=sn(i[0]+a*s,r),c=0!==o?n[0]+s*o:n,f=c*l*(1-l)/2,h=ln(u),d=un(u),p=l+f*(-.14861*h+1.78277*d),v=l+f*(-.29227*h-.90649*d),m=l+f*(1.97294*h);return g(an([255*p,255*v,255*m,1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===rn(n=t)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?i:("array"===rn(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),s)},s.scale=function(){return g.scale(s)},s.hue(n),s},g.mix=g.interpolate=Ee,g.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(cn(16*fn()));return new d(t,"hex")},g.scale=Ze,g.analyze=bn.analyze,g.contrast=function(t,e){t=new d(t),e=new d(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},g.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new d(t),e=new d(e);for(var i=Array.from(t.lab()),a=i[0],o=i[1],s=i[2],u=Array.from(e.lab()),l=u[0],c=u[1],f=u[2],h=yn(o*o+s*s),p=yn(c*c+f*f),g=a<16?.511:.040975*a/(1+.01765*a),v=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*_n(s,o)/kn;m<0;)m+=360;for(;m>=360;)m-=360;var b=m>=164&&m<=345?.56+xn(.2*wn(kn*(m+168)/180)):.36+xn(.4*wn(kn*(m+35)/180)),y=h*h*h*h,_=yn(y/(y+1900)),x=v*(_*b+1-_),w=h-p,k=o-c,M=s-f,C=(a-l)/(n*g),S=w/(r*v);return yn(C*C+S*S+(k*k+M*M-w*w)/(x*x))},g.distance=function(t,e,n){void 0===n&&(n="lab"),t=new d(t),e=new d(e);var r=t.get(n),i=e.get(n),a=0;for(var o in r){var s=(r[o]||0)-(i[o]||0);a+=s*s}return Math.sqrt(a)},g.limits=bn.limits,g.valid=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(t){return!1}},g.scales=Mn,g.colors=he,g.brewer=Nn,g}()});function r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}dw.visualization.register("raphael-chart",{init:function(){this.__elements={},this.__labels={}},update:function(t){console.warn("vis.update(): override me!",t)},setRoot:function(t){this.__root=t,t.css({position:"relative"}),t.addClass(this.chart().get("type"))},getSize:function(){return[this.__w,this.__h]},initCanvas:function(t,e,n){var r=this.__root,i=this.size(),a=this.theme();return t=_.extend({w:i[0]-(e||0),h:i[1]-(n||0),rpad:a.padding.right,lpad:a.padding.left,bpad:a.padding.bottom,tpad:a.padding.top},t),i[0]<=100&&(t.bpad=t.tpad=t.lpad=t.rpad=5,t.bpad=t.tpad=15),t.root=r,t.paper=Raphael(r[0],t.w,t.h+2),r.height(t.h),$(".tooltip").hide(),this.__canvas=t,Raphael.easing_formulas.expoInOut=function(t,e,n,r,i){return 1e3,0,1,0===(e=1e3*t)?0:1e3==e?1:(e/=500)<1?.5*Math.pow(2,10*(e-1))+0:.5*(2-Math.pow(2,-10*--e))+0},$.extend(jQuery.easing,{expoIn:function(t,e,n,r,i){return 0==e?n:r*Math.pow(2,10*(e/i-1))+n},expoOut:function(t,e,n,r,i){return e==i?n+r:r*(1-Math.pow(2,-10*e/i))+n},expoInOut:function(t,e,n,r,i){return 0==e?n:e==i?n+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(2-Math.pow(2,-10*--e))+n}}),t},onMouseMove:function(t){var e=t.pageX-parseInt($(".dw-chart").css("padding-left"),10),n=t.pageY,r=this.getKeyByPoint(e,n,t),i=this.getDataRowByPoint(e,n),a=this.theme();r||(r=this.getKeyByLabel()),r?a.hover&&this.hover(r,i):a.hover&&this.hover()},registerElement:function(t,e,n){return t.data("key",e),_.isNumber(n)&&t.data("row",n),this.__elements[e]||(this.__elements[e]=[]),this.__elements[e].push(t),t},registerLabel:function(t,e,n,r){var i=this;return t.data("key",e),n&&!_.isUndefined(r)&&(t.el.attr("data-column",n),t.el.attr("data-row",r)),i.__labels[e]||(i.__labels[e]=[]),i.__labels[e].push(t),t.on("mouseenter",function(t){i.__hoveredLabel=t.target,clearTimeout(i.__mouseLeaveTimer)}),t.on("mouseleave",function(){i.__mouseLeaveTimer=setTimeout(function(){i.__hoveredLabel=null},100)}),t},getLabels:function(t){return this.__labels[t]||[]},hover:function(t){var e=this.__elements;_.each(e,function(e,n){var r=!t||n==t;_.each(e,function(t){t.animate({opacity:r?1:.5},80)})});var n=this.__labels;_.each(n,function(e,n){_.each(e,function(e){n==t?e.addClass("highlighted"):e.removeClass("highlighted")})})},path:function(t,e){var n=this.__canvas.paper.path(t);return e&&Raphael.svg&&$(n.node).attr("class",e),n},label:function(t,e,n,r){var i,a=this,o=Math.max(r.w||0,100),s={root:this.__canvas.root,align:"left",valign:"middle",cl:"",rotate:0,css:{position:"absolute",width:r.w?r.w:"auto"},x:t,y:e,txt:n};function u(){var t=s.w||a.labelWidth(s.txt,s.cl,s.size),e=s.h||i.height(),n=s.x,r=s.y,o={left:"left"==s.align?n:"center"==s.align?n-.5*t:n-t,top:r-e*("top"==s.valign?0:"middle"==s.valign?.5:1),width:t,height:e};return s.size&&(o["font-size"]=s.size),o}if($.extend(!0,s,r||{}),(i=$('<div class="label'+(s.cl?" "+s.cl:"")+'"><span>'+n+"</span></div>")).css(s.css),i.css({"text-align":s.align}),s.root.append(i),i.css($.extend({},s.css,u())),-90==s.rotate){i.find("span").width();var l="rotate(-90deg) translate("+.5*o+"px,0) ";i.css({"-moz-transform":l,"-webkit-transform":l,"-ms-transform":l,"-o-transform":l,filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"})}var c={el:i,text:function(t){return arguments.length?($("span",i).html(t),c):$("span",i).html()},animate:function(t,e,n){t.align!=s.align&&i.css({"text-align":t.align}),s.rotate&&t.valign!=s.valign&&i.css({"text-align":"top"==t.valign?"right":"left"}),t.txt!=s.txt&&c.text(t.txt),$.extend(s,t);var r=$.extend({},s.css,u());return e?i.stop().animate(r,e,n):i.css(r)}};return c.attr=c.animate,c.data=function(){return i.data.apply(i,arguments)},c.hide=function(){return i.hide.apply(i,arguments)},c.show=function(){return i.show.apply(i,arguments)},c.width=function(){return i.width.apply(i,arguments)},c.height=function(){return i.height.apply(i,arguments)},c.left=function(){return i.offset().left},c.top=function(){return i.offset().top},c.on=function(){return i.on.apply(i,arguments)},c.hasClass=function(){return i.hasClass.apply(i,arguments)},c.addClass=function(){return i.addClass.apply(i,arguments)},c.removeClass=function(){return i.removeClass.apply(i,arguments)},c.remove=function(){return i.remove.apply(i,arguments)},i.data("label",c),c},labelWidth:function(t,e,n){var r,i,a,o,s=this.__root.get(0);function u(t,e,n){return r.setAttribute("class","label "+(e?" "+e:"")),i.style.fontSize=n||null,i.innerHTML=t,o()}return(r=document.createElement("div")).style.position="absolute",r.style.left="-10000px",i=document.createElement("span"),r.appendChild(i),a=$(i),s.appendChild(r),o=_.isUndefined(i.offsetWidth)?function(){return a.outerWidth()}:function(){return i.offsetWidth},this.labelWidth=u,u(t,e,n)},labelHeight:function(t,e,n,r){var i,a,o,s,u=this.__root.get(0);function l(t,e,n,r){return i.setAttribute("class","label "+(e?" "+e:"")),i.style.width=n+"px",a.style.fontSize=r||null,a.innerHTML=t,s()}return(i=document.createElement("div")).style.position="absolute",i.style.left="-10000px",a=document.createElement("span"),i.appendChild(a),o=$(a),u.appendChild(i),s=_.isUndefined(a.offsetHeight)?function(){return o.height()}:function(){return a.offsetHeight},this.labelHeight=l,l(t,e,n,r)},orderSeriesElements:function(){var t=this;_.each(t.dataset.columns(),function(e){t.chart().isHighlighted(e)&&_.each(t.__elements[e.name()],function(t){t.toFront()})})},getKeyByPoint:function(t,e,n){var r=this.__canvas.paper.getElementByPoint(t,e);return r||(r=$(n.target)).hasClass("label")||(r=r.parents(".label")),r&&r.data("key")?r.data("key"):null},getKeyByLabel:function(){if(this.__hoveredLabel){var t=$(this.__hoveredLabel);if("span"===this.__hoveredLabel.nodeName.toLowerCase()&&(t=t.parent()),t.data("key"))return t.data("key")}return null},getDataRowByPoint:function(t,e){throw"getDataRowByPoint() needs to be implemented by each visualization"},_baseColor:function(){var t=this.get("base-color",0),e=this.theme().colors.palette;return!_.isString(t)?e[t]:t},_getColor:function(t,e,r){var i=this,a=r.key,o=i.theme(),s=i.theme().colors.palette,u=i._baseColor(),l="row"===i.meta["color-by"]?this.dataset.numRows():i.axesDef.columns.length,c=r.rotateLimit||0;if(!a&&t&&(a=t.name()),a){var f=i.get("custom-colors",{});if(f[a])return f[a]}if(r.byValue&&t)return r.byValue(t.val(e));if(t&&i.__colors&&i.__colors[a])return i.__colors[a];if(r.shadesMode&&c<l)for(var h in o.colors.mode.shades)if(h.toLowerCase()==u.toLowerCase()&&o.colors.mode.shades[h].length>e)return""+o.colors.mode.shades[h][e];if(c>=l)return""+s[(Math.max(0,s.indexOf(u))+e)%s.length];if(r.varyLightness){var d=n(u).lab(),p=Math.min(d[0],50),g=e/(i.dataset.numRows()-1);return n.lab(p+g*(91-p),d[1],d[2]).hex()}return u},getColor:function(t,e,r){var i=this.chart(),a=this._getColor(t,e,r);return t&&i.hasHighlight()&&!i.isHighlighted(t)?n.interpolate(a,this.theme().colors.background,.65,"rgb").hex():a},getKeyColor:function(t,e,r,i,a){var o=this,s=o.theme().colors.palette,u=(o.meta["color-by"],{});function l(t,e,r,i,a){var l;t=String(dw.utils.purifyHtml(t,""));var c=o.get("custom-colors",{});c[t]?(l=c[t],_.isNumber(l)&&(l=s[l%s.length])):l=e&&r?o.theme().colors[e<0?"negative":"positive"]:t&&o.__customColors&&o.__customColors[t]?o.__customColors[t]:o._baseColor();var f=n.hex(l),h=n.hex(o.theme().colors.background),d=h.lch();return t&&!o.chart().isHighlighted(t)?(u[l+"-hl"]||(u[l+"-hl"]=n.interpolate(f,h,d[0]<60?.7:.63)),a?l:u[l+"-hl"]):l}return o.getKeyColor=l,l(t,e,r,0,a)},setKeyColor:function(t,e){this.__customColors||(this.__customColors={}),this.__customColors[t]=e},hasKeyColor:function(t){return t=String(t),!(!this.__customColors||!this.__customColors[t])||!!this.get("custom-colors",{})[t]},getYTicks:function(t,e,n,r){var i=t.domain(),a=r?dw.utils.logTicks(i[0],i[1]):t.ticks(e/80),o=t(a[0]),s=t(a[a.length-1]);return n||(Math.abs(t(i[0])-o)<30&&a.shift(),Math.abs(s-t(i[1]))<30&&a.pop(),a.unshift(i[0]),a.push(i[1])),a},invertLabel:function(t){var e=n(t);return n(this.theme().colors.background).lab()[0]>60?e.lab()[0]<70:e.lab()[0]>60},signature:function(){var t={type:"raphael-chart",el:{}};return $.each(this.__elements,function(e,n){t.el[e]=n.length}),t},addLegend:function(t,e,n,r,i){if(!r)r=14;if(!i)i=14;var a=this,o=$('<div class="legend"></div>'),s=a.__canvas.lpad,u=0;_.each(t,function(t){div=$("<div></div>"),div.css({background:t.color,width:r,height:i,position:"absolute",left:s,top:u}),o.append(div),lbl=a.label(s+20,u,t.label,{valign:"left",root:o,css:{"line-height":i+"px"}}),t.key&&(div.attr("data-key",t.key),div.addClass("dw-rect"),lbl.el.attr("data-key",t.key),lbl.el.addClass("legend-text chart-text")),(s+=a.labelWidth(t.label)+30)>a.__canvas.w&&(u+=i+4,s=a.__canvas.lpad,div.css({top:u,left:s}),lbl.el.css({left:s+20,top:u-1}),s+=a.labelWidth(t.label)+30)}),o.css({position:"relative",top:n}),e.prepend(o)},optimizeLabelPositions:function(t,e,n,r,i){if(t.length){var a=1,o="top"==n?0:"middle"==n?.5:1,s=void 0===r?t[0].el.parent().offset().top:r;void 0===i&&t[0].el.parent().height();(t=_.filter(t,function(t){return t.el.is(":visible")})).length&&(_.each(t,function(t){t.__noverlap={otop:t.__attrs?t.__attrs.y:t.top(),top:t.__attrs?t.__attrs.y:t.top(),dy:0},t.height("auto")}),function n(){var r=!1;_.each(t,function(n,i){_.each(t,function(t,a){if(a>i){var s,u,l=n.left(),c=t.left(),f=l+n.width(),h=c+t.width(),d=n.__noverlap.top-e,p=t.__noverlap.top-e,g=d+n.height()+2*e,v=p+t.height()+2*e;c>f||h<l||p>g||v<d||(r=!0,s=Math.min(g,v)-Math.max(d,p),u=d+(g-d)*o<p+(v-p)*o,n.__noverlap.dy+=.5*s*(u?-1:1),t.__noverlap.dy+=.5*s*(u?1:-1))}})}),r&&_.each(t,function(t){t.__noverlap.top=Math.max(s,t.__noverlap.top+t.__noverlap.dy),t.__noverlap.dy=0}),r&&++a<10&&n()}(),_.each(t,function(t){t.__noverlap.dy=t.__noverlap.top-t.__noverlap.otop,t.__attrs||t.el.css({top:t.__noverlap.top-t.el.parent().offset().top})}))}},checkBrowserCompatibility:function(){return window.Raphael&&Raphael.type},clear:function(){_.each(this.__elements,function(t){_.each(t,function(t){t.remove()})}),_.each(this.__labels,function(t){_.each(t,function(t){t.remove()})}),this.__elements={},this.__labels={}},_svgCanvas:function(){return this.__canvas.paper.canvas}}),function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),a=window.setTimeout(function(){e(r+i)},i);return t=r+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var a=i(r).right;var o=Math.sqrt(50),s=Math.sqrt(10),u=Math.sqrt(2);function l(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=o?10:a>=s?5:a>=u?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=o?10:a>=s?5:a>=u?2:1)}function c(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=o?i*=10:a>=s?i*=5:a>=u&&(i*=2),e<t?-i:i}function f(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function h(){}function d(t,e){var n=new h;if(t instanceof h)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function p(){}h.prototype=d.prototype={constructor:h,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var g=d.prototype;p.prototype=function(t,e){var n=new p;if(t instanceof p)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:p,has:g.has,add:function(t){return this["$"+(t+="")]=t,this},remove:g.remove,clear:g.clear,values:g.keys,size:g.size,empty:g.empty,each:g.each};var v=Array.prototype,m=v.map,b=v.slice;function y(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function x(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function w(){}var k="\\s*([+-]?\\d+)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S=/^#([0-9a-f]{3})$/,T=/^#([0-9a-f]{6})$/,A=new RegExp("^rgb\\("+[k,k,k]+"\\)$"),N=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),L=new RegExp("^rgba\\("+[k,k,k,M]+"\\)$"),B=new RegExp("^rgba\\("+[C,C,C,M]+"\\)$"),D=new RegExp("^hsl\\("+[M,C,C]+"\\)$"),F=new RegExp("^hsla\\("+[M,C,C,M]+"\\)$"),E={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function P(t){var e;return t=(t+"").trim().toLowerCase(),(e=S.exec(t))?new Y((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=T.exec(t))?O(parseInt(e[1],16)):(e=A.exec(t))?new Y(e[1],e[2],e[3],1):(e=N.exec(t))?new Y(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=L.exec(t))?z(e[1],e[2],e[3],e[4]):(e=B.exec(t))?z(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=D.exec(t))?H(e[1],e[2]/100,e[3]/100,1):(e=F.exec(t))?H(e[1],e[2]/100,e[3]/100,e[4]):E.hasOwnProperty(t)?O(E[t]):"transparent"===t?new Y(NaN,NaN,NaN,0):null}function O(t){return new Y(t>>16&255,t>>8&255,255&t,1)}function z(t,e,n,r){return r<=0&&(t=e=n=NaN),new Y(t,e,n,r)}function j(t){return t instanceof w||(t=P(t)),t?new Y((t=t.rgb()).r,t.g,t.b,t.opacity):new Y}function R(t,e,n,r){return 1===arguments.length?j(t):new Y(t,e,n,null==r?1:r)}function Y(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function I(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function H(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new U(t,e,n,r)}function U(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function q(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}y(w,P,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),y(Y,R,x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+I(this.r)+I(this.g)+I(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),y(U,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof U)return new U(t.h,t.s,t.l,t.opacity);if(t instanceof w||(t=P(t)),!t)return new U;if(t instanceof U)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new U(o,s,u,t.opacity)}(t):new U(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new U(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new U(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Y(q(t>=240?t-240:t+120,i,r),q(t,i,r),q(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var V=Math.PI/180,W=180/Math.PI,G=.96422,X=1,Z=.82521,K=4/29,Q=6/29,J=3*Q*Q,tt=Q*Q*Q;function et(t){if(t instanceof rt)return new rt(t.l,t.a,t.b,t.opacity);if(t instanceof ut){if(isNaN(t.h))return new rt(t.l,0,0,t.opacity);var e=t.h*V;return new rt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Y||(t=j(t));var n,r,i=st(t.r),a=st(t.g),o=st(t.b),s=it((.2225045*i+.7168786*a+.0606169*o)/X);return i===a&&a===o?n=r=s:(n=it((.4360747*i+.3850649*a+.1430804*o)/G),r=it((.0139322*i+.0971045*a+.7141733*o)/Z)),new rt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function nt(t,e,n,r){return 1===arguments.length?et(t):new rt(t,e,n,null==r?1:r)}function rt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function it(t){return t>tt?Math.pow(t,1/3):t/J+K}function at(t){return t>Q?t*t*t:J*(t-K)}function ot(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function st(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ut(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}y(rt,nt,x(w,{brighter:function(t){return new rt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new rt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Y(ot(3.1338561*(e=G*at(e))-1.6168667*(t=X*at(t))-.4906146*(n=Z*at(n))),ot(-.9787684*e+1.9161415*t+.033454*n),ot(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),y(ut,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ut)return new ut(t.h,t.c,t.l,t.opacity);if(t instanceof rt||(t=et(t)),0===t.a&&0===t.b)return new ut(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*W;return new ut(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ut(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return new ut(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ut(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return et(this).rgb()}}));var lt=-.14861,ct=1.78277,ft=-.29227,ht=-.90649,dt=1.97294,pt=dt*ht,gt=dt*ct,vt=ct*ft-ht*lt;function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function bt(t){return function(){return t}}function yt(t){return 1==(t=+t)?_t:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):bt(isNaN(e)?n:e)}}function _t(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):bt(isNaN(t)?e:t)}y(mt,function(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);t instanceof Y||(t=j(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(vt*r+pt*e-gt*n)/(vt+pt-gt),a=r-i,o=(dt*(n-i)-ft*a)/ht,s=Math.sqrt(o*o+a*a)/(dt*i*(1-i)),u=s?Math.atan2(o,a)*W-120:NaN;return new mt(u<0?u+360:u,s,i,t.opacity)}(t):new mt(t,e,n,null==r?1:r)},x(w,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*V,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Y(255*(e+n*(lt*r+ct*i)),255*(e+n*(ft*r+ht*i)),255*(e+n*(dt*r)),this.opacity)}}));var xt=function t(e){var n=yt(e);function r(t,e){var r=n((t=R(t)).r,(e=R(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=_t(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function wt(t,e){return e-=t=+t,function(n){return t+e*n}}var kt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mt=new RegExp(kt.source,"g");function Ct(t,e){var n,r,i,a=kt.lastIndex=Mt.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=kt.exec(t))&&(r=Mt.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:wt(n,r)})),a=Mt.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function St(t,e){var n,r=typeof e;return null==e||"boolean"===r?bt(e):("number"===r?wt:"string"===r?(n=P(e))?(e=n,xt):Ct:e instanceof P?xt:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=St(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=St(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:wt)(t,e)}function Tt(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}var At,Nt,Lt,Bt,Dt=180/Math.PI,Ft={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Et(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Dt,skewX:Math.atan(u)*Dt,scaleX:o,scaleY:s}}function $t(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],u=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:wt(t,i)},{i:u-2,x:wt(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,u),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:wt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,s,u),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:wt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,s,u),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:wt(t,n)},{i:s-2,x:wt(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,u),a=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var Pt=$t(function(t){return"none"===t?Ft:(At||(At=document.createElement("DIV"),Nt=document.documentElement,Lt=document.defaultView),At.style.transform=t,t=Lt.getComputedStyle(Nt.appendChild(At),null).getPropertyValue("transform"),Nt.removeChild(At),Et(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ot=$t(function(t){return null==t?Ft:(Bt||(Bt=document.createElementNS("http://www.w3.org/2000/svg","g")),Bt.setAttribute("transform",t),(t=Bt.transform.baseVal.consolidate())?Et((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ft)},", ",")",")");Math.SQRT2;function zt(t){return+t}var jt=[0,1];function Rt(t){return t}function Yt(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function It(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Ht(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Yt(i,r),a=n(o,a)):(r=Yt(r,i),a=n(a,o)),function(t){return a(r(t))}}function Ut(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Yt(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=a(t,e,1,r)-1;return o[n](i[n](e))}}function qt(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vt(t,e){return function(){var t,e,n,r,i,a,o=jt,s=jt,u=St,l=Rt;function c(){return r=Math.min(o.length,s.length)>2?Ut:Ht,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,u)))(t(l(e)))}return f.invert=function(n){return l(e((a||(a=r(s,o.map(t),wt)))(n)))},f.domain=function(t){return arguments.length?(o=m.call(t,zt),l===Rt||(l=It(o)),c()):o.slice()},f.range=function(t){return arguments.length?(s=b.call(t),c()):s.slice()},f.rangeRound=function(t){return s=b.call(t),u=Tt,c()},f.clamp=function(t){return arguments.length?(l=t?It(o):Rt,f):l!==Rt},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(t,e)}function Wt(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gt(t){return(t=Wt(Math.abs(t)))?t[1]:NaN}var Xt,Zt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kt(t){return new Qt(t)}function Qt(t){if(!(e=Zt.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Jt(t,e){var n=Wt(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Kt.prototype=Qt.prototype,Qt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var te={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Jt(100*t,e)},r:Jt,s:function(t,e){var n=Wt(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Xt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Wt(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ee(t){return t}var ne,re,ie,ae=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oe(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}):ee,i=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):ee,s=t.percent||"%";function u(t){var e=(t=Kt(t)).fill,n=t.align,u=t.sign,l=t.symbol,c=t.zero,f=t.width,h=t.comma,d=t.precision,p=t.trim,g=t.type;"n"===g?(h=!0,g="g"):te[g]||(null==d&&(d=12),p=!0,g="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var v="$"===l?i[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",m="$"===l?i[1]:/[%p]/.test(g)?s:"",b=te[g],y=/[defgprs%]/.test(g);function _(t){var i,s,l,_=v,x=m;if("c"===g)x=b(t)+x,t="";else{var w=(t=+t)<0;if(t=b(Math.abs(t),d),p&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),_=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+_,x=("s"===g?ae[8+Xt/3]:"")+x+(w&&"("===u?")":""),y)for(i=-1,s=t.length;++i<s;)if(48>(l=t.charCodeAt(i))||l>57){x=(46===l?a+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}h&&!c&&(t=r(t,1/0));var k=_.length+t.length+x.length,M=k<f?new Array(f-k+1).join(e):"";switch(h&&c&&(t=r(M+t,M.length?f-x.length:1/0),M=""),n){case"<":t=_+t+x+M;break;case"=":t=_+M+t+x;break;case"^":t=M.slice(0,k=M.length>>1)+_+t+x+M.slice(k);break;default:t=M+_+t+x}return o(t)}return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:u,formatPrefix:function(t,e){var n=u(((t=Kt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Gt(e)/3))),i=Math.pow(10,-r),a=ae[8+r/3];return function(t){return n(i*t)+a}}}}function se(t){return Math.max(0,-Gt(Math.abs(t)))}function ue(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Gt(e)/3)))-Gt(Math.abs(t)))}function le(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gt(e)-Gt(t))+1}function ce(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=l(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=c(t,e,n);switch((r=Kt(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=ue(a,o))||(r.precision=i),ie(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=le(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=se(a))||(r.precision=i-2*("%"===r.type))}return re(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=l(s,u,n))>0?r=l(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=l(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function fe(){var t=Vt(Rt,Rt);return t.copy=function(){return qt(t,fe())},f.apply(t,arguments),ce(t)}ne=oe({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),re=ne.format,ie=ne.formatPrefix;var he=new Date,de=new Date;function pe(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,s=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return s;do{s.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return s},i.filter=function(n){return pe(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return he.setTime(+e),de.setTime(+r),t(he),t(de),Math.floor(n(he,de))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ge=pe(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ge.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?pe(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):ge:null};var ve=6e4,me=6048e5,be=pe(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),ye=pe(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*ve)},function(t,e){return(e-t)/ve},function(t){return t.getMinutes()}),_e=pe(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*ve)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),xe=pe(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ve)/864e5},function(t){return t.getDate()-1});function we(t){return pe(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ve)/me})}var ke=we(0),Me=we(1),Ce=(we(2),we(3),we(4)),Se=(we(5),we(6),pe(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Te=pe(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Te.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pe(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};pe(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ve)},function(t,e){return(e-t)/ve},function(t){return t.getUTCMinutes()}),pe(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var Ae=pe(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Ne(t){return pe(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/me})}var Le=Ne(0),Be=Ne(1),De=(Ne(2),Ne(3),Ne(4)),Fe=(Ne(5),Ne(6),pe(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),pe(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function Ee(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function $e(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pe(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Fe.every=function(t){return isFinite(t=Math.floor(t))&&t>0?pe(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Oe,ze,je,Re,Ye={"-":"",_:" ",0:"0"},Ie=/^\s*\d+/,He=/^%/,Ue=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ve(t){return t.replace(Ue,"\\$&")}function We(t){return new RegExp("^(?:"+t.map(Ve).join("|")+")","i")}function Ge(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Xe(t,e,n){var r=Ie.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ze(t,e,n){var r=Ie.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ke(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Je(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tn(t,e,n){var r=Ie.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function en(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rn(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function an(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){var r=Ie.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sn(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function un(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ln(t,e,n){var r=Ie.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){var r=Ie.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function fn(t,e,n){var r=Ie.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hn(t,e,n){var r=He.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dn(t,e,n){var r=Ie.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pn(t,e,n){var r=Ie.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function gn(t,e){return qe(t.getDate(),e,2)}function vn(t,e){return qe(t.getHours(),e,2)}function mn(t,e){return qe(t.getHours()%12||12,e,2)}function bn(t,e){return qe(1+xe.count(Te(t),t),e,3)}function yn(t,e){return qe(t.getMilliseconds(),e,3)}function _n(t,e){return yn(t,e)+"000"}function xn(t,e){return qe(t.getMonth()+1,e,2)}function wn(t,e){return qe(t.getMinutes(),e,2)}function kn(t,e){return qe(t.getSeconds(),e,2)}function Mn(t){var e=t.getDay();return 0===e?7:e}function Cn(t,e){return qe(ke.count(Te(t),t),e,2)}function Sn(t,e){var n=t.getDay();return t=n>=4||0===n?Ce(t):Ce.ceil(t),qe(Ce.count(Te(t),t)+(4===Te(t).getDay()),e,2)}function Tn(t){return t.getDay()}function An(t,e){return qe(Me.count(Te(t),t),e,2)}function Nn(t,e){return qe(t.getFullYear()%100,e,2)}function Ln(t,e){return qe(t.getFullYear()%1e4,e,4)}function Bn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function Dn(t,e){return qe(t.getUTCDate(),e,2)}function Fn(t,e){return qe(t.getUTCHours(),e,2)}function En(t,e){return qe(t.getUTCHours()%12||12,e,2)}function $n(t,e){return qe(1+Ae.count(Fe(t),t),e,3)}function Pn(t,e){return qe(t.getUTCMilliseconds(),e,3)}function On(t,e){return Pn(t,e)+"000"}function zn(t,e){return qe(t.getUTCMonth()+1,e,2)}function jn(t,e){return qe(t.getUTCMinutes(),e,2)}function Rn(t,e){return qe(t.getUTCSeconds(),e,2)}function Yn(t){var e=t.getUTCDay();return 0===e?7:e}function In(t,e){return qe(Le.count(Fe(t),t),e,2)}function Hn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?De(t):De.ceil(t),qe(De.count(Fe(t),t)+(4===Fe(t).getUTCDay()),e,2)}function Un(t){return t.getUTCDay()}function qn(t,e){return qe(Be.count(Fe(t),t),e,2)}function Vn(t,e){return qe(t.getUTCFullYear()%100,e,2)}function Wn(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function Gn(){return"+0000"}function Xn(){return"%"}function Zn(t){return+t}function Kn(t){return Math.floor(+t/1e3)}!function(t){Oe=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,u=t.shortMonths,l=We(i),c=Ge(i),f=We(a),h=Ge(a),d=We(o),p=Ge(o),g=We(s),v=Ge(s),m=We(u),b=Ge(u),y={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:gn,e:gn,f:_n,H:vn,I:mn,j:bn,L:yn,m:xn,M:wn,p:function(t){return i[+(t.getHours()>=12)]},Q:Zn,s:Kn,S:kn,u:Mn,U:Cn,V:Sn,w:Tn,W:An,x:null,X:null,y:Nn,Y:Ln,Z:Bn,"%":Xn},_={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Dn,e:Dn,f:On,H:Fn,I:En,j:$n,L:Pn,m:zn,M:jn,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Zn,s:Kn,S:Rn,u:Yn,U:In,V:Hn,w:Un,W:qn,x:null,X:null,y:Vn,Y:Wn,Z:Gn,"%":Xn},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=b[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:an,e:an,f:fn,H:sn,I:sn,j:on,L:cn,m:rn,M:un,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:dn,s:pn,S:ln,u:Ze,U:Ke,V:Qe,w:Xe,W:Je,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:en,Y:tn,Z:nn,"%":hn};function w(t,e){return function(n){var r,i,a,o=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=Ye[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}}function k(t,e){return function(n){var r,i,a=Pe(1900);if(M(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=$e(Pe(a.y))).getUTCDay(),r=i>4||0===i?Be.ceil(r):Be(r),r=Ae.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Pe(a.y))).getDay(),r=i>4||0===i?Me.ceil(r):Me(r),r=xe.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?$e(Pe(a.y)).getUTCDay():e(Pe(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,$e(a)):e(a)}}function M(t,e,n,r){for(var i,a,o=0,s=e.length,u=n.length;o<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in Ye?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return y.x=w(n,y),y.X=w(r,y),y.c=w(e,y),_.x=w(n,_),_.X=w(r,_),_.c=w(e,_),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Ee);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,$e);return e.toString=function(){return t},e}}}(t),ze=Oe.format,Oe.parse,je=Oe.utcFormat,Re=Oe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||je("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Re("%Y-%m-%dT%H:%M:%S.%LZ");var Qn=1e3,Jn=60*Qn,tr=60*Jn,er=24*tr,nr=7*er,rr=30*er,ir=365*er;function ar(t){return new Date(t)}function or(t){return t instanceof Date?+t:+new Date(+t)}function sr(){return f.apply(function t(e,n,r,a,o,s,u,l,f){var h=Vt(Rt,Rt),d=h.invert,p=h.domain,g=f(".%L"),v=f(":%S"),b=f("%I:%M"),y=f("%I %p"),_=f("%a %d"),x=f("%b %d"),w=f("%B"),k=f("%Y"),M=[[u,1,Qn],[u,5,5*Qn],[u,15,15*Qn],[u,30,30*Qn],[s,1,Jn],[s,5,5*Jn],[s,15,15*Jn],[s,30,30*Jn],[o,1,tr],[o,3,3*tr],[o,6,6*tr],[o,12,12*tr],[a,1,er],[a,2,2*er],[r,1,nr],[n,1,rr],[n,3,3*rr],[e,1,ir]];function C(t){return(u(t)<t?g:s(t)<t?v:o(t)<t?b:a(t)<t?y:n(t)<t?r(t)<t?_:x:e(t)<t?w:k)(t)}function S(t,n,r,a){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,s=i(function(t){return t[2]}).right(M,o);s===M.length?(a=c(n/ir,r/ir,t),t=e):s?(a=(s=M[o/M[s-1][2]<M[s][2]/o?s-1:s])[1],t=s[0]):(a=Math.max(c(n,r,t),1),t=l)}return null==a?t:t.every(a)}return h.invert=function(t){return new Date(d(t))},h.domain=function(t){return arguments.length?p(m.call(t,or)):p().map(ar)},h.ticks=function(t,e){var n,r=p(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=S(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},h.tickFormat=function(t,e){return null==e?C:f(e)},h.nice=function(t,e){var n=p();return(t=S(t,n[0],n[n.length-1],e))?p(function(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}(n,t)):h},h.copy=function(){return qt(h,t(e,n,r,a,o,s,u,l,f))},h}(Te,Se,ke,xe,_e,ye,be,ge,ze).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ur=Object.prototype.toString;function lr(t){return"[object Date]"===ur.call(t)}var cr=e(function(t,e){t.exports=function(){for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var i=r[n];e["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return e[Object.prototype.toString.call(t)]||"object"},o=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:a,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==a(t[e])?t[e].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},u={format:{},autodetect:[]},l=s.last,c=s.clip_rgb,f=s.type,h=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=this;if("object"===f(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var i=l(e),a=!1;if(!i){a=!0,u.sorted||(u.autodetect=u.autodetect.sort(function(t,e){return e.p-t.p}),u.sorted=!0);for(var o=0,s=u.autodetect;o<s.length;o+=1){var h=s[o];if(i=h.test.apply(h,e))break}}if(!u.format[i])throw new Error("unknown format: "+e);var d=u.format[i].apply(null,a?e:e.slice(0,-1));r._rgb=c(d),3===r._rgb.length&&r._rgb.push(1)};h.prototype.toString=function(){return"function"==f(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var d=h,p=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(p.Color,[null].concat(e)))};p.Color=d,p.version="2.0.6";var g=p,v=s.unpack,m=Math.max,b=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=v(e,"rgb"),i=r[0],a=r[1],o=r[2],s=1-m(i/=255,m(a/=255,o/=255)),u=s<1?1/(1-s):0,l=(1-i-s)*u,c=(1-a-s)*u,f=(1-o-s)*u;return[l,c,f,s]},y=s.unpack,_=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=y(e,"cmyk"))[0],i=e[1],a=e[2],o=e[3],s=e.length>4?e[4]:1;return 1===o?[0,0,0,s]:[r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a>=1?0:255*(1-a)*(1-o),s]},x=s.unpack,w=s.type;d.prototype.cmyk=function(){return b(this._rgb)},g.cmyk=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["cmyk"])))},u.format.cmyk=_,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=x(e,"cmyk"),"array"===w(e)&&4===e.length)return"cmyk"}});var k=s.unpack,M=s.last,C=function(t){return Math.round(100*t)/100},S=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=k(e,"hsla"),i=M(e)||"lsa";return r[0]=C(r[0]||0),r[1]=C(100*r[1])+"%",r[2]=C(100*r[2])+"%","hsla"===i||r.length>3&&r[3]<1?(r[3]=r.length>3?r[3]:1,i="hsla"):r.length=3,i+"("+r.join(",")+")"},T=s.unpack,A=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=T(e,"rgba"))[0],i=e[1],a=e[2];r/=255,i/=255,a/=255;var o,s,u=Math.min(r,i,a),l=Math.max(r,i,a),c=(l+u)/2;return l===u?(o=0,s=Number.NaN):o=c<.5?(l-u)/(l+u):(l-u)/(2-l-u),r==l?s=(i-a)/(l-u):i==l?s=2+(a-r)/(l-u):a==l&&(s=4+(r-i)/(l-u)),(s*=60)<0&&(s+=360),e.length>3&&void 0!==e[3]?[s,o,c,e[3]]:[s,o,c]},N=s.unpack,L=s.last,B=Math.round,D=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=N(e,"rgba"),i=L(e)||"rgb";return"hsl"==i.substr(0,3)?S(A(r),i):(r[0]=B(r[0]),r[1]=B(r[1]),r[2]=B(r[2]),("rgba"===i||r.length>3&&r[3]<1)&&(r[3]=r.length>3?r[3]:1,i="rgba"),i+"("+r.slice(0,"rgb"===i?3:4).join(",")+")")},F=s.unpack,E=Math.round,$=function(){for(var t,e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];var i,a,o,s=(n=F(n,"hsl"))[0],u=n[1],l=n[2];if(0===u)i=a=o=255*l;else{var c=[0,0,0],f=[0,0,0],h=l<.5?l*(1+u):l+u-l*u,d=2*l-h,p=s/360;c[0]=p+1/3,c[1]=p,c[2]=p-1/3;for(var g=0;g<3;g++)c[g]<0&&(c[g]+=1),c[g]>1&&(c[g]-=1),6*c[g]<1?f[g]=d+6*(h-d)*c[g]:2*c[g]<1?f[g]=h:3*c[g]<2?f[g]=d+(h-d)*(2/3-c[g])*6:f[g]=d;t=[E(255*f[0]),E(255*f[1]),E(255*f[2])],i=t[0],a=t[1],o=t[2]}return n.length>3?[i,a,o,n[3]]:[i,a,o,1]},P=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,O=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,z=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,j=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,I=Math.round,H=function(t){var e;if(t=t.toLowerCase().trim(),u.format.named)try{return u.format.named(t)}catch(t){}if(e=t.match(P)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(O)){for(var i=e.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(e=t.match(z)){for(var o=e.slice(1,4),s=0;s<3;s++)o[s]=I(2.55*o[s]);return o[3]=1,o}if(e=t.match(j)){for(var l=e.slice(1,5),c=0;c<3;c++)l[c]=I(2.55*l[c]);return l[3]=+l[3],l}if(e=t.match(R)){var f=e.slice(1,4);f[1]*=.01,f[2]*=.01;var h=$(f);return h[3]=1,h}if(e=t.match(Y)){var d=e.slice(1,4);d[1]*=.01,d[2]*=.01;var p=$(d);return p[3]=+e[4],p}};H.test=function(t){return P.test(t)||O.test(t)||z.test(t)||j.test(t)||R.test(t)||Y.test(t)};var U=H,q=s.type;d.prototype.css=function(t){return D(this._rgb,t)},g.css=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["css"])))},u.format.css=U,u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===q(t)&&U.test(t))return"css"}});var V=s.unpack;u.format.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=V(e,"rgba");return r[0]*=255,r[1]*=255,r[2]*=255,r},g.gl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["gl"])))},d.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var W=s.unpack,G=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=W(e,"rgb"),a=i[0],o=i[1],s=i[2],u=Math.min(a,o,s),l=Math.max(a,o,s),c=l-u,f=100*c/255,h=u/(255-c)*100;return 0===c?r=Number.NaN:(a===l&&(r=(o-s)/c),o===l&&(r=2+(s-a)/c),s===l&&(r=4+(a-o)/c),(r*=60)<0&&(r+=360)),[r,f,h]},X=s.unpack,Z=Math.floor,K=function(){for(var t,e,n,r,i,a,o=arguments,s=[],u=arguments.length;u--;)s[u]=o[u];var l,c,f,h=(s=X(s,"hcg"))[0],d=s[1],p=s[2];p*=255;var g=255*d;if(0===d)l=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var v=Z(h/=60),m=h-v,b=p*(1-d),y=b+g*(1-m),_=b+g*m,x=b+g;switch(v){case 0:l=(t=[x,_,b])[0],c=t[1],f=t[2];break;case 1:l=(e=[y,x,b])[0],c=e[1],f=e[2];break;case 2:l=(n=[b,x,_])[0],c=n[1],f=n[2];break;case 3:l=(r=[b,y,x])[0],c=r[1],f=r[2];break;case 4:l=(i=[_,b,x])[0],c=i[1],f=i[2];break;case 5:l=(a=[x,b,y])[0],c=a[1],f=a[2]}}return[l,c,f,s.length>3?s[3]:1]},Q=s.unpack,J=s.type;d.prototype.hcg=function(){return G(this._rgb)},g.hcg=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcg"])))},u.format.hcg=K,u.autodetect.push({p:1,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Q(e,"hcg"),"array"===J(e)&&3===e.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,rt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=tt(e,"rgba"),i=r[0],a=r[1],o=r[2],s=r[3],u=et(e)||"auto";void 0===s&&(s=1),"auto"===u&&(u=s<1?"rgba":"rgb"),i=nt(i),a=nt(a),o=nt(o);var l=i<<16|a<<8|o,c="000000"+l.toString(16);c=c.substr(c.length-6);var f="0"+nt(255*s).toString(16);switch(f=f.substr(f.length-2),u.toLowerCase()){case"rgba":return"#"+c+f;case"argb":return"#"+f+c;default:return"#"+c}},it=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,at=/^#?([A-Fa-f0-9]{8})$/,ot=function(t){if(t.match(it)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,i=255&e;return[n,r,i,1]}if(t.match(at)){9===t.length&&(t=t.substr(1));var a=parseInt(t,16),o=a>>24&255,s=a>>16&255,u=a>>8&255,l=Math.round((255&a)/255*100)/100;return[o,s,u,l]}throw new Error("unknown hex color: "+t)},st=s.type;d.prototype.hex=function(t){return rt(this._rgb,t)},g.hex=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hex"])))},u.format.hex=ot,u.autodetect.push({p:4,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var ut=s.unpack,lt=s.TWOPI,ct=Math.min,ft=Math.sqrt,ht=Math.acos,dt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i=ut(e,"rgb"),a=i[0],o=i[1],s=i[2],u=ct(a/=255,o/=255,s/=255),l=(a+o+s)/3,c=l>0?1-u/l:0;return 0===c?r=NaN:(r=(a-o+(a-s))/2,r/=ft((a-o)*(a-o)+(a-s)*(o-s)),r=ht(r),s>o&&(r=lt-r),r/=lt),[360*r,c,l]},pt=s.unpack,gt=s.limit,vt=s.TWOPI,mt=s.PITHIRD,bt=Math.cos,yt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=pt(e,"hsi"))[0],s=e[1],u=e[2];return isNaN(o)&&(o=0),isNaN(s)&&(s=0),o>360&&(o-=360),o<0&&(o+=360),(o/=360)<1/3?(a=(1-s)/3,r=(1+s*bt(vt*o)/bt(mt-vt*o))/3,i=1-(a+r)):o<2/3?(r=(1-s)/3,i=(1+s*bt(vt*(o-=1/3))/bt(mt-vt*o))/3,a=1-(r+i)):(i=(1-s)/3,a=(1+s*bt(vt*(o-=2/3))/bt(mt-vt*o))/3,r=1-(i+a)),r=gt(u*r*3),i=gt(u*i*3),a=gt(u*a*3),[255*r,255*i,255*a,e.length>3?e[3]:1]},_t=s.unpack,xt=s.type;d.prototype.hsi=function(){return dt(this._rgb)},g.hsi=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsi"])))},u.format.hsi=yt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=_t(e,"hsi"),"array"===xt(e)&&3===e.length)return"hsi"}});var wt=s.unpack,kt=s.type;d.prototype.hsl=function(){return A(this._rgb)},g.hsl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsl"])))},u.format.hsl=$,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=wt(e,"hsl"),"array"===kt(e)&&3===e.length)return"hsl"}});var Mt=s.unpack,Ct=Math.min,St=Math.max,Tt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o=(e=Mt(e,"rgb"))[0],s=e[1],u=e[2],l=Ct(o,s,u),c=St(o,s,u),f=c-l;return a=c/255,0===c?(r=Number.NaN,i=0):(i=f/c,o===c&&(r=(s-u)/f),s===c&&(r=2+(u-o)/f),u===c&&(r=4+(o-s)/f),(r*=60)<0&&(r+=360)),[r,i,a]},At=s.unpack,Nt=Math.floor,Lt=function(){for(var t,e,n,r,i,a,o=arguments,s=[],u=arguments.length;u--;)s[u]=o[u];var l,c,f,h=(s=At(s,"hsv"))[0],d=s[1],p=s[2];if(p*=255,0===d)l=c=f=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360);var g=Nt(h/=60),v=h-g,m=p*(1-d),b=p*(1-d*v),y=p*(1-d*(1-v));switch(g){case 0:l=(t=[p,y,m])[0],c=t[1],f=t[2];break;case 1:l=(e=[b,p,m])[0],c=e[1],f=e[2];break;case 2:l=(n=[m,p,y])[0],c=n[1],f=n[2];break;case 3:l=(r=[m,b,p])[0],c=r[1],f=r[2];break;case 4:l=(i=[y,m,p])[0],c=i[1],f=i[2];break;case 5:l=(a=[p,m,b])[0],c=a[1],f=a[2]}}return[l,c,f,s.length>3?s[3]:1]},Bt=s.unpack,Dt=s.type;d.prototype.hsv=function(){return Tt(this._rgb)},g.hsv=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hsv"])))},u.format.hsv=Lt,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=Bt(e,"hsv"),"array"===Dt(e)&&3===e.length)return"hsv"}});var Ft={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Et=s.unpack,$t=Math.pow,Pt=function(t){return(t/=255)<=.04045?t/12.92:$t((t+.055)/1.055,2.4)},Ot=function(t){return t>Ft.t3?$t(t,1/3):t/Ft.t2+Ft.t0},zt=function(t,e,n){t=Pt(t),e=Pt(e),n=Pt(n);var r=Ot((.4124564*t+.3575761*e+.1804375*n)/Ft.Xn),i=Ot((.2126729*t+.7151522*e+.072175*n)/Ft.Yn),a=Ot((.0193339*t+.119192*e+.9503041*n)/Ft.Zn);return[r,i,a]},jt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Et(e,"rgb"),i=r[0],a=r[1],o=r[2],s=zt(i,a,o),u=s[0],l=s[1],c=s[2],f=116*l-16;return[f<0?0:f,500*(u-l),200*(l-c)]},Rt=s.unpack,Yt=Math.pow,It=function(t){return 255*(t<=.00304?12.92*t:1.055*Yt(t,1/2.4)-.055)},Ht=function(t){return t>Ft.t1?t*t*t:Ft.t2*(t-Ft.t0)},Ut=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r,i,a,o,s,u,l=(e=Rt(e,"lab"))[0],c=e[1],f=e[2];return i=(l+16)/116,r=isNaN(c)?i:i+c/500,a=isNaN(f)?i:i-f/200,i=Ft.Yn*Ht(i),r=Ft.Xn*Ht(r),a=Ft.Zn*Ht(a),o=It(3.2404542*r-1.5371385*i-.4985314*a),s=It(-.969266*r+1.8760108*i+.041556*a),u=It(.0556434*r-.2040259*i+1.0572252*a),[o,s,u,e.length>3?e[3]:1]},qt=s.unpack,Vt=s.type;d.prototype.lab=function(){return jt(this._rgb)},g.lab=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lab"])))},u.format.lab=Ut,u.autodetect.push({p:2,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=qt(e,"lab"),"array"===Vt(e)&&3===e.length)return"lab"}});var Wt=s.unpack,Gt=s.RAD2DEG,Xt=Math.sqrt,Zt=Math.atan2,Kt=Math.round,Qt=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Wt(e,"lab"),i=r[0],a=r[1],o=r[2],s=Xt(a*a+o*o),u=(Zt(o,a)*Gt+360)%360;return 0===Kt(1e4*s)&&(u=Number.NaN),[i,s,u]},Jt=s.unpack,te=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=Jt(e,"rgb"),i=r[0],a=r[1],o=r[2],s=jt(i,a,o),u=s[0],l=s[1],c=s[2];return Qt(u,l,c)},ee=s.unpack,ne=s.DEG2RAD,re=Math.sin,ie=Math.cos,ae=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ee(e,"lch"),i=r[0],a=r[1],o=r[2];return isNaN(o)&&(o=0),[i,ie(o*=ne)*a,re(o)*a]},oe=s.unpack,se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=(e=oe(e,"lch"))[0],i=e[1],a=e[2],o=ae(r,i,a),s=o[0],u=o[1],l=o[2],c=Ut(s,u,l),f=c[0],h=c[1],d=c[2];return[f,h,d,e.length>3?e[3]:1]},ue=s.unpack,le=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ue(e,"hcl").reverse();return se.apply(void 0,r)},ce=s.unpack,fe=s.type;d.prototype.lch=function(){return te(this._rgb)},d.prototype.hcl=function(){return te(this._rgb).reverse()},g.lch=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["lch"])))},g.hcl=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["hcl"])))},u.format.lch=se,u.format.hcl=le,["lch","hcl"].forEach(function(t){return u.autodetect.push({p:2,test:function(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];if(n=ce(n,t),"array"===fe(n)&&3===n.length)return t}})});var he={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},de=s.type;d.prototype.name=function(){for(var t=rt(this._rgb,"rgb"),e=0,n=Object.keys(he);e<n.length;e+=1){var r=n[e];if(he[r]===t)return r.toLowerCase()}return t},u.format.named=function(t){if(t=t.toLowerCase(),he[t])return ot(he[t]);throw new Error("unknown color name: "+t)},u.autodetect.push({p:5,test:function(t){for(var e=arguments,n=[],r=arguments.length-1;r-->0;)n[r]=e[r+1];if(!n.length&&"string"===de(t)&&he[t.toLowerCase()])return"named"}});var pe=s.unpack,ge=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=pe(e,"rgb"),i=r[0],a=r[1],o=r[2];return(i<<16)+(a<<8)+o},ve=s.type,me=function(t){if("number"==ve(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},be=s.type;d.prototype.num=function(){return ge(this._rgb)},g.num=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["num"])))},u.format.num=me,u.autodetect.push({p:5,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(1===e.length&&"number"===be(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var ye=s.unpack,_e=s.type,xe=Math.round;d.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xe)},d.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:xe(e):e})},g.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["rgb"])))},u.format.rgb=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];var r=ye(e,"rgba");return void 0===r[3]&&(r[3]=1),r},u.autodetect.push({p:3,test:function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];if(e=ye(e,"rgba"),"array"===_e(e)&&(3===e.length||4===e.length&&"number"==_e(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var we=Math.log,ke=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*we(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*we(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*we(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*we(n),r=255),[e,n,r,1]},Me=s.unpack,Ce=Math.round,Se=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];for(var r,i=Me(e,"rgb"),a=i[0],o=i[2],s=1e3,u=4e4,l=.4;u-s>l;){var c=ke(r=.5*(u+s));c[2]/c[0]>=o/a?u=r:s=r}return Ce(r)};d.prototype.temp=d.prototype.kelvin=d.prototype.temperature=function(){return Se(this._rgb)},g.temp=g.kelvin=g.temperature=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];return new(Function.prototype.bind.apply(d,[null].concat(e,["temp"])))},u.format.temp=u.format.kelvin=u.format.temperature=ke;var Te=s.type;d.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Te(t)?e?(this._rgb[3]=t,this):new d([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},d.prototype.clipped=function(){return this._rgb._clipped||!1},d.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ft.Kn*t,new d(e,"lab").alpha(this.alpha(),!0)},d.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},d.prototype.darker=d.prototype.darken,d.prototype.brighter=d.prototype.brighten,d.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var a=n.indexOf(r);if(a>-1)return i[a];throw new Error("unknown channel "+r+" in mode "+n)}return i};var Ae=s.type,Ne=Math.pow;d.prototype.luminance=function(t){if(void 0!==t&&"number"===Ae(t)){if(0===t)return new d([0,0,0,this._rgb[3]],"rgb");if(1===t)return new d([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,r=function(e,i){var a=e.interpolate(i,.5,"rgb"),o=a.luminance();return Math.abs(t-o)<1e-7||!n--?a:o>t?r(e,a):r(a,i)},i=(e>t?r(new d([0,0,0]),this):r(this,new d([255,255,255]))).rgb();return new d(i.concat([this._rgb[3]]))}return Le.apply(void 0,this._rgb.slice(0,3))};var Le=function(t,e,n){return t=Be(t),e=Be(e),n=Be(n),.2126*t+.7152*e+.0722*n},Be=function(t){return(t/=255)<=.03928?t/12.92:Ne((t+.055)/1.055,2.4)},De={},Fe=s.type,Ee=function(t,e,n){var r=arguments;void 0===n&&(n=.5);for(var i=[],a=arguments.length-3;a-->0;)i[a]=r[a+3];var o=i[0]||"lrgb";if(De[o]||i.length||(o=Object.keys(De)[0]),!De[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==Fe(t)&&(t=new d(t)),"object"!==Fe(e)&&(e=new d(e)),De[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};d.prototype.mix=d.prototype.interpolate=function(t,e){var n=arguments;void 0===e&&(e=.5);for(var r=[],i=arguments.length-2;i-->0;)r[i]=n[i+2];return Ee.apply(void 0,[this,t,e].concat(r))},d.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new d([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},d.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ft.Kn*t,e[1]<0&&(e[1]=0),new d(e,"lch").alpha(this.alpha(),!0)},d.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var $e=s.type;d.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],a=r[1],o=this[i]();if(a){var s=i.indexOf(a);if(s>-1){if("string"==$e(e))switch(e.charAt(0)){case"+":case"-":o[s]+=+e;break;case"*":o[s]*=+e.substr(1);break;case"/":o[s]/=+e.substr(1);break;default:o[s]=+e}else{if("number"!==$e(e))throw new Error("unsupported value for Color.set");o[s]=e}var u=new d(o,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+a+" in mode "+i)}return o},De.rgb=function(t,e,n){var r=t._rgb,i=e._rgb;return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};var Pe=Math.sqrt,Oe=Math.pow;De.lrgb=function(t,e,n){var r=t._rgb,i=r[0],a=r[1],o=r[2],s=e._rgb,u=s[0],l=s[1],c=s[2];return new d(Pe(Oe(i,2)*(1-n)+Oe(u,2)*n),Pe(Oe(a,2)*(1-n)+Oe(l,2)*n),Pe(Oe(o,2)*(1-n)+Oe(c,2)*n),"rgb")},De.lab=function(t,e,n){var r=t.lab(),i=e.lab();return new d(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};var ze=function(t,e,n,r){var i,a,o,s,u,l,c,f,h,p,g,v;return"hsl"===r?(o=t.hsl(),s=e.hsl()):"hsv"===r?(o=t.hsv(),s=e.hsv()):"hcg"===r?(o=t.hcg(),s=e.hcg()):"hsi"===r?(o=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",o=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(u=(i=o)[0],c=i[1],h=i[2],l=(a=s)[0],f=a[1],p=a[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?v=Number.NaN:(v=l,1!=h&&0!=h||"hsv"==r||(g=f)):(v=u,1!=p&&0!=p||"hsv"==r||(g=c)):v=u+n*(l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u),void 0===g&&(g=c+n*(f-c)),new d([v,g,h+n*(p-h)],r)},je=function(t,e,n){return ze(t,e,n,"lch")};De.lch=je,De.hcl=je,De.num=function(t,e,n){var r=t.num(),i=e.num();return new d(r+n*(i-r),"num")},De.hcg=function(t,e,n){return ze(t,e,n,"hcg")},De.hsi=function(t,e,n){return ze(t,e,n,"hsi")},De.hsl=function(t,e,n){return ze(t,e,n,"hsl")},De.hsv=function(t,e,n){return ze(t,e,n,"hsv")};var Re=s.clip_rgb,Ye=Math.pow,Ie=Math.sqrt,He=Math.PI,Ue=Math.cos,qe=Math.sin,Ve=Math.atan2,We=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],i=0,a=t;i<a.length;i+=1){var o=a[i],s=o._rgb;r[0]+=Ye(s[0],2)*n,r[1]+=Ye(s[1],2)*n,r[2]+=Ye(s[2],2)*n,r[3]+=s[3]*n}return r[0]=Ie(r[0]),r[1]=Ie(r[1]),r[2]=Ie(r[2]),r[3]>.9999999&&(r[3]=1),new d(Re(r))},Ge=s.type,Xe=Math.pow,Ze=function(t){var e="rgb",n=g("#ccc"),r=0,i=[0,1],a=[],o=[0,0],s=!1,u=[],l=!1,c=0,f=1,h=!1,d={},p=!0,v=1,m=function(t){if((t=t||["#fff","#000"])&&"string"===Ge(t)&&g.brewer&&g.brewer[t.toLowerCase()]&&(t=g.brewer[t.toLowerCase()]),"array"===Ge(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=g(t[e]);a.length=0;for(var n=0;n<t.length;n++)a.push(n/(t.length-1))}return x(),u=t},b=function(t){return t},y=function(t){return t},_=function(t,r){var i,l;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)l=t;else if(s&&s.length>2){var h=function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t);l=h/(s.length-2)}else l=f!==c?(t-c)/(f-c):1;l=y(l),r||(l=b(l)),1!==v&&(l=Xe(l,v)),l=o[0]+l*(1-o[0]-o[1]),l=Math.min(1,Math.max(0,l));var m=Math.floor(1e4*l);if(p&&d[m])i=d[m];else{if("array"===Ge(u))for(var _=0;_<a.length;_++){var x=a[_];if(l<=x){i=u[_];break}if(l>=x&&_===a.length-1){i=u[_];break}if(l>x&&l<a[_+1]){l=(l-x)/(a[_+1]-x),i=g.interpolate(u[_],u[_+1],l,e);break}}else"function"===Ge(u)&&(i=u(l));p&&(d[m]=i)}return i},x=function(){return d={}};m(t);var w=function(t){var e=g(_(t));return l&&e[l]?e[l]():e};return w.classes=function(t){if(null!=t){if("array"===Ge(t))s=t,i=[t[0],t[t.length-1]];else{var e=g.analyze(i);s=0===t?[e.min,e.max]:g.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return i;c=t[0],f=t[t.length-1],a=[];var e=u.length;if(t.length===e&&c!==f)for(var n=0,r=Array.from(t);n<r.length;n+=1){var o=r[n];a.push((o-c)/(f-c))}else{for(var s=0;s<e;s++)a.push(s/(e-1));if(t.length>2){var l=t.map(function(e,n){return n/(t.length-1)}),h=t.map(function(t){return(t-c)/(f-c)});h.every(function(t,e){return l[e]===t})||(y=function(t){if(t<=0||t>=1)return t;for(var e=0;t>=h[e+1];)e++;var n=(t-h[e])/(h[e+1]-h[e]),r=l[e]+n*(l[e+1]-l[e]);return r})}}return i=[c,f],w},w.mode=function(t){return arguments.length?(e=t,x(),w):e},w.range=function(t,e){return m(t),w},w.out=function(t){return l=t,w},w.spread=function(t){return arguments.length?(r=t,w):r},w.correctLightness=function(t){return null==t&&(t=!0),h=t,x(),b=h?function(t){for(var e=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=e>n,i=_(t,!0).lab()[0],a=e+(n-e)*t,o=i-a,s=0,u=1,l=20;Math.abs(o)>.01&&l-->0;)r&&(o*=-1),o<0?(s=t,t+=.5*(u-t)):(u=t,t+=.5*(s-t)),i=_(t,!0).lab()[0],o=i-a;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===Ge(t)&&(t=[t,t]),o=t,w):o},w.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[w(.5)];else if(e>1){var a=i[0],o=i[1]-a;r=Ke(0,e,!1).map(function(t){return w(a+t/(e-1)*o)})}else{t=[];var l=[];if(s&&s.length>2)for(var c=1,f=s.length,h=1<=f;h?c<f:c>f;h?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map(function(t){return w(t)})}return g[n]&&(r=r.map(function(t){return t[n]()})),r},w.cache=function(t){return null!=t?(p=t,w):p},w.gamma=function(t){return null!=t?(v=t,w):v},w.nodata=function(t){return null!=t?(n=g(t),w):n},w};function Ke(t,e,n){for(var r=[],i=t<e,a=n?i?e+1:e-1:e,o=t;i?o<a:o>a;i?o++:o--)r.push(o);return r}var Qe=function(t){var e,n,r,i,a,o,s;if(2===(t=t.map(function(t){return new d(t)})).length)e=t.map(function(t){return t.lab()}),a=e[0],o=e[1],i=function(t){var e=[0,1,2].map(function(e){return a[e]+t*(o[e]-a[e])});return new d(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),a=n[0],o=n[1],s=n[2],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*a[e]+2*(1-t)*t*o[e]+t*t*s[e]});return new d(e,"lab")};else if(4===t.length){var u;r=t.map(function(t){return t.lab()}),a=r[0],o=r[1],s=r[2],u=r[3],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*a[e]+3*(1-t)*(1-t)*t*o[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]});return new d(e,"lab")}}else if(5===t.length){var l=Qe(t.slice(0,3)),c=Qe(t.slice(2,5));i=function(t){return t<.5?l(2*t):c(2*(t-.5))}}return i},Je=function(t,e,n){if(!Je[n])throw new Error("unknown blend mode "+n);return Je[n](t,e)},tn=function(t){return function(e,n){var r=g(n).rgb(),i=g(e).rgb();return g.rgb(t(r,i))}},en=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}};Je.normal=tn(en(function(t){return t})),Je.multiply=tn(en(function(t,e){return t*e/255})),Je.screen=tn(en(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),Je.overlay=tn(en(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),Je.darken=tn(en(function(t,e){return t>e?e:t})),Je.lighten=tn(en(function(t,e){return t>e?t:e})),Je.dodge=tn(en(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),Je.burn=tn(en(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var nn=Je,rn=s.type,an=s.clip_rgb,on=s.TWOPI,sn=Math.pow,un=Math.sin,ln=Math.cos,cn=Math.floor,fn=Math.random,hn=Math.log,dn=Math.pow,pn=Math.floor,gn=Math.abs,vn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===a(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return mn(n,t,e)},n},mn=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==a(t)&&(t=vn(t));var r=t.min,i=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,i];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(i)),"e"===e.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*hn(r),c=Math.LOG10E*hn(i);s.push(r);for(var f=1;f<n;f++)s.push(dn(10,l+f/n*(c-l)));s.push(i)}else if("q"===e.substr(0,1)){s.push(r);for(var h=1;h<n;h++){var d=(o.length-1)*h/n,p=pn(d);if(p===d)s.push(o[p]);else{var g=d-p;s.push(o[p]*(1-g)+o[p+1]*g)}}s.push(i)}else if("k"===e.substr(0,1)){var v,m=o.length,b=new Array(m),y=new Array(n),_=!0,x=0,w=null;(w=[]).push(r);for(var k=1;k<n;k++)w.push(r+k/n*(i-r));for(w.push(i);_;){for(var M=0;M<n;M++)y[M]=0;for(var C=0;C<m;C++)for(var S=o[C],T=Number.MAX_VALUE,A=void 0,N=0;N<n;N++){var L=gn(w[N]-S);L<T&&(T=L,A=N),y[A]++,b[C]=A}for(var B=new Array(n),D=0;D<n;D++)B[D]=null;for(var F=0;F<m;F++)v=b[F],null===B[v]?B[v]=o[F]:B[v]+=o[F];for(var E=0;E<n;E++)B[E]*=1/y[E];_=!1;for(var $=0;$<n;$++)if(B[$]!==w[$]){_=!0;break}w=B,++x>200&&(_=!1)}for(var P={},O=0;O<n;O++)P[O]=[];for(var z=0;z<m;z++)v=b[z],P[v].push(o[z]);for(var j=[],R=0;R<n;R++)j.push(P[R][0]),j.push(P[R][P[R].length-1]);j=j.sort(function(t,e){return t-e}),s.push(j[0]);for(var Y=1;Y<j.length;Y+=2){var I=j[Y];isNaN(I)||-1!==s.indexOf(I)||s.push(I)}}return s},bn={analyze:vn,limits:mn},yn=Math.sqrt,_n=Math.atan2,xn=Math.abs,wn=Math.cos,kn=Math.PI,Mn={cool:function(){return Ze([g.hsl(180,1,.9),g.hsl(250,.7,.4)])},hot:function(){return Ze(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Cn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Sn=0,Tn=Object.keys(Cn);Sn<Tn.length;Sn+=1){var An=Tn[Sn];Cn[An.toLowerCase()]=Cn[An]}var Nn=Cn;return g.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new d(t)}),"lrgb"===e)return We(t);for(var r=t.shift(),i=r.get(e),a=[],o=0,s=0,u=0;u<i.length;u++)if(i[u]=i[u]||0,a.push(isNaN(i[u])?0:1),"h"===e.charAt(u)&&!isNaN(i[u])){var l=i[u]/180*He;o+=Ue(l),s+=qe(l)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<i.length;r++)if(!isNaN(n[r]))if(a[r]++,"h"===e.charAt(r)){var u=n[r]/180*He;o+=Ue(u),s+=qe(u)}else i[r]+=n[r]});for(var f=0;f<i.length;f++)if("h"===e.charAt(f)){for(var h=Ve(s/a[f],o/a[f])/He*180;h<0;)h+=360;for(;h>=360;)h-=360;i[f]=h}else i[f]=i[f]/a[f];return c/=n,new d(i,e).alpha(c>.99999?1:c,!0)},g.bezier=function(t){var e=Qe(t);return e.scale=function(){return Ze(e)},e},g.blend=nn,g.cubehelix=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===rn(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var s=function(s){var u=on*((t+120)/360+e*s),l=sn(i[0]+a*s,r),c=0!==o?n[0]+s*o:n,f=c*l*(1-l)/2,h=ln(u),d=un(u),p=l+f*(-.14861*h+1.78277*d),v=l+f*(-.29227*h-.90649*d),m=l+f*(1.97294*h);return g(an([255*p,255*v,255*m,1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:("array"===rn(n=t)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,s)},s.lightness=function(t){return null==t?i:("array"===rn(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),s)},s.scale=function(){return g.scale(s)},s.hue(n),s},g.mix=g.interpolate=Ee,g.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(cn(16*fn()));return new d(t,"hex")},g.scale=Ze,g.analyze=bn.analyze,g.contrast=function(t,e){t=new d(t),e=new d(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},g.deltaE=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new d(t),e=new d(e);for(var i=Array.from(t.lab()),a=i[0],o=i[1],s=i[2],u=Array.from(e.lab()),l=u[0],c=u[1],f=u[2],h=yn(o*o+s*s),p=yn(c*c+f*f),g=a<16?.511:.040975*a/(1+.01765*a),v=.0638*h/(1+.0131*h)+.638,m=h<1e-6?0:180*_n(s,o)/kn;m<0;)m+=360;for(;m>=360;)m-=360;var b=m>=164&&m<=345?.56+xn(.2*wn(kn*(m+168)/180)):.36+xn(.4*wn(kn*(m+35)/180)),y=h*h*h*h,_=yn(y/(y+1900)),x=v*(_*b+1-_),w=h-p,k=o-c,M=s-f,C=(a-l)/(n*g),S=w/(r*v);return yn(C*C+S*S+(k*k+M*M-w*w)/(x*x))},g.distance=function(t,e,n){void 0===n&&(n="lab"),t=new d(t),e=new d(e);var r=t.get(n),i=e.get(n),a=0;for(var o in r){var s=(r[o]||0)-(i[o]||0);a+=s*s}return Math.sqrt(a)},g.limits=bn.limits,g.valid=function(){for(var t=arguments,e=[],n=arguments.length;n--;)e[n]=t[n];try{return new(Function.prototype.bind.apply(d,[null].concat(e))),!0}catch(t){return!1}},g.scales=Mn,g.colors=he,g.brewer=Nn,g}()});function fr(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),i=t,a=0;a<r.length&&null!=i;a++)i=i[r[a]];return null==i?n:i}function hr(t){var e=function(t){var e=t.colors.chartContentBaseColor||(cr.contrast(t.colors.background,"#000000")<5.5?"#f1f1f1":"#333333"),n={tickText:{secondary:fr(t,"colors.bgBlendRatios.tickText.secondary",cr(t.colors.background).luminance()<.5?.6:.4),primary:fr(t,"colors.bgBlendRatios.tickText.primary",.2)},series:fr(t,"colors.bgBlendRatios.series",0),value:fr(t,"colors.bgBlendRatios.value",.2),axis:fr(t,"colors.bgBlendRatios.axis",0),gridline:fr(t,"colors.bgBlendRatios.gridline",.82)};return{tickText:{secondary:cr.mix(e,t.colors.background,n.tickText.secondary).hex(),primary:cr.mix(e,t.colors.background,n.tickText.primary).hex()},series:cr.mix(e,t.colors.background,n.series).hex(),value:cr.mix(e,t.colors.background,n.value).hex(),axis:cr.mix(e,t.colors.background,n.axis).hex(),gridline:cr.mix(e,t.colors.background,n.gridline).hex(),fallbackBaseColor:e}}(t),n=["vis.column-chart","style.chart"];return{gridline:!!dr(t,"axes.gridlines.color",n)&&e.gridline,axis:!!dr(t,"axes.gridlines.baselineColor",n)&&e.axis,tickText:!!dr(t,"labels.ticks.secondary.color",n)&&e.tickText.secondary,seriesText:!!dr(t,"labels.series.color",n)&&e.series,valueText:!!dr(t,"labels.values.color",n)&&e.value,fallback:e.fallback}}function dr(t,e,n){var r=!0;return n.forEach(function(n){fr(t,n+"."+e)&&(r=!1)}),r}function pr(t,e,n,r){var i=nt(t),a=n?[Math.min(i.l,r[0]),Math.max(i.l,r[1])]:r,o=a[0],s=a[1],u=1===e?[i.l]:function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}(St(o,s),e);if(n&&!u.includes(i.l)){var l=u.reduce(function(t,e){return Math.abs(t)>Math.abs(i.l-e)?i.l-e:t},100);u=u.map(function(t){return t+l})}return(u=u.map(function(t){return nt(t,i.a,i.b)})).map(function(t){return t.hex()})}function gr(t,e){void 0===t&&(t=new Error("cant create getColor function without theme")),void 0===e&&(e={});var n=e.selectedColor;void 0===n&&(n=0);var r=e.customColors;void 0===r&&(r={});var i=e.keys;void 0===i&&(i=[]);var a=e.permute,o=e.includeBaseColor;void 0===o&&(o=!0);var s=e.lightnessRange;void 0===s&&(s=[30,90]);var u=e.positiveColor;void 0===u&&(u=!1);var l=e.negativeColor;void 0===l&&(l=!1);var c=e.neutralColor;void 0===c&&(c=!1);var f=t.colors.palette;n=isNaN(n)?n:f[n%f.length];var h=i.length-Object.keys(r).filter(function(t){return""!==r[t].toString()&&i.includes(t)}).length,d=[];if(r&&Object.keys(r).length){var p={};Object.keys(r).forEach(function(t){String(r[t]).length&&(p[t]=isNaN(r[t])?r[t]:f[r[t]])}),Object.keys(p).length&&d.push(vr(p))}(u||l||c)&&d.push(mr(u?t.colors.positive:n,l?t.colors.negative:n,c?t.colors.neutral:u?t.colors.positive:n));var g=t.colors.mode;if(g&&h>0&&(g.rotateLimit>=h?d.push(br(f,n)):g.shades&&g.shades[n]&&d.push(yr(g.shades[n],h))),h>0){a=void 0===a?h>4:a;var v=pr(n,h,o,s=h<=3?[30,60]:s);a&&(v=function(t){t.reverse();var e=t.length;if(e<3)return t.slice(0);var n=0,r=-2,i=[],a={},o=Math.ceil(e/2.5);do{!a[n%=e]&&(e<5||Math.abs(r-n)>1)?(i.push(t[n]),a[n]=!0,r=n,n+=o):n+=1}while(i.length<e);return i}(v)),d.push(_r(v))}return function(t,e,r){var i=null;return d.find(function(n){return null!=(i=n({key:t,i:e,value:r}))}),null==i&&(i=n),i}}var vr=function(t){return function(e){return t.hasOwnProperty(e.key)?t[String(e.key)]:null}},mr=function(t,e,n){return function(r){return r.value>0?t:r.value<0?e:n}},br=function(t,e){return function(n){return t[(Math.max(0,t.indexOf(e))+n.i)%t.length]}},yr=function(t,e){return function(n){if("string"!=typeof t[0]){t.sort(function(t,e){return t.length-e.length});var r=t.length-1;return t.forEach(function(t,n){e>(t[n-1]||[]).length&&e<=t.length&&(r=n)}),t[r][n.i%t[r].length]}return t[n.i%t.length]}},_r=function(t){var e=0,n=[];return function(r){return n[r.i]?n[r.i]:e!==t.length?n[r.i]=t[e++]:null}};function xr(t){return function(e,n){if(window.parent&&window.parent.postMessage){var r={source:"datawrapper",chartId:t,type:e,data:n};window.parent.postMessage(r,"*")}}}var wr="http://www.w3.org/1999/xhtml",kr={svg:"http://www.w3.org/2000/svg",xhtml:wr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),kr.hasOwnProperty(e)?{space:kr[e],local:t}:t}function Cr(t){var e=Mr(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===wr&&e.documentElement.namespaceURI===wr?e.createElement(t):e.createElementNS(n,t)}})(e)}function Sr(){}function Tr(t){return null==t?Sr:function(){return this.querySelector(t)}}function Ar(){return[]}function Nr(t){return null==t?Ar:function(){return this.querySelectorAll(t)}}function Lr(t){return function(){return this.matches(t)}}function Br(t){return new Array(t.length)}function Dr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Dr.prototype={constructor:Dr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Fr="$";function Er(t,e,n,r,i,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Dr(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function $r(t,e,n,r,i,a,o){var s,u,l,c={},f=e.length,h=a.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=l=Fr+o.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)(u=c[l=Fr+o.call(t,a[s],s,a)])?(r[s]=u,u.__data__=a[s],c[l]=null):n[s]=new Dr(t,a[s]);for(s=0;s<f;++s)(u=e[s])&&c[d[s]]===u&&(i[s]=u)}function Pr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Or(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zr(t,e){return t.style.getPropertyValue(e)||Or(t).getComputedStyle(t,null).getPropertyValue(e)}function jr(t){return t.trim().split(/^|\s+/)}function Rr(t){return t.classList||new Yr(t)}function Yr(t){this._node=t,this._names=jr(t.getAttribute("class")||"")}function Ir(t,e){for(var n=Rr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Hr(t,e){for(var n=Rr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ur(){this.textContent=""}function qr(){this.innerHTML=""}function Vr(){this.nextSibling&&this.parentNode.appendChild(this)}function Wr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Gr(){return null}function Xr(){var t=this.parentNode;t&&t.removeChild(this)}function Zr(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Kr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}Yr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Qr={},Jr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Qr={mouseenter:"mouseover",mouseleave:"mouseout"}));function ti(t,e,n){return t=ei(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ei(t,e,n){return function(r){var i=Jr;Jr=r;try{t.call(this,this.__data__,e,n)}finally{Jr=i}}}function ni(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ri(t,e,n){var r=Qr.hasOwnProperty(t.type)?ti:ei;return function(i,a,o){var s,u=this.__on,l=r(e,a,o);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function ii(t,e,n){var r=Or(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var ai=[null];function oi(t,e){this._groups=t,this._parents=e}function si(){return new oi([[document.documentElement]],ai)}function ui(t){return"string"==typeof t?new oi([[document.querySelector(t)]],[document.documentElement]):new oi([[t]],ai)}function li(){for(var t,e=Jr;t=e.sourceEvent;)e=t;return e}function ci(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function fi(){return null}oi.prototype=si.prototype={constructor:oi,select:function(t){"function"!=typeof t&&(t=Tr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new oi(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Nr(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new oi(r,i)},filter:function(t){"function"!=typeof t&&(t=Lr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new oi(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?$r:Er,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var f=i[c],h=a[c],d=h.length,p=t.call(f,f&&f.__data__,c,i),g=p.length,v=u[c]=new Array(g),m=s[c]=new Array(g);r(f,h,v,m,l[c]=new Array(d),p,e);for(var b,y,_=0,x=0;_<g;++_)if(b=v[_]){for(_>=x&&(x=_+1);!(y=m[x])&&++x<g;);b._next=y||null}}return(s=new oi(s,i))._enter=u,s._exit=l,s},enter:function(){return new oi(this._enter||this._groups.map(Br),this._parents)},exit:function(){return new oi(this._exit||this._groups.map(Br),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],f=l.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new oi(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Pr);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new oi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Mr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):zr(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=jr(t+"");if(arguments.length<2){for(var r=Rr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?Ir:Hr)(this,t)}}:e?function(t){return function(){Ir(this,t)}}:function(t){return function(){Hr(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Ur:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qr:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(Vr)},lower:function(){return this.each(Wr)},append:function(t){var e="function"==typeof t?t:Cr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Cr(t),r=null==e?Gr:"function"==typeof e?e:Tr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Xr)},clone:function(t){return this.select(t?Kr:Zr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?ri:ni,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ii(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ii(this,t,e)}})(t,e))}};var hi=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;si.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"}):this.style("transform",function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"}):this},si.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=ci(t),e=Cr(n.tag));var r=this.select(function(){return this.appendChild(e.apply(this,arguments))});if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},si.prototype.insert=function(t,e){var n=ci(t),r=Cr(n.tag),i=null==e?fi:"function"==typeof e?e:Tr(e),a=this.select(function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)});for(var o in n.attr)a.attr(o,n.attr[o]);return a},si.prototype.parent=function(){var t=[];return this.filter(function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))}).select(function(){return this.parentNode})},si.prototype.selectAppend=function(t){var e,n=Tr(t),r=ci(t);for(var i in t=Cr(r.tag),e=this.select(function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))}),r.attr)e.attr(i,r.attr[i]);return e},si.prototype.tspans=function(t,e){return this.selectAll("tspan").data(function(e){return("function"==typeof t?t(e):t).map(function(t){return{line:t,parent:e}})}).enter().append("tspan").text(function(t){return t.line}).attr("x",0).attr("dy",function(t,n){return n?("function"==typeof e?e(t.parent,t.line,n):e)||15:0})},si.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},si.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(hi.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},si.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){var r;return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?(r=n,function(){var t=r.apply(this,arguments);return i(t)}):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}},si.prototype.prop=si.prototype.property;var di={value:function(){}};function pi(){for(var t,e=arguments,n=0,r=arguments.length,i={};n<r;++n){if(!(t=e[n]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new gi(i)}function gi(t){this._=t}function vi(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function mi(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function bi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=di,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}gi.prototype=pi.prototype={constructor:gi,on:function(t,e){var n,r=this._,i=vi(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=bi(r[n],t.name,e);else if(null==e)for(n in r)r[n]=bi(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=mi(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new gi(t)},call:function(t,e){var n=arguments;if((r=arguments.length-2)>0)for(var r,i,a=new Array(r),o=0;o<r;++o)a[o]=n[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,r=(i=this._[t]).length;o<r;++o)i[o].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var yi,_i,xi=0,wi=0,ki=0,Mi=1e3,Ci=0,Si=0,Ti=0,Ai="object"==typeof performance&&performance.now?performance:Date,Ni="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Li(){return Si||(Ni(Bi),Si=Ai.now()+Ti)}function Bi(){Si=0}function Di(){this._call=this._time=this._next=null}function Fi(t,e,n){var r=new Di;return r.restart(t,e,n),r}function Ei(){Si=(Ci=Ai.now())+Ti,xi=wi=0;try{!function(){Li(),++xi;for(var t,e=yi;e;)(t=Si-e._time)>=0&&e._call.call(null,t),e=e._next;--xi}()}finally{xi=0,function(){var t,e,n=yi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:yi=e);_i=t,Pi(r)}(),Si=0}}function $i(){var t=Ai.now(),e=t-Ci;e>Mi&&(Ti-=e,Ci=t)}function Pi(t){xi||(wi&&(wi=clearTimeout(wi)),t-Si>24?(t<1/0&&(wi=setTimeout(Ei,t-Ai.now()-Ti)),ki&&(ki=clearInterval(ki))):(ki||(Ci=Ai.now(),ki=setInterval($i,Mi)),xi=1,Ni(Ei)))}function Oi(t,e,n){var r=new Di;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}Di.prototype=Fi.prototype={constructor:Di,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Li():+n)+(null==e?0:+e),this._next||_i===this||(_i?_i._next=this:yi=this,_i=this),this._call=t,this._time=n,Pi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pi())}};var zi=pi("start","end","cancel","interrupt"),ji=[],Ri=0,Yi=1,Ii=2,Hi=3,Ui=4,qi=5,Vi=6;function Wi(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var l,c,f,h;if(n.state!==Yi)return s();for(l in i)if((h=i[l]).name===n.name){if(h.state===Hi)return Oi(a);h.state===Ui?(h.state=Vi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<e&&(h.state=Vi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(Oi(function(){n.state===Hi&&(n.state=Ui,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=Ii,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ii){for(n.state=Hi,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=qi,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===qi&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=Vi,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Fi(function(t){n.state=Yi,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:zi,tween:ji,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Ri})}function Gi(t,e){var n=Zi(t,e);if(n.state>Ri)throw new Error("too late; already scheduled");return n}function Xi(t,e){var n=Zi(t,e);if(n.state>Hi)throw new Error("too late; already running");return n}function Zi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ki(t,e,n){var r=t._id;return t.each(function(){var t=Xi(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Zi(t,r).value[e]}}function Qi(t,e){var n;return("number"==typeof e?wt:e instanceof P?xt:(n=P(e))?(e=n,xt):Ct)(t,e)}var Ji=si.prototype.constructor;function ta(t){return function(){this.style.removeProperty(t)}}var ea=0;function na(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ra(t){return si().transition(t)}function ia(){return++ea}var aa=si.prototype;na.prototype=ra.prototype={constructor:na,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Tr(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,Wi(f[h],e,n,h,f,Zi(s,n)));return new na(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nr(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,d=t.call(u,u.__data__,f,l),p=Zi(u,n),g=0,v=d.length;g<v;++g)(h=d[g])&&Wi(h,e,n,g,d,p);a.push(d),o.push(u)}return new na(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Lr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new na(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],f=l.length,h=o[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)o[s]=e[s];return new na(o,this._parents,this._name,this._id)},selection:function(){return new Ji(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ia(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Zi(o,e);Wi(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new na(r,this._parents,t,n)},call:aa.call,nodes:aa.nodes,node:aa.node,size:aa.size,empty:aa.empty,each:aa.each,on:function(t,e){var n=this._id;return arguments.length<2?Zi(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Gi:Xi;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=Mr(t),r="transform"===n?Ot:Qi;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}})(n,r,Ki(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Mr(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Pt:Qi;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=zr(this,t),o=(this.style.removeProperty(t),zr(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,ta(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=zr(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=zr(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}(t,r,Ki(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=Xi(this,t),l=u.on,c=null==u.value[o]?a||(a=ta(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=zr(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,a,n)),r}return a._value=e,a}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ki(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Zi(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=Xi(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Xi(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Gi(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Gi(this,t).delay=e}})(e,t)):Zi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Xi(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Xi(this,t).duration=e}})(e,t)):Zi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Xi(this,t).ease=e}}(e,t)):Zi(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},u={value:function(){0==--i&&a()}};n.each(function(){var n=Xi(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};var oa=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),sa=(Math.PI,Math.PI,{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function ua(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return sa.time=Li(),sa;return n}si.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Ii&&n.state<qi,n.state=Vi,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)})},si.prototype.transition=function(t){var e,n;t instanceof na?(e=t._id,t=t._name):(e=ia(),(n=sa).time=Li(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Wi(o,t,e,l,s,n||ua(o,e));return new na(r,this._parents,t,e)};var la=Array.isArray,ca="object"==typeof t&&t&&t.Object===Object&&t,fa="object"==typeof self&&self&&self.Object===Object&&self,ha=ca||fa||Function("return this")(),da=ha.Symbol,pa=Object.prototype,ga=pa.hasOwnProperty,va=pa.toString,ma=da?da.toStringTag:void 0;var ba=function(t){var e=ga.call(t,ma),n=t[ma];try{t[ma]=void 0;var r=!0}catch(t){}var i=va.call(t);return r&&(e?t[ma]=n:delete t[ma]),i},ya=Object.prototype.toString;var _a=function(t){return ya.call(t)},xa="[object Null]",wa="[object Undefined]",ka=da?da.toStringTag:void 0;var Ma=function(t){return null==t?void 0===t?wa:xa:ka&&ka in Object(t)?ba(t):_a(t)};var Ca=function(t){return null!=t&&"object"==typeof t},Sa="[object Symbol]";var Ta=function(t){return"symbol"==typeof t||Ca(t)&&Ma(t)==Sa},Aa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Na=/^\w*$/;var La=function(t,e){if(la(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ta(t))||Na.test(t)||!Aa.test(t)||null!=e&&t in Object(e)};var Ba=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Da="[object AsyncFunction]",Fa="[object Function]",Ea="[object GeneratorFunction]",$a="[object Proxy]";var Pa,Oa=function(t){if(!Ba(t))return!1;var e=Ma(t);return e==Fa||e==Ea||e==Da||e==$a},za=ha["__core-js_shared__"],ja=(Pa=/[^.]+$/.exec(za&&za.keys&&za.keys.IE_PROTO||""))?"Symbol(src)_1."+Pa:"";var Ra=function(t){return!!ja&&ja in t},Ya=Function.prototype.toString;var Ia=function(t){if(null!=t){try{return Ya.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ha=/^\[object .+?Constructor\]$/,Ua=Function.prototype,qa=Object.prototype,Va=Ua.toString,Wa=qa.hasOwnProperty,Ga=RegExp("^"+Va.call(Wa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Xa=function(t){return!(!Ba(t)||Ra(t))&&(Oa(t)?Ga:Ha).test(Ia(t))};var Za=function(t,e){return null==t?void 0:t[e]};var Ka=function(t,e){var n=Za(t,e);return Xa(n)?n:void 0},Qa=Ka(Object,"create");var Ja=function(){this.__data__=Qa?Qa(null):{},this.size=0};var to=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},eo="__lodash_hash_undefined__",no=Object.prototype.hasOwnProperty;var ro=function(t){var e=this.__data__;if(Qa){var n=e[t];return n===eo?void 0:n}return no.call(e,t)?e[t]:void 0},io=Object.prototype.hasOwnProperty;var ao=function(t){var e=this.__data__;return Qa?void 0!==e[t]:io.call(e,t)},oo="__lodash_hash_undefined__";var so=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qa&&void 0===e?oo:e,this};function uo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}uo.prototype.clear=Ja,uo.prototype.delete=to,uo.prototype.get=ro,uo.prototype.has=ao,uo.prototype.set=so;var lo=uo;var co=function(){this.__data__=[],this.size=0};var fo=function(t,e){return t===e||t!=t&&e!=e};var ho=function(t,e){for(var n=t.length;n--;)if(fo(t[n][0],e))return n;return-1},po=Array.prototype.splice;var go=function(t){var e=this.__data__,n=ho(e,t);return!(n<0||(n==e.length-1?e.pop():po.call(e,n,1),--this.size,0))};var vo=function(t){var e=this.__data__,n=ho(e,t);return n<0?void 0:e[n][1]};var mo=function(t){return ho(this.__data__,t)>-1};var bo=function(t,e){var n=this.__data__,r=ho(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function yo(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yo.prototype.clear=co,yo.prototype.delete=go,yo.prototype.get=vo,yo.prototype.has=mo,yo.prototype.set=bo;var _o=yo,xo=Ka(ha,"Map");var wo=function(){this.size=0,this.__data__={hash:new lo,map:new(xo||_o),string:new lo}};var ko=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Mo=function(t,e){var n=t.__data__;return ko(e)?n["string"==typeof e?"string":"hash"]:n.map};var Co=function(t){var e=Mo(this,t).delete(t);return this.size-=e?1:0,e};var So=function(t){return Mo(this,t).get(t)};var To=function(t){return Mo(this,t).has(t)};var Ao=function(t,e){var n=Mo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function No(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}No.prototype.clear=wo,No.prototype.delete=Co,No.prototype.get=So,No.prototype.has=To,No.prototype.set=Ao;var Lo=No,Bo="Expected a function";function Do(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Bo);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Do.Cache||Lo),n}Do.Cache=Lo;var Fo=Do,Eo=500;var $o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Po=/\\(\\)?/g,Oo=function(t){var e=Fo(t,function(t){return n.size===Eo&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace($o,function(t,n,r,i){e.push(r?i.replace(Po,"$1"):n||t)}),e});var zo=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},jo=1/0,Ro=da?da.prototype:void 0,Yo=Ro?Ro.toString:void 0;var Io=function t(e){if("string"==typeof e)return e;if(la(e))return zo(e,t)+"";if(Ta(e))return Yo?Yo.call(e):"";var n=e+"";return"0"==n&&1/e==-jo?"-0":n};var Ho=function(t){return null==t?"":Io(t)};var Uo=function(t,e){return la(t)?t:La(t,e)?[t]:Oo(Ho(t))},qo=1/0;var Vo=function(t){if("string"==typeof t||Ta(t))return t;var e=t+"";return"0"==e&&1/t==-qo?"-0":e};var Wo=function(t,e){for(var n=0,r=(e=Uo(e,t)).length;null!=t&&n<r;)t=t[Vo(e[n++])];return n&&n==r?t:void 0};var Go=function(t,e,n){var r=null==t?void 0:Wo(t,e);return void 0===r?n:r};function Xo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zo(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Xo(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var Ko=Zo(Xo).right;function Qo(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var Jo=Math.sqrt(50),ts=Math.sqrt(10),es=Math.sqrt(2);function ns(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=rs(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function rs(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Jo?10:a>=ts?5:a>=es?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Jo?10:a>=ts?5:a>=es?2:1)}function is(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Jo?i*=10:a>=ts?i*=5:a>=es&&(i*=2),e<t?-i:i}var as=[],os=!1;function ss(){if(as.length){var t=as.map(function(t){try{return t.measure&&t.measure()}catch(t){return t}});as.forEach(function(e,n){try{e.update&&e.update(t[n])}catch(e){}}),as=[],os=!1}}var us=[10,5,2];function ls(t,e){void 0===e&&(e=8);var n=[];return us.some(function(r){return(n=function(t,e){var n=t.map(function(t){return Math.log(t)/Math.log(e)});return Qo(n[0],n[1]).map(function(t){t=Math.pow(e,t);var n=Math.log(t)/Math.LN10;return Math.pow(e,Math.log(t/Math.pow(10,n)/Math.log(e)))*Math.pow(10,n)})}(t,r)).length>=e}),n.length<e&&(n=Qo(n[0],n[n.length-1],(n[n.length-1]-n[0])/e)),n.filter(function(e){return e>=t[0]&&e<=t[1]})}function cs(t,e){var n=null;function r(t){n&&e(n,t)?ui(this).style("display","none"):n=t}t.each(function(t,e){var n;n={measure:this.getBoundingClientRect.bind(this),update:r.bind(this)},as.push(n),os||(os=!0,requestAnimationFrame(ss))})}function fs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var hs=Symbol("implicit");function ds(t){return+t}var ps=[0,1];function gs(t){return t}function vs(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function ms(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=vs(i,r),a=n(o,a)):(r=vs(r,i),a=n(a,o)),function(t){return a(r(t))}}function bs(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=vs(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Ko(t,e,1,r)-1;return a[n](i[n](e))}}function ys(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _s(){var t,e,n,r,i,a,o=ps,s=ps,u=St,l=gs;function c(){var t=Math.min(o.length,s.length);return l!==gs&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?bs:ms,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,u)))(t(l(e)))}return f.invert=function(n){return l(e((a||(a=r(s,o.map(t),wt)))(n)))},f.domain=function(t){return arguments.length?(o=Array.from(t,ds),c()):o.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),u=Tt,c()},f.clamp=function(t){return arguments.length?(l=!!t||gs,c()):l!==gs},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function xs(){return _s()(gs,gs)}function ws(t){var e=t.domain;return t.ticks=function(t){var n=e();return ns(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,a=is(t,e,n);switch((r=Kt(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=ue(a,o))||(r.precision=i),ie(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=le(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=se(a))||(r.precision=i-2*("%"===r.type))}return re(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],u=i[o];return u<s&&(r=s,s=u,u=r,r=a,a=o,o=r),(r=rs(s,u,n))>0?r=rs(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=rs(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(u/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(u*r)/r,e(i)),t},t}function ks(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Ms(t){return Math.log(t)}function Cs(t){return Math.exp(t)}function Ss(t){return-Math.log(-t)}function Ts(t){return-Math.exp(-t)}function As(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ns(t){return function(e){return-t(-e)}}function Ls(t){var e,n,r=t(Ms,Cs),i=r.domain,a=10;function o(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function(t){return 10===t?As:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=Ns(e),n=Ns(n),t(Ss,Ts)):t(Ms,Cs),r}return r.base=function(t){return arguments.length?(a=+t,o()):a},r.domain=function(t){return arguments.length?(i(t),o()):i()},r.ticks=function(t){var r,o=i(),s=o[0],u=o[o.length-1];(r=u<s)&&(h=s,s=u,u=h);var l,c,f,h=e(s),d=e(u),p=null==t?10:+t,g=[];if(!(a%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),s>0){for(;h<=d;++h)for(c=1,l=n(h);c<a;++c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}}else for(;h<=d;++h)for(c=a-1,l=n(h);c>=1;--c)if(!((f=l*c)<s)){if(f>u)break;g.push(f)}g.length||(g=ns(s,u,p))}else g=ns(h,d,Math.min(d-h,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=re(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(ks(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}var Bs=1e3,Ds=60*Bs,Fs=60*Ds,Es=24*Fs,$s=7*Es,Ps=30*Es,Os=365*Es;function zs(t){return new Date(t)}function js(t){return t instanceof Date?+t:+new Date(+t)}var Rs={text:function t(){var e,n,r=function t(){var e=new Map,n=[],r=[],i=hs;function a(t){var a=t+"",o=e.get(a);if(!o){if(i!==hs)return i;e.set(a,o=n.push(t))}return r[(o-1)%r.length]}return a.domain=function(t){if(!arguments.length)return n.slice();n=[],e=new Map;for(var r=0,i=t;r<i.length;r+=1){var o=i[r],s=o+"";e.has(s)||e.set(s,n.push(o))}return a},a.range=function(t){return arguments.length?(r=Array.from(t),a):r.slice()},a.unknown=function(t){return arguments.length?(i=t,a):i},a.copy=function(){return t(n,r).unknown(i)},fs.apply(a,arguments),a}().unknown(void 0),i=r.domain,a=r.range,o=0,s=1,u=!1,l=0,c=0,f=.5;function h(){var t=i().length,r=s<o,h=r?s:o,d=r?o:s;e=(d-h)/Math.max(1,t-l+2*c),u&&(e=Math.floor(e)),h+=(d-h-e*(t-l))*f,n=e*(1-l),u&&(h=Math.round(h),n=Math.round(n));var p=Qo(t).map(function(t){return h+e*t});return a(r?p.reverse():p)}return delete r.unknown,r.domain=function(t){return arguments.length?(i(t),h()):i()},r.range=function(t){var e;return arguments.length?(o=(e=t)[0],s=e[1],o=+o,s=+s,h()):[o,s]},r.rangeRound=function(t){var e;return o=(e=t)[0],s=e[1],o=+o,s=+s,u=!0,h()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(t){return arguments.length?(u=!!t,h()):u},r.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},r.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},r.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},r.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),h()):f},r.copy=function(){return t(i(),[o,s]).round(u).paddingInner(l).paddingOuter(c).align(f)},fs.apply(h(),arguments)},number:function t(){var e=xs();return e.copy=function(){return ys(e,t())},fs.apply(e,arguments),ws(e)},date:function(){return fs.apply(function t(e,n,r,i,a,o,s,u,l){var c=xs(),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),v=l("%I %p"),m=l("%a %d"),b=l("%b %d"),y=l("%B"),_=l("%Y"),x=[[s,1,Bs],[s,5,5*Bs],[s,15,15*Bs],[s,30,30*Bs],[o,1,Ds],[o,5,5*Ds],[o,15,15*Ds],[o,30,30*Ds],[a,1,Fs],[a,3,3*Fs],[a,6,6*Fs],[a,12,12*Fs],[i,1,Es],[i,2,2*Es],[r,1,$s],[n,1,Ps],[n,3,3*Ps],[e,1,Os]];function w(t){return(s(t)<t?d:o(t)<t?p:a(t)<t?g:i(t)<t?v:n(t)<t?r(t)<t?m:b:e(t)<t?y:_)(t)}function k(t,n,r){if(null==t&&(t=10),"number"==typeof t){var i,a=Math.abs(r-n)/t,o=Zo(function(t){return t[2]}).right(x,a);return o===x.length?(i=is(n/Os,r/Os,t),t=e):o?(i=(o=x[a/x[o-1][2]<x[o][2]/a?o-1:o])[1],t=o[0]):(i=Math.max(is(n,r,t),1),t=u),t.every(i)}return t}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,js)):h().map(zs)},c.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],a=i<r;return a&&(e=r,r=i,i=e),e=(e=k(t,r,i))?e.range(r,i+1):[],a?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t){var e=h();return(t=k(t,e[0],e[e.length-1]))?h(ks(e,t)):c},c.copy=function(){return ys(c,t(e,n,r,i,a,o,s,u,l))},c}(Te,Se,ke,xe,_e,ye,be,ge,ze).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},log:function t(){var e=Ls(_s()).domain([1,10]);return e.copy=function(){return ys(e,t()).base(e.base())},fs.apply(e,arguments),e}},Ys=0,Is=0,Hs=4,Us={horizontal:"horizontal",vertical:"vertical"};function qs(t,e,n){void 0===e&&(e=[]);var r=n.direction||Us.horizontal,i=t.selectAll("g."+n.className).data(e);i.exit().remove();var a=i.enter().append("g"),o=n.invert?-1:1,s=r===Us.vertical?"y1":"x1",u=r===Us.vertical?"y2":"x2";a.append("line").attr("shape-rendering","crispEdges").attr("stroke","currentColor").attr(s,0);var l=i.merge(a);return l.selectAll("line").attr(u,o*n.size),l.attr("class",n.className).classed("first-"+n.className,function(t,e){return!t}).attr("transform",function(t){var e=n.scale(t);return"function"==typeof n.scale.bandwidth&&(e+=n.scale.bandwidth()/2),r===Us.vertical?"translate("+e+", 0)":"translate(0, "+e+")"}),t}function Vs(t){return function(e,n,r){var i=r.tickSize||Ys,a=r.tickPadding||Hs;if(qs(e,r.values,{className:"tick",size:i,invert:"top"===t,direction:"vertical",scale:n}),r.hideLabels)return e;var o=e.selectAll(".tick"),s=r.format&&Array.isArray(r.format),u=s&&function(t){var e=new Array(t.length);return function(n){for(var r,i=0,a=t.length;i<a;i++)if((r=t[i](n))!==e[i]){e[i]=r;for(var o=i+1;o<a;o++)e[o]=void 0;break}return r}}(r.format);return o.each(function(e,n,o){var l=ui(o[n]),c=l.select("text");c.node()||(c=l.append("text"));var f="top"===t?-(i+a):i+r.fontSize+a;c.text(s?u:function(t){return r.format?r.format(t):t}).attr("text-anchor","middle").attr("y",f).style("fill","currentcolor").style("font-size",r.fontSize)}),cs(o,function(t,e){return t.x+t.width>e.x}),e}}var Ws={bottom:Vs("bottom"),top:Vs("top")};function Gs(t){void 0===t&&(t={});var e=[(t=Object.assign({},{scale:"number",paddingOuter:0,paddingInner:1},t)).paddingOuter,t.width-t.paddingOuter],n=Rs[t.scale]().range(e).domain(t.domain);return"function"==typeof n.paddingInner&&n.paddingInner(t.paddingInner),{scale:n,render:function(e,r){return function(t,e){void 0===e&&(e={});e=Object.assign({},{orientation:"bottom",fontSize:12,ticks:{},hideLabels:!1},e);var n=Go(e,"ticks.major",{}),r=Go(e,"ticks.minor",{}),i=n.values;i&&i.length||(i=function(t,e,n,r){var i=Math.round(r);switch(t){case"text":return e.domain();case"log":var a=ls(n,i);return a.length>1?a:e.ticks(i);default:return e.ticks(i)}}(e.scale,e.xScale,e.domain,e.width/80));var a=t.select(".x-axis").node()?t.select(".x-axis"):t.append("g").attr("class","x-axis");e.className&&a.attr("class","x-axis "+e.className);var o=a.select(".axis-wrapper").node()?a.select(".axis-wrapper"):a.append("g").attr("class","axis-wrapper");r.values&&qs(o,e.ticks.minor.values,{className:"minor-tick",size:Number.isFinite(r.tickSize)?r.tickSize:Is,invert:"top"===e.orientation,direction:"vertical",scale:e.xScale});!function(t,e){var n=e.minorTickConfig,r=e.majorTickConfig,i=e.orientation,a=e.scale,o=e.direction,s=e.ticks,u="right"===i||"bottom"===i;n.gridSize&&qs(t,n.values,{className:"minor-grid-line",size:n.gridSize,invert:u,direction:o,scale:a}),r.gridSize&&qs(t,s,{className:"major-grid-line",size:r.gridSize,invert:u,direction:o,scale:a})}(a,{minorTickConfig:r,majorTickConfig:n,orientation:e.orientation,scale:e.xScale,direction:"vertical",ticks:i});var s=Ws[e.orientation];return o.call(s,e.xScale,Object.assign({},n,{values:i,fontSize:e.fontSize,hideLabels:e.hideLabels})),a.select(".tick").classed("first-tick",function(t){return!t}),t}(e,Object.assign({},r,t,{xScale:n}))}}}var Xs=e(function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",i="day",a="week",o="month",s="quarter",u="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},h={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+f(r,2,"0")+":"+f(i,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,o),i=e-r<0,a=t.clone().add(n+(i?-1:1),o);return Number(-(n+(e-r)/(i?r-a:a-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:o,y:u,w:a,d:i,h:r,m:n,s:e,ms:t,Q:s}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",g={};g[p]=d;var v=function(t){return t instanceof _},m=function(t,e,n){var r;if(!t)return p;if("string"==typeof t)g[t]&&(r=t),e&&(g[t]=e,r=t);else{var i=t.name;g[i]=t,r=i}return n||(p=r),r},b=function(t,e,n){if(v(t))return t.clone();var r=e?"string"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new _(r)},y=h;y.l=m,y.i=v,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u})};var _=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var h=f.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return y},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},h.isAfter=function(t,e){return b(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<b(t)},h.$g=function(t,e,n){return y.u(t)?this[e]:this.set(n,t)},h.year=function(t){return this.$g(t,"$y",u)},h.month=function(t){return this.$g(t,"$M",o)},h.day=function(t){return this.$g(t,"$W",i)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",r)},h.minute=function(t){return this.$g(t,"$m",n)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,s){var l=this,c=!!y.u(s)||s,f=y.p(t),h=function(t,e){var n=y.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return c?n:n.endOf(i)},d=function(t,e){return y.w(l.toDate()[t].apply(l.toDate(),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},p=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case u:return c?h(1,0):h(31,11);case o:return c?h(1,g):h(0,g+1);case a:var b=this.$locale().weekStart||0,_=(p<b?p+7:p)-b;return h(c?v-_:v+(6-_),g);case i:case"date":return d(m+"Hours",0);case r:return d(m+"Minutes",1);case n:return d(m+"Seconds",2);case e:return d(m+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(a,s){var l,c=y.p(a),f="set"+(this.$u?"UTC":""),h=(l={},l[i]=f+"Date",l.date=f+"Date",l[o]=f+"Month",l[u]=f+"FullYear",l[r]=f+"Hours",l[n]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[c],d=c===i?this.$D+(s-this.$W):s;if(c===o||c===u){var p=this.clone().set("date",1);p.$d[h](d),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else h&&this.$d[h](d);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[y.p(t)]()},h.add=function(t,s){var l,c=this;t=Number(t);var f=y.p(s),h=function(e){var n=b(c);return y.w(n.date(n.date()+Math.round(e*t)),c)};if(f===o)return this.set(o,this.$M+t);if(f===u)return this.set(u,this.$y+t);if(f===i)return h(1);if(f===a)return h(7);var d=(l={},l[n]=6e4,l[r]=36e5,l[e]=1e3,l)[f]||1,p=this.valueOf()+t*d;return y.w(p,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=y.z(this),i=this.$locale(),a=this.$H,o=this.$m,s=this.$M,u=i.weekdays,l=i.months,f=function(t,r,i,a){return t&&(t[r]||t(e,n))||i[r].substr(0,a)},h=function(t){return y.s(a%12||12,t,"0")},d=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:y.s(s+1,2,"0"),MMM:f(i.monthsShort,s,l,3),MMMM:l[s]||l(this,n),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,u,2),ddd:f(i.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(a),HH:y.s(a,2,"0"),h:h(1),hh:h(2),a:d(a,o,!0),A:d(a,o,!1),m:String(o),mm:y.s(o,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:r};return n.replace(c,function(t,e){return e||p[t]||r.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,l,c){var f,h=y.p(l),d=b(t),p=6e4*(d.utcOffset()-this.utcOffset()),g=this-d,v=y.m(this,d);return v=(f={},f[u]=v/12,f[o]=v,f[s]=v/3,f[a]=(g-p)/6048e5,f[i]=(g-p)/864e5,f[r]=g/36e5,f[n]=g/6e4,f[e]=g/1e3,f)[h]||g,c?v:y.a(v)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return g[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=m(t,e,!0),n},h.clone=function(){return y.w(this.toDate(),this)},h.toDate=function(){return new Date(this.$d)},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},f}();return b.prototype=_.prototype,b.extend=function(t,e){return t(e,_,b),b},b.locale=m,b.isDayjs=v,b.unix=function(t){return b(1e3*t)},b.en=g[p],b.Ls=g,b}()}),Zs=e(function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=r.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},r.format=function(t){var e=this,n=this.$locale(),r=this.$utils(),a=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|gggg|Do|X|x|k{1,2}|S/g,function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"wo":return n.ordinal(e.week(),"W");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();default:return t}});return i.bind(this)(a)}}}),Ks=e(function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=r.format,a={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=a,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,n=void 0===e?{}:e,r=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,e,r){var i=r&&r.toUpperCase();return e||n[r]||a[r]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(t,e,n){return e||n.slice(1)})});return i.call(this,r)}}}),Qs=e(function(t,e){t.exports=function(){var t="year";return function(e,n,r){var i=n.prototype;i.week=function(e){if(void 0===e&&(e=null),null!==e)return this.add(7*(e-this.week()),"day");var n=this.$locale().weekStart||0,i=r(this).endOf(t);if(0===n&&6!==i.day()&&11===this.month()&&31-this.date()<=i.day())return 1;var a=r(this).startOf(t),o=a.subtract(a.day()-n,"day").subtract(1,"millisecond"),s=this.diff(o,"week",!0);return Math.ceil(s)},i.weeks=function(t){return void 0===t&&(t=null),this.week(t)}}}()});Xs.extend(Zs),Xs.extend(Qs),Xs.extend(Ks);var Js=!0;function tu(t,e,n,r){t._$chart=ui(e.get(0)).classed("dw-chart-body",!0);var i=t._$chart,a="stacked"===r,o=t.get("grid-lines-x.enabled",!1),s=t.get("grid-lines-x.type","ticks"),u=t.get("valueLabels.enabled",!0),l=t.get("valueLabels.show","hover"),c=t.chart().hasHighlight();if(t.__currentSeries=t.axes(!0).columns[0].title(),Js){var f=fr(window,"__dw.params.locales.dayjs");f&&Xs.locale(f),Js=!1}t._xformatter=nu(t.get("x-grid-format","YYYY")||"YYYY");var h=t.get("x-grid-format","YYYY")||"YYYY",d=hr(t.theme()),p=fr(t.theme(),"vis.column-chart.labels.values.dist",10),g=t.seriesDist(),v=t.xTickLength(),m=t.xTickFontSize(),b=eu(t,n),y=b.margin,_=b.size,x=t.d3ColumnData(),w=t.getDomainX(),k=t.getDomain(),M=[0,_.width],C=[_.height,0],S={x:sr().domain(w).range(M),y:fe().domain(k).range(C)};t._lpad=y.l,t.__yScale=S.y,t.__xScale=S.x;var T=function(e){var n=i.select("svg").classed("hasHighlight",c),r=n.append("g").append("g.container"),a=r.append("g").attr("class","axes");return n.append("rect.bgRect").style("fill","transparent").attr("width",_.outerWidth).attr("height",_.outerHeight).on("mousemove",R),t._marginL=y.l,r.attr("transform","translate("+t._marginL+","+y.t+")"),{svgRoot:r,axesContainer:a}}(),A=T.svgRoot,N=T.axesContainer,L=i.select(".bgRect").node().getBoundingClientRect().right-_.outerWidth,B=i.select(".bgRect").node().getBoundingClientRect().top;!function(t,e,n){var r=xr(t.chart().get("id")),i=t.get("valueLabels.show","hover"),a=t.get("valueLabels.enabled",!0),o="column-chart"===t.meta.id,s="stacked-column-chart"===t.meta.id,u=t._$chart;t.highlight={delay:0,timer:null,column:null,inactive:!0,set:function(l,c){t.highlight.column!==l&&(t.highlight.timer&&clearTimeout(t.highlight.timer),t.highlight.timer=setTimeout(function(){t.highlight.inactive=!1;var f=t.chart().hasHighlight();u.selectAll("rect.column").classed("hover",function(t){return l&&t.key===l.key}),o?u.selectAll("rect.column").style("fill",function(t){return l&&t.key===l.key?f?t._columnFill:cr(t._columnFill).darken(.9).hex():t.key!==l.key?f&&!t._isHighlighted?t._hlFill:t._columnFill:void 0}):(u.selectAll("rect.column").classed("unfocus",function(t){return l&&t.key!==l.key}),u.selectAll(".cc-swatch").classed("hover",function(){return l&&this.dataset.key===l.key}).classed("unfocus",function(){return l&&this.dataset.key!==l.key}));var h=a&&"hover"!==i?"unfocus":"dontshow";u.selectAll("div.label.value").each(function(t){l&&t?t.key===l.key?(ui(this).classed("hover",!0),ui(this).classed("dontshow",!a),ui(this).classed("unfocus",!1)):(ui(this).classed("hover",!1),f&&t._isHighlighted?(ui(this).classed("unfocus",!0),ui(this).classed("dontshow",!1)):ui(this).classed(h,!0)):ui(this).classed("hover",!1)}),c||u.selectAll(".label.series text").text(function(e){if(l){var n=s?e.data.x===l.data.x:e.key===l.key,r=s?e.data.x:e.x;return n?Array.isArray(t._xformatter)?t._xformatter[0](r)+" "+t._xformatter[1](r):t._xformatter(r):""}}).attr("dx",function(){var t=this.getBoundingClientRect(),r=t.right,i=t.left,a=t.width;return i-a/2<0?-i-5:r-a/2>e.outerWidth+n?e.outerWidth-r-5:-this.getBoundingClientRect().width/2}),u.selectAll(".tick.primary").classed("unfocus",!0),r("highlight.set",{column:l.key})},t.highlight.inactive?t.highlight.delay:1),t.highlight.column=l)},clear:function(){var e=t.get("valueLabels.enabled",!0),n=t.get("valueLabels.show","hover"),i=t.chart().hasHighlight();if(t.highlight.column=null,t.highlight.inactive=!0,t.highlight.timer&&clearTimeout(t.highlight.timer),u.selectAll(".hover").classed("hover",!1),s||u.selectAll("rect.column").style("fill",function(t){return i&&!t._isHighlighted?t._hlFill:t._columnFill}),i){var a=e&&"hover"!==n?"unfocus":"dontshow";u.selectAll("div.label.value:not(.highlighted)").classed(a,!0),u.selectAll("div.label.value.highlighted").classed("unfocus",!1).classed("dontshow",!1),u.selectAll("rect.highlighted").classed("unfocus",!1),u.selectAll("rect:not(.highlighted)").classed("unfocus",!0)}else u.selectAll(".unfocus").classed("unfocus",!1),"hover"===n&&u.selectAll("div.label.value").classed("dontshow",!0);s&&u.selectAll(".cc-swatch").classed("unfocus",function(){return i&&!t.__highlightedSeries.length&&!t.chart().isHighlighted(this.dataset.hlkey)}),u.selectAll(".series.label text").text(""),u.selectAll(".tick.primary").classed("unfocus",!1),r("highlight.clear")}}}(t,_,L);var D=A.append("g.columns"),F=function(t,e){var n=t.getDates(),r=n.slice(1).map(function(t,e){return t-n[e]}),i=Math.min.apply(null,r.filter(Boolean)),a=r.reduce(function(t,e){return t+(e>i?e/i-1:0)},0),o=1-.5*t.get("bar-padding",30)/100,s=e.width/(n.length+a+1)*o,u=t.getDomainX(!0),l=t.getDomainX(),c=Math.abs(u[1]-u[0])/Math.abs(l[1]-l[0]);return Math.round(s*c)}(t,_);!function(e){({columns:function(){var e=t.__currentSeries,n=D.selectAll("g.column").data(x).enter(),r=n.append("g.column").translate(function(t){return[S.x(t.x),0]});r.append("rect.column").attr("y",function(t){return t.value[e]>0?S.y(t.value[e]):S.y(0)}).attr("x",-Math.round(F/2)).attr("width",F).attr("height",function(t){return t.value[e]>0?S.y(0)-S.y(t.value[e]):S.y(t.value[e])-S.y(0)}).attr("fill",function(n){return n._columnFill=t.getColor(n.key,n.row,n.value[e],!0),n._hlColor=t.getColor(n.key,n.row,n.value[e],!1),!c||c&&n._isHighlighted?n._columnFill:n._hlColor})},stacked:function(){var t=D.selectAll("g.series").data(x).enter().append("g").attr("class","series").style("fill",function(t){return t._columnFill});t.selectAll("rect.column").data(function(t){return t}).enter().append("rect.column").classed("last",function(t,e){return e===x[0].length-1}).attr("x",function(t){return S.x(t.data.x)-Math.round(F/2)}).attr("height",function(t,e){return Math.abs(S.y(t[0])-S.y(t[1]))}).attr("width",F).attr("y",function(t,e){var n=Math.abs(S.y(t[0])-S.y(t[1]));return S.y(t[2])-(t.data[t.key]<0?0:n)}),c&&t.selectAll("rect.column").classed("highlighted",function(t){return t._isHighlighted}).classed("unfocus",function(t){return!t._isHighlighted})}})[e]()}(r),(u||c)&&function(t,e){var n,r=d.valueText,a=t.valueDistribution().neg,o=t.chart().hasHighlight(),s=t.labelHeight("X","value",100),c=i.append("div.labels.values"),f=i.node().getBoundingClientRect();({columns:function(){var e=t.__currentSeries;(n=c.selectAll("div.label.value").data(x).enter().append("div.label.value")).append("span").html(function(n){return null===n.value[e]?"":t.formatValue(n.value[e],!0)}),n.style("left",function(t){var e,n=ui(this).select("span").node().getBoundingClientRect().width,r=S.x(t.x)+y.l-n/2;return r+n>f.right&&(e=r+n-f.right,r-=e),r<f.left&&(e=f.left-r,r+=e),r+"px"}).style("top",function(t){return S.y(t.value[e])+y.t-(t.value[e]>=0&&!a?s:0)-(t.value[e]<0||a?-1:1)*p+"px"}).style("color",r)},stacked:function(){var e=c.selectAll("div.label-group.values").data(x).enter().append("div.label-group.values");(n=e.selectAll("div.label.value.inside").data(function(t){return t}).enter().append("div.label.value.inside").classed("inverted",function(t){return cr(t._columnFill).lab()[0]<70})).append("span.fg").html(function(e){var n=t.formatValue(e.data[e.key],!0);return n}),n.style("left",function(t){var e=ui(this).select("span").node().getBoundingClientRect().width;return S.x(t.data.x)+y.l-e/2+"px"}).style("top",function(t,e){var n=(S.y(t[0])-S.y(t[1]))/2;return S.y(t[2])-n+y.t-s/2+"px"})}})[e]();var h=u&&"hover"!==l?"unfocus":"dontshow";o?n.classed("highlighted",function(t){return t._isHighlighted}).classed(h,function(t){return!t._isHighlighted}):n.classed("dontshow","hover"===l&&u)}(t,r),a&&function(){if(!t.useDirectLabeling())return;i.selectAll("rect.last").each(function(e){if(e.label){var r=ui(this).node().getBoundingClientRect(),i=r.right,a=r.top,o=r.left,s=r.height,u=r.width,l={x:i-L+20-n.w*t.get("margin",0)/150,y:a-B+s/2,oy:a-B+s/2,w:n.rpad-20,align:"left",valign:"middle",cl:"",rotate:0};t.__last_bar={x:o-L,w:u};var c="row-"+e.r,f=t.__row_labels[c]=t.__row_labels[c]||t.registerLabel(t.label(l.x,l.y,e.label,l),c);f.__attrs=l,t.__directLbls.push(f)}})}();var E=Gs({width:_.width,domain:w,scale:"date"}),$=function(t){if(!t.get("custom-ticks-x"))return[];var e=dw.column("labels",t.get("custom-ticks-x").split(","),"date").values();return e=e.filter(lr).sort(function(t,e){return t.getTime()-e.getTime()})}(t);N.call(E.render,{className:"grid-x",fontSize:m,orientation:"bottom",ticks:{major:{values:$.length?$:void 0,tickPadding:g,gridSize:o?"ticks"===s?v:_.height+_.height+t.valueLabelSpace():0,format:nu(h)}}});var P,O=t.axisTranslate(S.y,_),z=t.axisLineTranslate(n,_),j=t.valueDistribution().neg;function R(){var e,n=this.getBoundingClientRect().top,r=this.getBoundingClientRect().left,a=function(t){var e=li();return e.changedTouches&&(e=e.changedTouches[0]),function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(t,e)}(this),o=a[0],s=a[1];o+=r,s+=n,(e=i.selectAll("rect.column").filter(function(t,e){var n=this.getBoundingClientRect(),r=n.bottom,i=n.top,a=n.right,u=n.left;return o>=u&&o<=a&&s<=r&&s>=i})).empty()?t.highlight.clear():t.highlight.set(e.datum())}N.select(".x-axis").attr("transform","translate(0,"+O+")"),N.selectAll(".major-grid-line").classed("tick",o&&"ticks"===s).selectAll("line").attr("transform","translate(0,"+(j?z:0)+")").style("stroke",o&&"lines"===s?d.gridline:d.axis),N.selectAll(".tick").classed("primary","true").selectAll("text").style("fill",d.seriesText),function(t,e,n){var r=d.seriesText,i=N.select("g.x-axis").append("g.labels.series").selectAll("g.label.series").data(n).enter().append("g.label.series").translate(function(t){return[S.x(a?t.data.x:t.x),0]});["bg","fg"].forEach(function(e){i.append("text.label.series."+e).text("").attr("y",m+g).classed("dw-bold",!0).style("fill",r).style("font-size",t.xTickFontSize())})}(t,0,a?x[0]:x),P=i.select("svg").node().getBoundingClientRect(),N.selectAll("text").each(function(){var t=this.getBoundingClientRect(),e=t.left,n=t.right;(e<P.left||n>P.right)&&ui(this.parentElement).style("display","none")}),a&&i.selectAll(".cc-swatch").on("mouseenter",function(){t.highlight.set({key:this.dataset.key},!0)}).on("mouseleave ",function(){t.highlight.clear()})}function eu(t,e){var n=t.axisLabelsAlignment(),r=t.size(),i=t.__filterH||0,a={t:e.tpad+(t._isStacked()?t.__lh:0),l:e.lpad+("left"===n?t.__gridLabelSpace:0),b:e.bpad,r:e.rpad+("right"===n?t.__gridLabelSpace:0)};return{margin:a,size:{width:Math.round(r[0]-a.l-a.r),height:Math.round(r[1]-a.t-a.b-i),outerWidth:r[0],outerHeight:r[1]}}}function nu(t){var e=t;return e.indexOf("|")>-1?e.split("|").map(function(t){return function(e){return Xs(e).format(t)}}):function(t){return Xs(t).format(e)}}var ru=e(function(e){!function(t,n){e.exports?e.exports=n():t.numeral=n()}(t,function(){var t,e,n,r,i,a={},o={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function l(t,e){this._input=t,this._value=e}return(t=function(n){var r,i,o,s;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(u.zeroFormat&&n===u.zeroFormat)r=0;else if(u.nullFormat&&n===u.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in a)if((s="function"==typeof a[i].regexps.unformat?a[i].regexps.unformat():a[i].regexps.unformat)&&n.match(s)){o=a[i].unformat;break}r=(o=o||t._.stringToNumber)(n)}else r=Number(n)||null;return new l(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof l},t._=e={numberToFormat:function(e,n,r){var i,a,s,u,l,c,f,h,d=o[t.options.currentLocale],p=!1,g=!1,v="",m="",b=!1;if(e=e||0,s=Math.abs(e),t._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(a=!!(a=n.match(/a(k|m|b|t)?/))&&a[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),s>=1e12&&!a||"t"===a?(v+=d.abbreviations.trillion,e/=1e12):s<1e12&&s>=1e9&&!a||"b"===a?(v+=d.abbreviations.billion,e/=1e9):s<1e9&&s>=1e6&&!a||"m"===a?(v+=d.abbreviations.million,e/=1e6):(s<1e6&&s>=1e3&&!a||"k"===a)&&(v+=d.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(g=!0,n=n.replace("[.]",".")),u=e.toString().split(".")[0],l=n.split(".")[1],f=n.indexOf(","),i=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(t._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),m=t._.toFixed(e,l[0].length+l[1].length,r,l[1].length)):m=t._.toFixed(e,l.length,r),u=m.split(".")[0],m=t._.includes(m,".")?d.delimiters.decimal+m.split(".")[1]:"",g&&0===Number(m.slice(1))&&(m="")):u=t._.toFixed(e,0,r),v&&!a&&Number(u)>=1e3&&v!==d.abbreviations.trillion)switch(u=String(Number(u)/1e3),v){case d.abbreviations.thousand:v=d.abbreviations.million;break;case d.abbreviations.million:v=d.abbreviations.billion;break;case d.abbreviations.billion:v=d.abbreviations.trillion}if(t._.includes(u,"-")&&(u=u.slice(1),b=!0),u.length<i)for(var y=i-u.length;y>0;y--)u="0"+u;return f>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d.delimiters.thousands)),0===n.indexOf(".")&&(u=""),h=u+m+(v||""),p?h=(p&&b?"(":"")+h+(p&&b?")":""):c>=0?h=0===c?(b?"-":"+")+h:h+(b?"-":"+"):b&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,i=o[u.currentLocale],a=t,s={thousand:3,million:6,billion:9,trillion:12};if(u.zeroFormat&&t===u.zeroFormat)n=0;else if(u.nullFormat&&t===u.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),s)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),a.match(r)){n*=Math.pow(10,s[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,a=0;if(3===arguments.length)n=arguments[2];else{for(;a<i&&!(a in r);)a++;if(a>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[a++]}for(;a<i;a++)a in r&&(n=e(n,r[a],a,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,n){var r=e.multiplier(n);return t>r?t:r},1)},toFixed:function(t,e,n,r){var i,a,o,s,u=t.toString().split("."),l=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,l),e):l,o=Math.pow(10,i),s=(n(t+"e+"+i)/o).toFixed(i),r>e-i&&(a=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),s=s.replace(a,"")),s}},t.options=u,t.formats=a,t.locales=o,t.locale=function(t){return t&&(u.currentLocale=t.toLowerCase()),u.currentLocale},t.localeData=function(t){if(!t)return o[u.currentLocale];if(t=t.toLowerCase(),!o[t])throw new Error("Unknown locale : "+t);return o[t]},t.reset=function(){for(var t in s)u[t]=s[t]},t.zeroFormat=function(t){u.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){u.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){u.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,a,o,s,u,l,c;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{l=t.localeData(n)}catch(e){l=t.localeData(t.locale())}return a=l.currency.symbol,s=l.abbreviations,r=l.delimiters.decimal,i="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,(null===(c=e.match(/^[^\d]+/))||(e=e.substr(1),c[0]===a))&&((null===(c=e.match(/[^\d]+$/))||(e=e.slice(0,-1),c[0]===s.thousand||c[0]===s.million||c[0]===s.billion||c[0]===s.trillion))&&(u=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!((o=e.split(r)).length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/)))))},t.fn=l.prototype={clone:function(){return t(this)},format:function(e,n){var r,i,o,s=this._value,l=e||u.defaultFormat;if(n=n||Math.round,0===s&&null!==u.zeroFormat)i=u.zeroFormat;else if(null===s&&null!==u.nullFormat)i=u.nullFormat;else{for(r in a)if(l.match(a[r].regexps.format)){o=a[r].format;break}i=(o=o||t._.numberToFormat)(s,l,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],function(t,e,r,i){return t+Math.round(n*e)},0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],function(t,e,r,i){return t-Math.round(n*e)},Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var a=e.correctionFactor(t,n);return Math.round(t*a)*Math.round(n*a)/Math.round(a*a)},1),this},divide:function(t){return this._value=e.reduce([this._value,t],function(t,n,r,i){var a=e.correctionFactor(t,n);return Math.round(t*a)/Math.round(n*a)}),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,a=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,a+"BPS"),i=i.join("")):i=i+a+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter(function(t){return n.suffixes.indexOf(t)<0})).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,a){var o,s,u,l=t._.includes(i,"ib")?r:n,c=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),o=0;o<=l.suffixes.length;o++)if(s=Math.pow(l.base,o),u=Math.pow(l.base,o+1),null===e||0===e||e>=s&&e<u){c+=l.suffixes[o],s>0&&(e/=s);break}return t._.numberToFormat(e,i,a)+c},unformat:function(e){var i,a,o=t._.stringToNumber(e);if(o){for(i=n.suffixes.length-1;i>=0;i--){if(t._.includes(e,n.suffixes[i])){a=Math.pow(n.base,i);break}if(t._.includes(e,r.suffixes[i])){a=Math.pow(r.base,i);break}}o*=a||1}return o}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,a,o=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),a=0;a<s.before.length;a++)switch(s.before[a]){case"$":i=t._.insert(i,o.currency.symbol,a);break;case" ":i=t._.insert(i," ",a+o.currency.symbol.length-1)}for(a=s.after.length-1;a>=0;a--)switch(s.after[a]){case"$":i=a===s.after.length-1?i+o.currency.symbol:t._.insert(i,o.currency.symbol,-(s.after.length-(1+a)));break;case" ":i=a===s.after.length-1?i+" ":t._.insert(i," ",-(s.after.length-(1+a)+o.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],function(e,n,r,i){var a=t._.correctionFactor(e,n);return e*a*(n*a)/(a*a)},1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],a=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),a+=i.ordinal(e),t._.numberToFormat(e,n,r)+a}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,a=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,a+"%"),i=i.join("")):i=i+a+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),a=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})});function iu(t){return t}function au(t,e,n){var r=n.__numeral;if(!e)return iu;t=t||"0,0.[00]";var i=r.locales.x?"x":r.locale(),a=r.locales[i].currency.symbol,o=n.chart().get("metadata.data.column-format",{})[e.name()]||{},s="number"===e.type()?function(e,i,s){if(u=e,"[object Number]"!==ur.call(u))return"";var u;if(o["number-format"]&&"-"!==o["number-format"]&&t.indexOf(".[")>-1&&-1===t.indexOf("a")){for(var l=Number(o["number-format"].replace(/n/,"")),c="",f=0;f<l;f++)c+="0";t=t.replace(/\[\d+\]/g,"["+c+"]")}var h=r(t.indexOf("%")>-1?.01*e:e).divide(Math.pow(10,o["number-divisor"]||0)).format(t).replace("-",n._minus).replace(/^\+(0([,. ]0+))?$/,"±$1");return h=i?s?h.replace(a,"").replace("%",""):h:(o["number-prepend"]||"")+h+(o["number-append"]||"")}:iu;return function(t,e,n){return s(t,e,n)}}var ou=!0;dw.visualization.register("column-chart","raphael-chart",{checkDataset:function(t){var e=this,n=e.dataset;(n.numRows()>40||n.numColumns()>50)&&e.notify("Your dataset is too big for this chart type. You may want to consider using a different one (e.g. line chart or scatterplot)."),n.limitRows(e.__isTimeScale?200:100),n.limitColumns(500),e.initGetColor(),e.setRoot(t),e.axesDef=e.axes(),e.__lastRow=0},render:function(t){var e,n=this,r=n.dataset;n.__isTimeScale="column-chart"===n.meta.id&&"date"===n.axes(!0).labels.type()&&n.axes(!0).labels.length>5;var i=_.map(n.axes().columns,function(t){return r.column(t)}),a=fr(window,"__dw.params.locales.numeral");a&&ou&&(ru.register("locale","x",a),ru.locale("x"),ou=!1),n.__numeral=ru;var o=dw.utils.filter(dw.utils.columnNameColumn(i),0),s=o.ui(n),u=0;n.__filterUI=s;var l,c,f=xr(n.chart().get("id"));(n.checkDataset(t),n.axesDef)&&(s&&(l=$("#header"),c=l.height(),l.append(s),u=l.height()-c,n.__filterH=u,o.change(function(t,r){n.__lastRow=r,n.update(r,t,e),f("column:change",{value:t,index:r}),n.fire("column:change",{value:t,index:r})})),e=n.initCanvas({tpad:0,bpad:0,rpad:0,lpad:0},0,u),n.renderChart(t,e),n.renderingComplete())},renderChart:function(t,e){var n=this,r=n.getBarColumn(),i=n.getBarValues(!0);n.formatValue(0),n.__themeProps=hr(n.theme()),n._minus=fr(n.theme(),"typography.chart.minusCharacter","−"),n.init(),r&&(n.__gridLabelSpace=n.gridLabelSpace(e),n.__rotateLabels=n.rotateLabels(),n.calculatePadding(e,i),n.initDimensions(),n.horzGrid(),n.__isTimeScale?tu(n,t,e,"columns"):_.each(i,_.bind(n.__barEnter,n)),t.mousemove(_.bind(n.onMouseMove,n)),n.__gridLines&&n.__gridLines[0]&&n.__gridLines[0].toFront())},calculatePadding:function(t,e){var n=this,r=n.getDomain(),i=[t.bpad,t.h-t.tpad-(n.__lh||0)],a=fe().domain(r).range(i),o=0;!function t(e,a,s){var u={tpad:0,bpad:0};var l=n.checkSeriesLabelSpace(e,a,s);var c=n.checkValueLabelSpace(e,a,s);var f=n.checkTickLabelSpace(e,s);[l,c,f].forEach(function(t){Object.keys(t).forEach(function(e){u[e]=Math.max(t[e],u[e])})});(u.tpad>0||u.bpad>0)&&e.tpad+e.bpad<e.h&&(e.tpad+=u.tpad,e.bpad+=u.bpad,i=[e.bpad,e.h-e.tpad-(n.__lh||0)],s=fe().domain(r).range(i),o<10&&(o++,t(e,a,s)))}(t,e,a)},checkValueLabelSpace:function(t,e,n){var r=this.valueLabelSpace(),i={tpad:0,bpad:0},a=this.valueDistribution(),o=a.neg,s=a.pos,u=this.__dataDomain||this.dataDomain(),l=o?0:n(u[1])+r,c=s?0:n(u[0])-r;return i.tpad=Math.max(l-t.h,0),i.bpad=Math.max(0-c,0),i},checkSeriesLabelSpace:function(t,e,n){var r=this,i=r.seriesDist(),a={bpad:0,tpad:0};if(r.__isTimeScale){var o=r.xTickLength(),s=r.valueDistribution(),u=s.mix,l=s.neg,c=r.xTickFontSize()+i+o+(u?r.valueLabelSpace():0);if(l)a.tpad=Math.max(0,n(0)+c-t.h);else{var f=Math.max(0-((u?n.range()[0]:n(0))-c),0);a.bpad=Math.max(0,f)}}else{var h=.9*r.barLabelWidth(),d="series highlighted"+(r.useSmallerLabels()?" smaller":"");e.forEach(function(e){var o=r.__rotateLabels?Math.min(150,r.labelWidth(e.name,d)+2):r.labelHeight(e.name,d,h);if(o+=i,e.value<0){var s=Math.max(n(0)+o-t.h,0);a.tpad=Math.max(a.tpad,s)}else{var u=Math.max(0-(n(0)-o),0);a.bpad=Math.max(a.bpad,u)}})}return a},checkTickLabelSpace:function(t,e){var n=this,r={tpad:0,bpad:0};if(!n.get("yAxisLabels.enabled",!0))return r;var i=n.getYGridTicks(),a=Math.max.apply(Math,i),o=n.labelHeight("X","axis y-tick-values tick secondary",100),s=t.h-(n.__lh||0);if(e.domain()[1]===a){var u=e(a)+(n.insideTicks()?o+3:o/2);r.tpad=u>s?u-s:0}return r},gridLabelSpace:function(t){var e=this;if(!e.get("yAxisLabels.enabled",!0))return 0;var n=e.dataDomain()[1],r=e.get("yAxisLabels.placement","outside"),i=e.getYGridTicks(),a=Math.max.apply(Math,i),o=e.chart().get("metadata.data.column-format",{})[e.fmtColumn().name()]||{},s=o["number-append"]||o["number-prepend"],u=e.maxGridLabelWidth(i);return"inside"===r&&s&&!e.isNormalized()?u[a>n?"simple":"withUnit"]:u.withUnit},maxGridLabelWidth:function(t){var e=this,n=Math.max.apply(Math,t),r=e.__update?au(e.get("y-grid-format","0,0.[00]"),e.fmtColumn(),e):e.formatValue,i={simple:!0,withUnit:!1};return Object.keys(i).forEach(function(a){var o=i[a];i[a]=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}(t,function(t,i){var a=r(t,o||t!==n);return e.labelWidth(a,"label axis")})+e.tickDist()}),i},getDataRowByPoint:function(t,e){return 0},insideTicks:function(){var t=this.get("yAxisLabels.enabled",!0),e=this.get("yAxisLabels.placement","outside"),n=this.get("grid-lines",!0);return t&&n&&"inside"===e},showTooltip:function(){},hideTooltip:function(){},__barEnter:function(t,e){var n=this,r=n.__canvas,i=n.__update,a=Object.assign({},t);a.value=0;var o,s=n.colorMap(),u=n.barDimensions(t,e),l=n.barDimensions(a,e),c=n.chart(),f=n.theme(),h=t.value,d=n.getColor(t.key,t.row,h),p=JSON.parse(JSON.stringify(u)),g=JSON.parse(JSON.stringify(l));p.x=u.bx,void 0!==t.value&&null!==t.value||(t.value=""),o=n.registerElement(r.paper.rect().attr(i?g:p).attr({stroke:null,fill:s(d)}),t.name,t.row),f.columnChart.barAttrs&&o.attr(f.columnChart.barAttrs);var v=n.formatValue(h,!0).replace("-",n._minus);v="null"===v||"undefined"===v?"":v;var m=["series x-tick-values chart-text label"],b=n.get("valueLabels.enabled",!0),y=n.get("valueLabels.show","hover"),_=c.hasHighlight(),x=_&&c.isHighlighted(String(t.name)),w=n.labelPosition(t,e,"value"),k=n.labelPosition(a,e,"value"),M=n.labelPosition(t,e,"series",t.name);if(b||_){var C=["value","outline"];(!_||x||b&&"hover"!==y)&&(_||"hover"!==y)||C.push("hide"),x&&C.push("highlighted");var S=t.value<0?n.valueLabelSpace():0,T=i?k.top+S:w.top,A=n.registerLabel(n.label(w.left,T,v,{w:w.width,valign:w.valign,align:"center",cl:C.join(" ")}),t.name,e,t.row);n.__themeProps.valueText&&$(".label.value span").css("color",n.__themeProps.valueText),i&&A.animate({y:w.top},.7*f.duration,f.easing)}i&&o.animate(p,.7*f.duration,f.easing),x&&m.push("highlighted"),n.useSmallerLabels()&&m.push("smaller"),n.__rotateLabels&&(m.push("rotate90"),t.value>=0?m.push("lbl-align-right"):m.push("lbl-align-left")),/^X\.\d+$/.test(t.name)||(n.registerLabel(n.label(M.left,M.top,t.name,{w:M.width,align:M.halign,valign:M.valign,cl:m.join(" ")}),t.name,n.axes().labels,t.row),n.__themeProps.seriesText&&$(".label.series span").css("color",n.__themeProps.seriesText))},__barExit:function(t){_.each(this.__elements[t],function(t){t.remove()}),_.each(this.__labels[t],function(t){t.remove()}),this.__elements[t]=void 0,this.__labels[t]=void 0},useSmallerLabels:function(){return this.barLabelWidth()<30},rotateLabels:function(){var t=this,e=t.get("rotate-labels","auto");if("on"===e)return!0;if("off"===e)return!1;var n=t.getBarValues(),r=.9*t.barLabelWidth(),i=!1;return _.each(n,function(e,n){/^X\.\d+$/.test(e.name)||(t.label(0,0,e.name,{w:"0px",cl:"label series highlighted measure-word"+(t.useSmallerLabels()?" smaller":"")}),$($(".measure-word span")[n]).width()>r&&(i=!0))}),$(".measure-word").remove(),i},getBarValues:function(t){var e=this,n=e.__lastRow,r=e.dataset.column(e.axesDef.labels),i=e.getBarColumn(n),a=e.get("sort-values"),o=e.get("reverse-order"),s=r.type(!0).formatter(),u=[];return i?(i.each(function(t,n){isNaN(t)||null===t||u.push({name:s(r.val(n)),key:e.colorKey(n),value:t,row:n})}),t&&a&&u.sort(function(t,e){return(isNaN(e.value)?0:e.value)-(isNaN(t.value)?0:t.value)}),t&&o&&u.reverse(),u.forEach(function(t,e){e&&(t._prev=u[e-1]),e<u.length-1&&(t._next=u[e+1])}),u):[]},getBarColumn:function(){var t=this.__lastRow;if(_.isUndefined(t))throw new Error("filter must not be undefined");return _.isUndefined(this.axesDef.columns[t])?null:this.dataset.column(this.axesDef.columns[t])},update:function(t,e,n){var r=this,i=r.getBarValues(!0);r.__newBars=[],r.__update=!0,r.__rotateLabels=r.rotateLabels(),r.__gridLabelSpace=r.gridLabelSpace(n),n.tpad=0,n.bpad=0,r.calculatePadding(n,i),r.initDimensions(),r.horzGrid(!0),r.__isTimeScale?function(t,e,n){var r=ui(".dw-chart-body"),i=r.node().getBoundingClientRect(),a=t.valueDistribution().neg,o=eu(t,n),s=o.margin,u=o.size,l=t.__scales.y.range([u.height,0]),c=t.labelHeight("X","value",100),f=fr(t.theme(),"vis.column-chart.labels.values.dist",10),h=ra().duration(t.theme().duration).ease(oa.exponent(5));r.selectAll("g.column").each(function(t){ui(this).select("rect.column").transition(h).attr("height",t.value[e]>0?l(0)-l(t.value[e]):l(t.value[e])-l(0)).attr("y",t.value[e]>0?l(t.value[e]):l(0))}),r.select("g.container").transition(t.theme().duration).attr("transform","translate("+t._marginL+","+s.t+")");var d=t.axisTranslate(l,u);r.select("g.x-axis.grid-x").transition(h).attr("transform","translate(0,"+d+")");var p=t.axisLineTranslate(n,u);r.selectAll(".major-grid-line line").transition(h).attr("transform","translate(0,"+(a?p:0)+")");var g=r.selectAll("div.label.value").filter(function(t){return t});g.selectAll("span").html(function(n){return null===n.value[e]?"":t.formatValue(n.value[e],!0)}),g.style("left",function(e){var n=ui(this).select("span").node().getBoundingClientRect().width,r=t.__xScale(e.x)+t._lpad-n/2;return r+n>i.right&&(r-=r+n-i.right),r<i.left&&(r+=i.left-r),r+"px"}).transition(h).style("top",function(t){return l(t.value[e])+s.t-(t.value[e]>=0&&!a?c:0)-(t.value[e]<0||a?-1:1)*f+"px"})}(r,e,n):r.updateBars(t,e,n),r.__gridLines[0]&&r.__gridLines[0].toFront()},updateBars:function(t,e,n){var r=this,i=r.theme(),a={},o=this.colorMap();_.each(r.getBarValues(!0),function(t,e){r.__elements[t.name+"-"+t.row]||r.__newBars.push({bar:t,s:e}),_.each(r.__elements[t.name+"-"+t.row],function(n){var a=r.barDimensions(t,e,0);n.animate(a,i.duration,i.easing);var s=r.getColor(t.key,t.row,t.value);n.attrs.fill!==s&&n.attr({fill:o(s)})}),_.each(r.__labels[t.name+"-"+t.row],function(n){var a;n.hasClass("value")?(void 0!==t.value&&null!==t.value&&"undefined"!==t.value||(t.value=""),n.text(r.formatValue(t.value,!0)),a=r.labelPosition(t,e,"value")):n.hasClass("series")&&(a=r.labelPosition(t,e,"series",t.name)),a&&(n.animate({w:a.width,x:a.left,y:a.top,align:a.halign,valign:a.valign},i.duration,i.easing),n.hasClass("value")||(t.value<0?$(n.el).addClass("lbl-align-left").removeClass("lbl-align-right"):$(n.el).addClass("lbl-align-right").removeClass("lbl-align-left")))}),a[t.name+"-"+t.row]=!0}),_.each(r.__elements,function(t,e){a[e]||r.__barExit(e)})},addNewBars:function(t){t.__newBars&&setTimeout(function(){for(;t.__newBars.length;)t.__barEnter(t.__newBars[0].bar,t.__newBars[0].s),t.__newBars.shift();t.__gridLines[0]&&t.__gridLines[0].toFront()},.6*t.theme().duration)},getBarColor:function(t,e,n){var r=fr(this.theme(),"style.chart.highlights.noFade",!1),i=e&&t.value<0;return this.getKeyColor(t?t.key:null,t?t.value:null,i,n,r)},getDomain:function(){return this.applyCustomRange(this.dataDomain())},dataDomain:function(){var t=this,e=t.dataset.column(t.axesDef.columns[t.__lastRow||0]).values().filter(function(t){return!isNaN(t)}),n=[Math.min.apply(Math,e.concat([0])),Math.max.apply(Math,e.concat([0]))];return t.get("absolute-scale",!1)&&(n=dw.utils.minMax(_.map(t.axesDef.columns,function(e){return t.dataset.column(e)})),n=[Math.min(0,n[0]),Math.max(0,n[1])]),t.__dataDomain=n,n},applyCustomRange:function(t){var e=[t[0],t[1]],n=this.useCustomRange(),r=this.get("custom-range",[]).map(function(t){return+t});return n[0]&&(e[0]=Math.min(r[0],t[0])),n[1]&&(e[1]=Math.max(r[1],t[1])),e},useCustomRange:function(){var t=this.getBarColumn().range(),e=this.get("custom-range",["",""]);if(""===e[0]&&""===e[1])return[!1,!1];e=e.map(function(t){return+t});var n=[];return n[0]=!isNaN(e[0])&&e[0]<t[0],n[1]=!isNaN(e[1])&&e[1]>t[1],n},initDimensions:function(t){var e=this,n=e.__canvas,r=e.getDomain();e.__domain=r,e.__scales={y:fe().domain(r)},e.__scales.y.rangeRound([0,n.h-n.bpad-n.tpad])},barAndLabelWidth:function(){var t=this.__canvas,e=this.getBarValues().length,n=this.get("bar-padding",60)/100,r=t.w-t.lpad-t.rpad-this.__gridLabelSpace;return{barWidth:r/(e+(e>2?e-1:e)*n),labelWidth:r/e}},barWidth:function(){return this.barAndLabelWidth().barWidth},barLabelWidth:function(){return this.barAndLabelWidth().labelWidth},axisLabelsAlignment:function(){return this._isStacked&&this._isStacked()&&this.useDirectLabeling()?"left":this.get("yAxisLabels.alignment","left")},barDimensions:function(t,e){var n,r,i,a=this,o=a.__scales,s=a.__canvas,u=a.__gridLabelSpace,l=a.barWidth(),c=a.barLabelWidth(),f=a.axisLabelsAlignment(),h=a.get("bar-padding",60)/100,d=t.value;isNaN(d)&&(d=0),(n=o.y(d)-o.y(0))>=0?i=s.h-s.bpad-o.y(0)-n:(i=s.h-s.bpad-o.y(0),n*=-1),0!==n&&(n=Math.max(1,n));var p=s.lpad+("left"===f?u:0),g=e*c;return h*=l,r=Math.round(p+g+h/2),{width:Math.round(l),height:n,x:r,y:i,bx:r,bw:l,pad:h}},labelPosition:function(t,e,n,r){var i,a=this,o=a.__canvas,s=a._rotateLabels,u=a.barDimensions(t,e),l=a.valueDistribution().neg,c=t.value,f=(c>=0||isNaN(c))&&!l,h=f||s?"top":"bottom",d=fr(a.theme(),"vis.column-chart.labels.values.dist",10),p=f?u.y-d:u.y+u.height+d,g=fr(a.theme(),"vis.column-chart.labels.series.dist",5)-(s?2:0),v=f?u.y+u.height+g:u.y-g,m=a.axisLabelsAlignment(),b=u.bx+.5*u.width;if("value"===n)return i=a.labelWidth(a.formatValue(c,!0),"value outline hover"),{left:b="right"===m?Math.max(0+.5*i,u.bx+.5*u.width):Math.min(o.w-.5*i,u.bx+.5*u.width),top:p,width:i,valign:f?"bottom":"top"};if("series"===n){if(i=.9*a.barAndLabelWidth().labelWidth,a.__rotateLabels){var y=a.labelWidth(r,"label highlighted series"+(a.useSmallerLabels()?" smaller":""));i=y>150?150:y+2;var _=a.labelHeight(r,"label series highlighted measure-height"+(a.useSmallerLabels()?" smaller":""),i);v+=f?i/2-_/2:_/2-i/2,b=u.bx+u.width/2}return{left:b,top:v,width:i,halign:"center",valign:h}}},getYGridTicks:function(){var t=this,e=t.__canvas,n=t.getDomain(),r=fe().domain(n),i=t.get("custom-ticks"),a=t.getYTicks(r,e.h,!0),o=t._isStacked&&t._isStacked()&&t.isNormalized();return null!=i&&""!==i&&(a=i.split(",")).forEach(function(t,e){a[e]=Number(t)*(o?.01:1)}),(a=a.filter(function(t,e){return t>=n[0]&&t<=n[1]})).includes(0)||a.unshift(0),a},horzGrid:function(t,e){var n=this,r=n.__canvas,i=n.__scales.y,a=n.__domain,o=n.colorMap(),s=n.theme(),u=n.getYGridTicks(),l=n.gridVisible(),c=n.get("yAxisLabels.enabled",!0),f=n.axisLabelsAlignment(),h="inside"===n.get("yAxisLabels.placement","outside"),d=n.__tickLabels=n.__tickLabels||{},p=n.__gridLines=n.__gridLines||{},g=n.tickDist(),v=t?s.duration:0,m=fr(n.theme(),"vis.column-chart.axes.showZero",!1),b=hr(n.theme()),y="topOnly"===fr(s,"style.chart.labels.ticks.vertical.units.numeral","all");t&&(n.formatValue=au(n.get("y-grid-format","0,0.[00]"),n.fmtColumn(),n));var x=b.axis?{stroke:o(b.axis)}:{},w=b.gridline?{stroke:o(b.gridline)}:{};_.each(u,function(t,e){var o,b,k=String(t),M=n.gridlineCoords(),C=M.x,S=M.x2,T=r.h-r.bpad-i(t),A=T-(h&&l?10:0);if("left"===f?(b=h?"left":"right",o=h?r.lpad:C-g):(b=h?"right":"left",o=h?r.w-r.rpad:S+g),0!==t&&c||m&&c){var N=n.formatValue(t,e!==u.length-1,y),L=d[k]=d[k]||n.label(o,A,N,{align:b,cl:["axis","y-tick-values","tick","secondary"].join(" "),css:{opacity:0}});n.__themeProps.tickText&&$(".label.axis span").css("color",n.__themeProps.tickText),L.text(N),L.animate({x:o,y:A,css:{opacity:1}},v,s.easing)}var B,D="grid "+(0===t?"x-axis":"y-gridline"),F={path:[["M",C,T],["L",S,T]],opacity:1,attr:0===t?x:w};if(n.groupSpacing())B=p[k]=p[k]||n.drawLineSegments(t,F,D);else{if((B=p[k]=p[k]||n.path(F.path,D)).toBack(),B.attr(F.attr),0===t&&B.toFront(),!n.__lastTicks||_.indexOf(n.__lastTicks,Number(t))<0){var E=F.path;if(n.__lastDomain){i.domain(n.__lastDomain);var P=r.h-r.bpad-i(t);i.domain(a),E=[["M",C,P],["L",S,P]]}B.attr({opacity:0,path:E})}(l||0===t)&&B.animate(F,v*(n.__lastTicks?1:.2),s.easing,n.addNewBars(n))}}),$.each(p,function(t,e){if(_.indexOf(u,+t)<0){var a=r.h-r.bpad-i(t),o=n.gridlineCoords(),l=o.x,c=o.x2,f={};$.extend(f,s.horizontalGrid,{path:[["M",l,a],["L",c,a]],opacity:0}),e.animate(f,v,s.easing),d[t]&&d[t].animate({x:l+g,y:a,css:{opacity:0}},v,s.easing)}}),n.__lastTicks=u,n.__lastDomain=a.slice(0)},valueDistribution:function(){var t=this.getBarValues(),e=!0,n=!0;return _.each(t,function(t){t.value<0&&(e=!1),t.value>0&&(n=!1)}),{pos:e,neg:n,mix:!n&&!e}},hover:function(t){var e=this,n=this.colorMap(),r=e.getBarValues(),i="hover"===e.get("valueLabels.show","hover"),a=e.get("valueLabels.enabled",!0);_.each(r,function(r){_.each(e.__labels[r.name+"-"+r.row],function(e){void 0!==t&&r.name+"-"+r.row===t?(e.addClass("hover"),i&&a&&e.hasClass("value")&&e.removeClass("hide")):(e.removeClass("hover"),i&&e.hasClass("value")&&!e.hasClass("highlighted")&&e.addClass("hide"))}),_.each(e.__elements[r.name+"-"+r.row],function(i){var a=e.getColor(r.key,r.row,r.value,!0);a=void 0!==t&&r.name+"-"+r.row===t?e.chart().hasHighlight()?a:cr(a).darken(.9).hex():e.getColor(r.key,r.row,r.value),i.attrs.fill!==a&&i.attr({fill:n(a)})})})},unhoverSeries:function(){this.hoverSeries()},registerElement:function(t,e,n){var r=e+("column-chart"===this.meta.id?"-"+n:"");return t.data("key",r),_.isNumber(n)&&t.data("row",n),this.__elements[r]||(this.__elements[r]=[]),this.__elements[r].push(t),t},registerLabel:function(t,e,n,r){var i=this,a=e+("column-chart"===i.meta.id?"-"+r:"");return t.data("key",e),n&&!_.isUndefined(r)&&(t.el.attr("data-column",n),t.el.attr("data-row",r)),i.__labels[a]||(i.__labels[a]=[]),i.__labels[a].push(t),t.on("mouseenter",function(t){i.__hoveredLabel=t.target,clearTimeout(i.__mouseLeaveTimer)}),t.on("mouseleave",function(){i.__mouseLeaveTimer=setTimeout(function(){i.__hoveredLabel=null},100)}),t},groupSpacing:function(){return"grouped-column-chart"!==this.meta.id?0:fr(this.theme(),"vis.grouped-column-chart.axes.gridlines.gapBetweenGroups",0)},tickDist:function(){return fr(this.theme(),"vis.column-chart.axes.tickDist.vertical",8)},seriesDist:function(){return this.__isTimeScale?fr(this.theme(),"style.chart.axes.tickDist.horizontal",5):fr(this.theme(),"vis.column-chart.labels.series.dist",5)-(this.__rotateLabels?2:0)},xTickLength:function(){var t=this.get("grid-lines-x.enabled",!1);return"ticks"===this.get("grid-lines-x.type","ticks")&&t?fr(this.theme(),"style.chart.axes.ticks.horizontal.length",5):0},xTickFontSize:function(){var t,e,n,r;return t=this.theme(),e="fontSize",n=12,r=null,["vis.column-chart.labels.ticks.horizontal","style.chart.labels.ticks.horizontal","typography.chart"].forEach(function(n){null===r&&(r=fr(t,n+"."+e))}),r||n},valueLabelH:function(){return this.__vLblHeight=this.__vLblHeight||this.labelHeight("10","value",100),this.__vLblHeight},valueLabelSpace:function(){return this.get("valueLabels.enabled",!0)?this.valueLabelH()+fr(this.theme(),"vis.column-chart.labels.values.dist",10):0},drawLineSegments:function(t,e,n){var r=this,i=r.getBarColumns().length,a=r.barAndLabelWidth().seriesWidth,o="inside"===r.get("yAxisLabels.placement","outside"),s="left"===r.axisLabelsAlignment(),u=r.groupSpacing()/2,l=e.path[0][1],c=e.path[1][1],f=[],h=s&&o?r.__gridLabelSpace:0;return function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(i).forEach(function(s){e.path[0][1]=0===s&&o?0:l+h+u+a*s,e.path[1][1]=o&&s===i-1?c:l+h-u+a*(s+1);var d=r.path(e.path,n).attr(e.attr).toBack();f.push(d),0===t&&d.toFront()}),f},gridlineCoords:function(){var t=this,e=t.__canvas,n=t.axisLabelsAlignment(),r=t.get("yAxisLabels.placement","outside"),i=e.lpad,a=e.w-e.rpad;return"outside"===r&&("left"===n?i+=t.__gridLabelSpace:"right"===n&&(a-=t.__gridLabelSpace)),{x:i,x2:a}},gridVisible:function(){return"show"===this.get("grid-lines",!0)||this.get("grid-lines",!0)},formattedLabel:function(t){return this.dataset.column(this.axes().labels).type(!0).formatter()(this.axes(!0).labels.val(t))+""||""},rowName:function(t){return dw.utils.purifyHtml(this.axes(!0).labels.raw(t),"")||""},colorKey:function(t){var e=this.axes(!0).labels,n=this.axes(!0).labels.type();return dw.utils.purifyHtml("text"===n?"undefined"===e.val(t,!0)?e.val(t):e.val(t,!0):e.raw(t),"")||""},colorKeys:function(){var t=this,e=[];return t.dataset.eachRow(function(n){e.push(t.colorKey(n))}),e},initGetColor:function(){var t=this,e=fr(t.theme(),"style.chart.highlights.noFade",!1),n=t.get("base-color",0),r={customColors:Object.assign({},t.__customColors,t.get("custom-colors",{})),selectedColor:n};t.get("negative-color",!1)&&(r.negativeColor=t.theme().colors.negative);var i=gr(t.theme(),r),a=i;if(t.chart().hasHighlight()){var o=t.theme().colors.background;a=function(n,r,a,s){return t.chart().isHighlighted(t.formattedLabel(r))||s||e?i(n,r,a):cr.interpolate(i(n,r,a),o,.65,"rgb").hex()}}t.getColor=a},fmtColumn:function(){return"column-chart"!==this.meta.id?this.dataset.column(this.axesDef.columns[0]):this.getBarColumn()},formatValue:function(){var t=this,e=t.fmtColumn();return t.formatValue=au(t.get("y-grid-format","0,0.[00]"),e,t),t.formatValue.apply(arguments)},axisTranslate:function(t,e){var n=this,r=n.valueDistribution(),i=r.mix,a=r.neg,o=n.xTickLength(),s=n.seriesDist(),u=n.xTickFontSize();return i?e.height+n.valueLabelSpace()+o:t(0)+o-(a?u+2*(o+s):0)},axisLineTranslate:function(t,e){var n=this,r=n.get("grid-lines-x.type","ticks"),i=n.xTickLength(),a=n.seriesDist(),o=n.xTickFontSize();return"ticks"===r?o+2*a+i:e.height+n.valueLabelSpace()-2*t.tpad},_isStacked:function(){return"stacked-column-chart"===this.meta.id},isNormalized:function(){return!!this._isStacked()&&(!this.valueDistribution().diverging&&this.get("normalize",!1))},getDates:function(){var t=this,e=t.dataset.list().map(function(e){return e[t.axesDef.labels]}).filter(lr);return t.isMMMFormat()&&(e=t.fixMMMFormat(e)),e.sort(function(t,e){return t.getTime()-e.getTime()})},isMMMFormat:function(){var t=this.axes(!0).labels,e=[].concat(Array(t.length).keys()).map(function(e,n){return t.raw(n)});return"MMM"===dw.column.types.date(e).format()},fixMMMFormat:function(t){var e=!1,n=0;return t.forEach(function(r,i){e||0===i||(n=lr(t[i-1])?t[i-1].getTime():n,lr(r)&&r.getTime()<n&&(e=i))}),e&&(t=t.map(function(t,n){return n<e&&lr(t)?new Date(t.getFullYear()-1,t.getMonth(),t.getDate()):t})),t},d3ColumnData:function(){var t=this,e=t.dataset.list().map(function(e,n){var r={},i=t.axes(!0);i.columns.forEach(function(t){r[t.title()]=isNaN(e[t.name()])?0:e[t.name()]});var a=dw.utils.purifyHtml(i.labels.raw(n)),o=t.formattedLabel(n);return{x:e[t.axesDef.labels],value:r,row:n,_isHighlighted:t.chart().isHighlighted(o),key:a,rowName:t.rowName(n),colorKey:t.colorKey(n)}});if(e=e.filter(function(t){return lr(t.x)}),t.isMMMFormat()){var n=t.fixMMMFormat(e.map(function(t){return t.x}));e.forEach(function(t,e){t.x=n[e]}),e.sort(function(t,e){return t.x.getTime()-e.x.getTime()})}return e},getDomainX:function(t){var e=this.getDates(),n=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(e),r=(t?[]:this.get("custom-range-x",[])).map(function(t){return+t});return r.length&&(r=dw.column("",r,"date").values(),n[0]=lr(r[0])&&r[0]<n[0]?r[0]:n[0],n[1]=lr(r[1])&&r[1]>n[1]?r[1]:n[1]),n=function(t,e){var n=t[0].getTime(),r=t[1].getTime(),i=(r-n)*e;return[new Date(n-i),new Date(r+i)]}(n,.5/e.length)}})}();