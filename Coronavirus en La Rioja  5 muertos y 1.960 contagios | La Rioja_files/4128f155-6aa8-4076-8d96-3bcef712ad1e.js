!function(i){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={exports:{},id:t,loaded:!1};return i[t].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}n.m=i,n.c=r,n.p="",n(0)}([function(t,e,i){"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])}return i},writable:!0,configurable:!0});var r,defaultConfig={replaced:!1},n=new(i(59)),a=function(){document.removeEventListener("DOMContentLoaded",a);try{r&&clearTimeout(r)}catch(t){}defaultConfig.hasOwnProperty("replaced")&&!defaultConfig.replaced||n.init(defaultConfig)};
defaultConfig = {"tags":{"sm":{"mobile":[{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeMassIT\/RiojaMobile&tt=p&rt=vast_2.0&rnd=${random}&pf=html5&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/0EEPU5zaOW\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"},{"url":"","trafficType":"DIRECT"}],"desktop":[{"url":"https:\/\/es-sunicontent.videoplaza.tv\/proxy\/distributor\/v2?s=WeMassIT\/RiojaDesktop&tt=p&rt=vast_2.0&rnd=${random}&pf=fl_11&dcid=pc&xpb=1&gdpr=${gdpr}&gdpr_consent=${gdpr_consent}&ru=${request.referrerurl}&vht=${request.height}&vwt=${request.width}&cp.schain=${supply_chain}&t=${VALUE}","trafficType":"DIRECT"},{"url":"https:\/\/s.richaudience.com\/vid\/0EEPU5zaOW\/${random}\/?hasConsent=1&consentString=${gdpr_consent}","trafficType":"DIRECT"},{"url":"","trafficType":"DIRECT"}]},"client":{"mobile":["","",""],"desktop":["","",""]}},"priority":{"mobile":"sm","desktop":"sm"},"options":{"skip":true,"skipTime":20,"skipReminder":false,"skipReminderTime":0,"classMandatory":true,"restart":true,"pod":true,"inblock":false,"up":false,"fold":true,"audio":false,"class":[".voc-detail.voc-detail-grid > p"],"classPosition":1,"adPosition":[],"margin":0,"extra":"base\/fold","ignoreDefaultTags":false},"ava":{"desktop":{"enabled":false,"position":"bottom_right","bottom":0},"mobile":{"enabled":false,"position":"bottom_right","bottom":0}},"loop":{"desktop":{"enabled":true,"times":2,"autoStart":false,"onlyOneVideo":true},"mobile":{"enabled":true,"times":2,"autoStart":false,"onlyOneVideo":true}},"banner":{"desktop":{"schedule":"always","display":"fixed","position":"right","tag":[]},"mobile":{"schedule":"always","display":"fixed","position":"right","tag":[]}},"whitelist":[],"mobileNetBlackList":[],"it":"4128f155-6aa8-4076-8d96-3bcef712ad1e","client":"411efbc2-de61-49ff-b491-39dc6a888ecb","category":"News","publisher":"9c706dc7-efa9-4292-8df4-00bf347aaa21"};
"loading"===document.readyState?(document.addEventListener("DOMContentLoaded",a),r=setTimeout(a,2e3)):a()},,,function(r,t){var e=function(e){return function(t){return"number"==typeof t["inner"+e]?t["inner"+e]:t.documentElement&&"number"==typeof t.documentElement["client"+e]?t.documentElement["client"+e]:void 0}},i=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},n=function(t,e){if(!t)return e;for(var i in e)e.hasOwnProperty(i)&&("object"==typeof e[i]?t[i]=n(t[i],e[i]):t[i]=e[i]);return t},a=function(t){return!1===i(t)?t:t.self&&t.self===t?t:t instanceof HTMLElement?t:t&&t.tagName&&"script"===t.tagName.toLowerCase()?t:!0===Array.isArray(t)?s(t):"function"==typeof t?o(t):!0===i(t)?d(t):JSON.parse(JSON.stringify(t))},s=function(t){return t.map(function(t){return a(t)})},o=function(t){!0===t.__isClone&&(t=t.__clonedFrom);var e=t.bind({});for(var i in t)e[i]=t[i];return e.__isClone=!0,e.__clonedFrom=t,e},d=function(t){var e=t.constructor?t.constructor():{};for(var i in t)t.hasOwnProperty(i)&&(e[i]=a(t[i]));return e},c=function(){return["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"]},l=function(t,e){return void 0===e?e=[]:e.push(t),"BODY"!==t.tagName?l(t.parentNode,e):e},h=function(e,t,i,r,n){var a=document.createElement("iframe");a.setAttribute("style","border:0px;width:100%;height:100%;position:absolute;display:block;top:0px;left:0px;"),a.setAttribute("id","vpaid_creative_"+n),a.scrolling="no";try{!1===/Edge/.test(navigator.userAgent)&&(a.src="javascript:false"),e.appendChild(a);var s=a.contentWindow.document;s.open().write(i),s.close()}catch(t){a.src="javascript:void((function(){ "+i+"})())",e.appendChild(a)}return a},p=r.exports={removeWhitespace:function(t){for(var e=/\S/,i=0;i<t.childNodes.length;i++)3!==t.childNodes[i].nodeType||e.test(t.childNodes[i].nodeValue)||(t.removeChild(t.childNodes[i]),i--);return t},extend:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},deepExtend:n,deepClone:a,isObject:i,deepCloneArray:s,deepCloneFunction:o,deepCloneObject:d,getBasePathMainJS:function(){return"https://static.sunmedia.tv/SMSdk/"},getElement:function(t,e){var i;if("swf"!==e)return document.getElementById(t);try{if(window.document[t])i=window.document[t];else if(document.getElementById(t))i=document.getElementById(t);else{if(!window[t])return!1;i=window[t]}return-1<navigator.userAgent.toLowerCase().indexOf("firefox")?i[1]:i}catch(t){}},getElementPosition:function(t){var e=document.body.getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.top-e.top;return{x:i.left-e.left,y:r}},getWindow:function(t){return window.parent.document.getElementById(t)?this.w=window.parent:document.getElementById(t)&&(this.w=window),this.w},getPos:function(t){for(var e=0,i=0;null!=t;e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent);return{x:e,y:i}},windowHeight:e("Height"),windowWidth:e("Width"),scrollTop:function(t){if(null!=t.pageXOffset)return{x:t.pageXOffset,y:t.pageYOffset};var e=t.document;return"CSS1Compat"===document.compatMode?{x:e.documentElement.scrollLeft,y:e.documentElement.scrollTop}:{x:e.body.scrollLeft,y:e.body.scrollTop}},tryGet:function(t){try{return t()}catch(t){return}},strUpperFirst:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},strLowerFirst:function(t){return t.charAt(0).toLowerCase()+t.slice(1)},arrayToCamelCase:function(t){var e=r.exports.strLowerFirst(t.shift());for(var i in t)t.hasOwnProperty(i)&&(e+=r.exports.strUpperFirst(t[i]));return e},objInvert:function(t){var e={};for(var i in t)i.match(/^\d+$/)&&(i=parseInt(i,10)),e[t[i]]=i;return e},childNodesNotAllowedToCount:c,isChildNodeAllowed:function(t){if(!t||!t.nodeName)return!1;var e=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var"],i=t.nodeName.toLowerCase();return-1===e.indexOf(i)},debug:function(t,e){e=e||p.debugLevel.INFO;var i="log";"undefined"!=typeof SMDBGLevel&&e<=SMDBGLevel&&(m[e].fn&&(i=m[e].fn),m[e].css&&"object"!=typeof t?(t="%c"+t,console[i](t,m[e].css)):console[i](t))},printError:function(t){console.error(t.name+": "+t.message)},linearQuantile:function(t,e){t.sort(function(t,e){return t-e});var i=e/100*(t.length-1),r=Math.floor(i);return r===i?t[i]:(fract=i-r,t[r]+(t[r+1]-t[r])*fract)},memoize:function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.memoize=e.memoize||{},t in e.memoize?e.memoize[t]:e.memoize[t]=e.apply(this,t)}},getParentNodeSwipe:l,appendFrameCode:h,appendFrameScript:function(t,e,i,r,n,a){var s;e?(s='<body style="margin:0px;"></body>',!0===n&&(s+="<script>var inDapIF = true;<\/script>"),s+=!0===a?"<script>"+decodeURIComponent(e)+"<\/script>":'<script src="'+e+'"><\/script>',s+="<script>setTimeout(function(){window.myCallback();}, 1000);<\/script>"):s="setTimeout(function(){window.myCallback()},10);";var o=h(t,0,s,0,r);return o.contentWindow.myCallback=i||function(){},o},setWindowFocusDetection:function(t,e){var i="hidden";i in document?document.addEventListener("visibilitychange",t):(i="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t},removeWindowFocusDetection:function(t,e){var i="hidden";i in document?document.removeEventListener("visibilitychange",t):(i="mozHidden")in document?document.removeEventListener("mozvisibilitychange",t):(i="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",t):(i="msHidden")in document?document.removeEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=null:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}},u=r.exports.debugLevel=Object.freeze(r.exports.objInvert(["DISABLED","CRITICAL","ERROR","WARNING","NOTICE","INFO","DEBUG"])),m={};m[u.CRITICAL]={fn:"error"},m[u.ERROR]={fn:"error"},m[u.WARNING]={fn:"warn"},m[u.NOTICE]={css:"color:#664ce6"},m[u.INFO]={fn:"info"},m[u.DEBUG]={css:"color:#4773ca;"}},,,function(t,e){var i="static.sunmedia.tv",r="https://"+i,n="https://track"+i.substr(i.indexOf(".")),a=r+"/SMSdk/";t.exports={CLOSE_MILLISECONDS:8e3,HOST:r,HOST_TRACKER:n,SDK_PATH:a,SDK_CSS_PATH:"https://static.sunmedia.tv/SMSdk/css/",SDK_ICO_PATH:"https://static.sunmedia.tv/SMSdk/ico/",SDK_EXTRA_PATH:"https://static.sunmedia.tv/SMSdk/extra/",SDK_GEO_PATH:"https://static.sunmedia.tv/SMVpaidCreatives/geotarget/eu_country.php",SDK_COUNTRY_PATH:"https://services.sunmedia.tv/geotarget/country.php",SM_GEO_WINDOW_KEY:"SMGDPRKey",SM_AD_BLOCKER_DETECT_JS_PATH:"https://static.sunmedia.tv/SMSdk/assets/AdBlockDetection/adblockDetector.min.js",SM_PRIORITY:{CLIENT:"client",SUN_MEDIA:"sm"},SDK_DEFAULT_TRACKER_OUTSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/outstream.json",SDK_DEFAULT_TRACKER_INSTREAM:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/instream.json",SDK_DEFAULT_TRACKER_NATIVE:"https://static.sunmedia.tv/SMSdk/tracker/[CLIENT]/native.json",SDK_DEFAULT_TAG_PATH:"https://static.sunmedia.tv/SMSdk/tracker/",TRACKERS:{AD_IMPRESSION:"AdImpression",AD_VIDEOSTART:"AdVideoStart"},EVENTS:{SM:{PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT",UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",TRACKER:"SM_TRACKER",NON_STARTED:"SM_NON_STARTED",UPDATE_TRACKER:"SM_UPDATE_TRACKER"},AD:{TRACKER:"AdTracker"},AD_FACTORY:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE:"SMAdFactorySSPVpaidSize",AD_FACTORY_IMPRESSION:"SMAdFactoryImpression"},STRICT_USER_CONSENT:["21d59bad-6ed2-4a81-a742-b71a242144dd"],AD_FACTORY_EVENT:"SMAdFactory",AD_FACTORY_SSP_VPAID_SIZE_EVENT:"SMAdFactorySSPVpaidSize",SM_EVENTS:{UPDATE_CONFIG_OPTIONS:"SM_UPDATE_CONFIG_OPTIONS",TAGS_BLOCK_CHANGED:"SM_TAGS_BLOCK_CHANGED",UNFILLED:"SM_UNFILLED",SM_AD_TRACKER:"SM_TRACKER",SM_UPDATED_TRACKER:"SM_UPDATED_TRACKER",SM_PLAYER_FULLSCREEN_EXIT:"SM_PLAYER_FULLSCREEN_EXIT"},NON_START:["vpaid.adsafeprotected.com"],PLG_NAMES:{SMInHome:"inhome-1-0",SMInImage:"inimage-1-0",SMInText:"intext-1-0",Native:"native-2-0"}}},function(t,e){function i(t,e){var i="inner"+e,r="client"+e;return(t=t||window)[i]?t[i]:t.document&&t.document.documentElement&&t.document.documentElement[r]?t.document.documentElement[r]:void 0}function d(t){return i(t,"Width")}function a(t){return i(t,"Height")}function o(t,e){for(var i=[],r=0;r<t.length;r++)t[r].getAttribute("itemprop")&&t[r].getAttribute("itemprop")===e&&i.push(t[r]);return i}function c(t,e){var i;try{if(-1<e.indexOf(".")||-1<e.indexOf("#"))i=t.document.querySelectorAll(e);else if(t.document.getElementById(e))i=[t.document.getElementById(e)];else if(0<t.document.getElementsByClassName(e).length)i=t.document.getElementsByClassName(e);else{var r=t.document.getElementsByTagName("div"),n=t.document.getElementsByTagName("article"),a=o(r,e),s=o(n,e);i=a.concat(s)}}catch(t){}return i}function l(t,e){var i;t.style.zIndex&&(i=t.style.zIndex);var r=e.getComputedStyle(t).getPropertyValue("z-index");return r&&(i=r),i}function r(t,e){var i,r=!1,n=[];for(n.unshift(t);t.parentNode&&t.parentNode!==e.document.body;)t=t.parentNode,n.unshift(t);for(var a=0;a<n.length;a++){var s=n[a];if(s.style){var o=e.getComputedStyle(s).getPropertyValue("position");if(!r&&"static"!==o){var d=l(s,e);d&&(i=d),r=!0}}}return i}t.exports={getCurrentSMScript:function(t){return document.currentScript?document.currentScript:(e=t,i=document.getElementsByTagName("script"),Array.prototype.filter.call(i,function(t){return-1!==t.src.indexOf(e)})[0]);var e,i},getWindowHeight:a,isOutOfScreen:function(t,e){e=e||window;var i=t.getBoundingClientRect(),r=Math.floor(i.left),n=Math.floor(i.width),a=Math.floor(d(e));return r<0||a<r+n},isScrolledIntoView:function(t,e,i){var r=t.getBoundingClientRect(),n=a(e);return r.top>=i&&r.bottom<=n},isScrolledBellowView:function(t){return t.getBoundingClientRect().top<0},isScrolledOutOfAvaRegion:function(t,e){var i=t.getBoundingClientRect(),r=a(e)-50;return 100<=i.top&&i.bottom<=r},isScrolledOutOfAvaRegionNativeFrame:function(t,e){var i=t.getBoundingClientRect(),r=a(e);return 0<=i.top&&i.top<=r/2},getContainerByClassNameListAndPos:function(t,e,i){var r,n,a;"string"==typeof e&&(e=e.split(","));for(var s=0;s<e.length;s++)try{if((r=c(t,e[s].trim().trim()))&&0<r.length)break}catch(t){}return void 0===(a=i)&&(a=0),a>=(n=r).length&&(a=n.length-1),n[a]},getElementsByClassNameList:function(t,e){var i;"string"==typeof e&&(e=e.split(","));for(var r=0;r<e.length;r++)try{if((i=c(t,e[r].trim().trim()))&&0<i.length)break}catch(t){}return i},getContainerInScreen:function(t,e){for(var i,r,n,a,s=null,o=0;o<t.length;o++)!1==(i=t[o],r=e,n=i.getBoundingClientRect(),a=d(r),n.left<0||n.left+n.width>a)&&(s=t[o]);return s},getElementPosition:function t(e){if(!e)return{x:0,y:0};var i=e.offsetParent;null===i&&(i=e.parentNode);var r=t(i),n=e.offsetTop||0;return{x:(e.offsetLeft||0)+r.x,y:n+r.y}},getZIndexFromElm:l,getZIndexFromAncestors:r,getZIndex:function(t,e){if(!t)throw new Error("container is undefined");var i=r(t,e);return 0!==i&&"auto"!==i||!t.style||(i=l(t,e)),0!==i&&"auto"!==i||(i=1),i},createStyleElement:function(t,e,i){var r=t.document.getElementById(e);if(!r)if((r=t.document.createElement("style")).setAttribute("id",e),r.setAttribute("type","text/css"),r.styleSheet)r.styleSheet.cssText=i;else{var n=t.document.createTextNode(i);r.appendChild(n)}return r},createLinkElement:function(t,e,i){var r=t.document.getElementById(e);return r||((r=t.document.createElement("link")).setAttribute("id",e),r.setAttribute("href",i),r.setAttribute("rel","stylesheet")),r},addClassToElement:function(t,e){-1===t.className.indexOf(e)&&(t.className+=" "+e)},removeClassFromElement:function(t,e){if(-1!==t.className.indexOf(e)){var i=t.className.split(" "),r=i.indexOf(e);-1<r&&i.splice(r,1),t.className=i.join(" ")}},getRootWindow:function(t){var e=t;try{for(;e.parent&&e!==e.parent;)e=e.parent}catch(t){}return e}}},function(t,e,i){var r=i(9),n=/(\${)([\w_.()]+)(})/gi,d=[{macroName:"random",replaceKey:"random"},{macroName:"request.referrerurl",replaceKey:"refEncode"},{macroName:"page_category",replaceKey:"category"},{macroName:"page_category.encode",replaceKey:"categoryEncode"},{macroName:"gdpr",replaceKey:"gdprApplies"},{macroName:"gdpr_consent",replaceKey:"consentData"},{macroName:"request.width",replaceKey:"width"},{macroName:"request.height",replaceKey:"height"},{macroName:"supply_chain",replaceKey:"supplyChain"},{macroName:"VALUE",replaceKey:"targeting"},{macroName:"publisherId",replaceKey:"publisherId"}];t.exports={replace:function(t,e){var o=Object.assign({},{categoryEncode:encodeURIComponent(e.category),refEncode:encodeURIComponent(r.isAMP()?window.context.canonicalUrl:window.location.href),random:Math.abs(Math.floor(1e9*Math.random()))},e);return t.replace(n,function(t,e,i){for(var r=0;r<d.length;r++){var n=d[r],a=n.macroName,s=n.replaceKey;if(i===a&&void 0!==o[s])return o[s]}return t})}}},function(t,e){function a(){a.prototype.isAMP=function(){return!0},a.prototype.getAMPContainerClass=function(){return"c"},a.prototype.isAMPStickyIntegration=function(){return"AMP-STICKY-AD"===window.context.container},a.prototype.requestResize=function(t,e,i){window.context.requestResize(t,e,i)},a.prototype.requestResizeUntilSuccess=function(t,e,i){this.isAMPStickyIntegration()||(this.unlisten&&this.unlisten(),this.unlisten=window.context.observeIntersection(function(){window.context.requestResize(t,e,i)}),window.context.onResizeSuccess(this.unlisten))},a.prototype.reportEntity=function(t){window.context.reportRenderedEntityIdentifier(""+t)},a.prototype.closeAd=function(){this.isAMPStickyIntegration()?window.context.noContentAvailable():i.requestResizeUntilSuccess(window.document.body.offsetWidth,0,!0)},a.prototype.getStickyAdMaxHeight=function(){return 100},a.prototype.convertSizesForStickyAd=function(t,e){var i,r,n=this.getStickyAdMaxHeight();return n<e?i=t*(r=n)/e:(i=t,r=e),{width:i,height:r}}}var i,r=window.context&&window.context.tagName&&-1<window.context.tagName.indexOf("AMP");i=r?new a:new function t(){for(var e=new a,i=Object.keys(Object.getPrototypeOf(e)),r=0;r<i.length;r++){var n=i[r];t.prototype[n]=function(){}}t.prototype.isAMP=function(){return!1}},t.exports=i},function(t,e){function a(t,e){return 0===e?t:a(e,t%e)}function r(t){var e=0,i=0;t&&(e=t.width,i=t.height),i&&"undefined"!==i||(e=640,i=360);var r=a(e,i),n=e/r+":"+i/r;return t&&t.apiFramework&&"vpaid"===t.apiFramework.toLowerCase()&&(n="16:9"),n}t.exports={selectRandomElementInArr:function(t){var e=t.length;return t[Math.floor(Math.random()*e)]},getCreativeHeight:function(e,t){try{var i=1;switch(r(t)){case"9:16":case"16:9":i=360*e/640;break;case"3:4":case"4:3":i=360*e/480;break;case"76:135":i=540*e/304;break;default:i=360*e/640}}catch(t){i=360*e/640}return i},getCreativeWidth:function(e,t){try{var i=1;switch(r(t)){case"9:16":case"16:9":i=640*e/360;break;case"3:4":case"4:3":i=480*e/360;break;case"76:135":i=304*e/540;break;default:i=640*e/360}}catch(t){i=640*e/360}return i},isAllowedToRun:function(e,t){var i=!0;return t&&0<t.length&&(i=!1,t.some(function(t){i=i||t===e})),i},forEachIFramesR:function t(e,i){for(var r=e.getElementsByTagName("iframe"),n=0;n<r.length;n++){var a=r[n];if(!a.src||-1===a.src.indexOf("http")&&-1===a.src.indexOf(".js"))try{a.contentWindow&&(i(a.contentWindow.document),t(a.contentWindow.document,i))}catch(t){}}},checkVpaidIFrame:function(t){var e=!1;if(t){var i=t.contentWindow.document.body;if(i&&i.childNodes)for(var r=0;r<i.childNodes.length;r++)if(i.childNodes[r]&&i.childNodes[r].tagName&&"script"!==i.childNodes[r].tagName.toLowerCase()){e="ias-ad"!==i.childNodes[r].tagName.toLowerCase();break}}return e},getFrameAVAStyle:function(t,e,i){var r=t.bottom||60,n="";return"top"===t.position?n+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;top: 20px;":"top_left"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;top: 20px;":"top_right"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;top: 20px;":"bottom"===t.position?n+="width:"+e.width+"px!important;height:"+e.height+"px!important;left:"+(e.left||20)+"px;bottom: "+r+"px;":"bottom_left"===t.position||"left"===t.position?n+="width:"+i.width+"px!important;height:"+i.height+"px!important;left:"+(i.left||20)+"px;bottom: "+r+"px;":"bottom_right"!==t.position&&"right"!==t.position||(n+="width:"+i.width+"px!important;height:"+i.height+"px!important;right:"+(i.right||20)+"px;bottom: "+r+"px;"),n},getPluginName:function(t){var e="";if(t&&t.constructor)if(void 0===t.constructor.name){var i=t.constructor.toString();e=(i=(i=i.substr("function ".length)).substr(0,i.indexOf("("))).trim()}else e=t.constructor.name;return"sm"+e},buildSunmediaTags:function(t,e,i){t=t||[];var r,n,a=(e=e||{}).VAST||[],s=e.BANNER||[];for(r=0;r<s.length;r++)(n=s[r])&&n.url&&""!==n.url&&(n.type="default",n.mode="banner",n.device=i,t.push(n));for(r=a.length;0<=r;r--)(n=a[r])&&n.url&&""!==n.url&&(n.type="default",n.mode="vast",n.device=i,t.unshift(n));return t},getRatioAsString:function(t,e){var i=a(t,e);return t/i+":"+e/i},isSelectedRichAudienceTag:function(t){return-1<t.indexOf("https://s.richaudience.com/vid/")&&(-1<t.indexOf("U3vKHMj75x")||-1<t.indexOf("nJcTdAqgGd"))},isSelectedSpotxChangeTag:function(t){return-1<t.indexOf("https://search.spotxchange.com/vast/2.0/")&&-1<t.indexOf("270673")},isSelectedMondelezTag:function(t){return-1<t.indexOf("https://tpc.googlesyndication.com")&&(-1<t.indexOf("ADXMDLZChipsAhoy")||-1<t.indexOf("ADXMDLZOREO"))},isVerificationTag:function(t){return!!(t&&t.vast&&t.vast.currentTagUrl)&&-1<t.vast.currentTagUrl.indexOf("https://vast.adsafeprotected.com/vast?anId=925802")},isFacebookApp:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return-1<t.indexOf("FBAN")||-1<t.indexOf("FBAV")}}},function(t,e){var n="SM_DEBUG";function i(t,e,i){if(i=i||"font-weight:bold",-1<window.location.toString().indexOf(n)||!0===window[n]){var r="SM"+t.toUpperCase()+":";i?console[t].apply(console,["%c"+r,i,e]):console[t].apply(console,[r,e])}}t.exports={SM_DEBUG_WINDOW_KEY:n,warning:function(t){i("warn",t)},error:function(t){i("error",t)},info:function(t){i("info",t,"color: blue; font-weight:bold")},log:function(t){i("log",t)}}},function(t,e){t.exports={checkForScreenHunter:function(defaultConfig){try{var t=function(){var t;try{var e=decodeURIComponent(location.hash);if(-1<e.indexOf("smsh=")){var i=e.indexOf("=");t=e.substring(i+1)}}catch(t){}return t}();"string"==typeof t&&function(defaultConfig,t){defaultConfig.pod=!1,defaultConfig.loop.enabled=!1,defaultConfig.priority="sm",defaultConfig.tags.sm&&(defaultConfig.tag=[{url:t.trim(),trafficType:"DIRECT"}])}(defaultConfig,t)}catch(t){}}}},function(t,e){function i(){this._listeners={}}i.prototype.hasEventListener=function(t){return t in this._listeners},i.prototype.addEventListener=function(t,e){if(!e||"function"!=typeof e)throw new Error("The listener must be a function or have an on function");this.hasEventListener(t)?this._listeners[t].push(e):this._listeners[t]=[e]},i.prototype.removeEventListener=function(t,e){if(this.hasEventListener(t)){var i=this._listeners[t].indexOf(e);this._listeners[t].splice(i,1)}},i.prototype.dispatchEvent=function(t,e){this.hasEventListener(t)&&this._listeners[t].forEach(function(t){"function"==typeof t&&t(e)})},t.exports=i},function(t,e,i){var r=i(11);function n(){this._intervals={}}n.prototype.stopInterval=function(t){try{this._intervals.hasOwnProperty(t)?(clearInterval(this._intervals[t]),delete this._intervals[t]):r.warning("Trying to clear an unregistered interval named: "+t)}catch(t){r.error(t)}},n.prototype.addInterval=function(t,e,i){this._intervals.hasOwnProperty(t)||(this._intervals[t]=setInterval(e,i))},t.exports=n},function(t,e,i){var n=i(6),l=i(16),h=i(17);function a(t,e,i,r,n){this._integrationId=t,this._position=e,this._defaultTracker=new h(i),this.trackerenabled=r,this.externalLogsCallback=n,this._commonTrackers={};var a=this.getCommonTrackers();for(var s in a)if(a.hasOwnProperty(s)){var o=a[s],d=this.buildTrackerUrl(s,1),c=new l(o);c.addUrl(d),this._commonTrackers[o]=c}}a.KEYS={OPPORTUNITY:"op",REQUEST:"req",EFFECTIVE:"ef",UNFILLED:"unf",IMPRESSION:"imp",VIDEO_START:"st",VIDEO_FQ:"fq",VIDEO_MP:"mp",VIDEO_TQ:"tq",VIDEO_COMPLETE:"co",SKIP:"sk",CLICK:"clk",CREATIVE_VIEW:"cv",VIEW_ABILITY:"vw",CONTAINER_SIZE_ERROR:"sizerr",REQUEST_ERROR:"reqe",ERROR:"err",PLAYER_IMPRESSION:"vimp"},a.OPPORTUNITY_TRACKER_NAME="opportunity",a.CONTAINER_SIZE_ERROR_TRACKER_NAME="container_size_error",a.REQUEST_TRACKER_NAME="request",a.EFFECTIVE_TRACKER_NAME="effective",a.UNFILLED_TRACKER_NAME="unfilled",a.VIEW_ABILITY_TRACKER_NAME="view_ability",(a.COMMON_TRACKER_CHOICES={})[a.KEYS.OPPORTUNITY]=[a.OPPORTUNITY_TRACKER_NAME],a.COMMON_TRACKER_CHOICES[a.KEYS.CONTAINER_SIZE_ERROR]=[a.CONTAINER_SIZE_ERROR_TRACKER_NAME],a.COMMON_TRACKER_CHOICES[a.KEYS.REQUEST]=[a.REQUEST_TRACKER_NAME],a.COMMON_TRACKER_CHOICES[a.KEYS.EFFECTIVE]=[a.EFFECTIVE_TRACKER_NAME],a.COMMON_TRACKER_CHOICES[a.KEYS.VIEW_ABILITY]=[a.VIEW_ABILITY_TRACKER_NAME],(a.VIDEO_TRACKER_COLLECTION={})[a.KEYS.IMPRESSION]=[n.TRACKERS.AD_IMPRESSION],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIDEO_START]=[n.TRACKERS.AD_VIDEOSTART],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIDEO_FQ]=["AdVideoFirstQuartile"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIDEO_MP]=["AdVideoMidpoint"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIDEO_TQ]=["AdVideoThirdQuartile"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIDEO_COMPLETE]=["AdVideoComplete"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.SKIP]=["skip","AdSkipped"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.CLICK]=["clickTracking"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.CREATIVE_VIEW]=["creativeView"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.VIEW_ABILITY]=["viewability"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.ERROR]=["error"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.REQUEST_ERROR]=["request_error"],a.VIDEO_TRACKER_COLLECTION[a.KEYS.PLAYER_IMPRESSION]=["player_impressiom"],a.prototype.buildTrackerUrl=function(t,e,i){var r=n.HOST_TRACKER+"/?ap=smptf";return r+="&it="+this._integrationId,r+="&tp="+t,r+="&pb="+e,r+="&pos="+this._position,r+="&loop="+(i="number"==typeof i?i:0)},a.prototype.getPBFromPriority=function(t){return n.SM_PRIORITY.SUN_MEDIA===t?1:0},a.prototype.setPBType=function(t){var e,i=this._videoTrackers;for(f in i)if(i[f]&&i[f].urlList&&0<i[f].urlList.length)for(e=i[f].urlList,g=0;g<e.length;g++){-1<e[g].indexOf("pbt=")?e[g]=e[g].replace(/(pbt=(\w))/,"pbt="+t.trafficType.substr(0,1).toLowerCase()):e[g]+="&pbt="+t.trafficType.substr(0,1).toLowerCase();var r="";"sm"!==t.type?r+="d":r+="s",r+=t.mode.substr(0,1).toLowerCase(),r+=t.device.substr(0,1).toLowerCase(),r+=t.position,-1<e[g].indexOf("pbid=")?e[g]=e[g].replace(/(pbid=(\w\w\w\d))/,"pbid="+r):e[g]+="&pbid="+r}},a.prototype.initVideoTracker=function(t,e){this._videoTrackers={};var i=this.getPBFromPriority(t),r=this.getVideoTrackers();for(var n in r)if(r.hasOwnProperty(n))for(var a=r[n],s=this.buildTrackerUrl(n,i,e),o=0;o<a.length;o++){var d=a[o],c=new l(d);c.addUrl(s),this._videoTrackers[d]=c}},a.prototype._isFireAlways=function(t){return this.isClickTracker(t)},a.prototype._fireTracker=function(t,e){if(this.trackerenabled&&(this._defaultTracker.check(e),t&&t.hasOwnProperty(e))){var i=t[e];if(!i.hasBeenFired()||this._isFireAlways(e))return"function"==typeof this.externalLogsCallback&&this.externalLogsCallback(e),i.fire()}},a.prototype.fireVideoTracker=function(t){return this._fireTracker(this._videoTrackers,t)},a.prototype.fireCommonTracker=function(t){return this._fireTracker(this._commonTrackers,t)},a.prototype.fireOpportunity=function(){return this.fireCommonTracker(a.OPPORTUNITY_TRACKER_NAME)},a.prototype.fireContainerSizeError=function(){return this.fireCommonTracker(a.CONTAINER_SIZE_ERROR_TRACKER_NAME)},a.prototype.fireRequest=function(){return this.fireCommonTracker(a.REQUEST_TRACKER_NAME)},a.prototype.fireEffective=function(){return this.fireCommonTracker(a.EFFECTIVE_TRACKER_NAME)},a.prototype.fireViewAbility=function(){return this.fireCommonTracker(a.VIEW_ABILITY_TRACKER_NAME)},a.prototype.fireUnfilled=function(t,e){var i=this.getKEYS(),r=new l(a.UNFILLED_TRACKER_NAME);if(t&&r.addUrl(this.buildTrackerUrl(i.UNFILLED,1)),e&&r.addUrl(this.buildTrackerUrl(i.UNFILLED,0)),!r.hasBeenFired())return r.fire()},a.prototype.getKEYS=function(){return this.constructor.KEYS||a.KEYS},a.prototype.getCommonTrackers=function(){return this.constructor.COMMON_TRACKER_CHOICES||a.COMMON_TRACKER_CHOICES},a.prototype.getVideoTrackers=function(){return this.constructor.VIDEO_TRACKER_COLLECTION||a.VIDEO_TRACKER_COLLECTION},a.prototype.isValidTracker=function(t,e){return-1<this.getVideoTrackers()[t].indexOf(e)},a.prototype.isSkipTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.SKIP,t)},a.prototype.isClickTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.CLICK,t)},a.prototype.isImpressionTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.IMPRESSION,t)},a.prototype.isVideoStartTracker=function(t){var e=this.getKEYS();return this.isValidTracker(e.VIDEO_START,t)},a.prototype.isBillingTracker=function(t){return this.isImpressionTracker(t)||this.isVideoStartTracker(t)},a.prototype.updateTracker=function(t){var e,i=[{k:"system",l:"AdSystem",value:""},{k:"title",l:"AdTitle",value:""},{k:"category",l:"Category",value:""},{k:"advertiser",l:"Advertiser",value:""},{k:"pricing",l:"Pricing",value:""},{k:"servingid",l:"AdServingId",value:""}];for(e=0;e<i.length;e++){var r="";try{r=t.getElementsByTagName(i[e].l)[0].textContent.trim()}catch(t){}i[e].value=r}this._defaultTracker.updateAdMacro(i)},t.exports=a},function(t,e){function i(t){this.name=t,this._init_()}i.prototype._init_=function(){this.counter=0,this.urlList=[]},i.prototype.reset=function(){this._init_()},i.prototype.hasBeenFired=function(){return 0<this.counter},i.prototype.addUrl=function(t){this.urlList.push(t)},i.prototype._parseUrlToTrigger=function(t){if(t){var e=-1<t.indexOf("&amp;")?t.replace(/&amp;/g,"&"):t;return-1<e.indexOf("videoplaza")&&-1<e.indexOf("s=")?e.replace(/%2F/g,"/"):e}return!1},i.prototype.fire=function(){var i=this;return this.urlList.forEach(function(t){var e=i._parseUrlToTrigger(t);e&&((new Image).src=e)}),this.counter++,this},i.prototype.indexOfUrl=function(t){for(var e=0;e<this.urlList.length;e++)if(-1!==this.urlList[e].indexOf(t))return e;return-1},i.prototype.removeUrl=function(t){var e=this.indexOfUrl(t);-1<e&&this.urlList.splice(e,1)},t.exports=i},function(t,e){function i(t){this.keys=["opportunity","effective","request","impression","complete","firstquartile","midpoint","thirdquartile","click"],this.defaultTrackers=t}i.prototype.check=function(t){if(this.defaultTrackers&&0<this.defaultTrackers.length)for(var e=0;e<this.defaultTrackers.length;e++)this.defaultTrackers[e].event!==this.getKey(t)||this.defaultTrackers[e].fired||this._fire(this.defaultTrackers[e])},i.prototype.updateAdMacro=function(t){if(this.defaultTrackers&&0<this.defaultTrackers.length)for(var e=0;e<this.defaultTrackers.length;e++)if(t)for(var i=0;i<t.length;i++){var r="[ad."+t[i].k+"]",n=t[i].value;this.defaultTrackers[e].data=this.defaultTrackers[e].data.replace(r,n)}},i.prototype.getKey=function(t){for(var e=0;e<this.keys.length;e++)if(this.keys[e].toLowerCase()===t.toLowerCase()||-1<t.toLowerCase().indexOf(this.keys[e]))return this.keys[e].toLowerCase();return""},i.prototype._fire=function(t){try{switch(t.type.toLowerCase()){case"image":(new Image).src=t.data;break;case"script":var e,i,r=document.createElement("div");if(r.innerHTML=t.data,(e=r.getElementsByTagName("script"))&&0<e.length){for(var n=0;n<e.length;n++)i=document.createElement("script"),e[n].src?i.src=e[n].src:window.eval(e[n].innerHTML);document.getElementsByTagName("head")[0].appendChild(i)}break;case"html":var a=document.createElement("div");a.innerHTML=t.data,document.body.appendChild(a)}}catch(n){}t.fired=!0},t.exports=i},function(t,e,i){var h=i(6),p=i(14),u=i(19),m=i(10),f=i(7),v=i(20),g=i(3),y=i(22),S=i(31),T=i(9);function r(s,a,o,t,e,d){(o=g.extend({skip:!0,skipTime:20,autoplay:!0,audio:!1,prefetch:!1},o)).autoplay=!1,this.config=o,this.api=d,this.muted=!o.audio,this._skip=this.config.skip;var c=this;this.playBackIntervalName="playBackTimer",this.intervalManager=new p,this.release="4.1",this.files=h.SDK_ICO_PATH,this.volumeSwitched=!1,this.adCurrentTime=0,this.mainWidth=0,this.mainHeight=0,this.ava_enabled=!1,this.state="init",this.plugin=s,this.device=t,this.isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this.oversafari="init",this.win=e,this.cssfiles=g.memoize(g.getBasePathMainJS)()+"css/";var i="number"!=typeof o.initialWidth?Math.round(a.getBoundingClientRect().width):o.initialWidth,r=Math.round(360*i/640),n={supplyChain:o.supplyChain,gdprApplies:o.gdprApplies,consentData:o.consentData,category:encodeURIComponent(o.category),height:r,width:i};m.isFacebookApp()&&(n.targeting="FB"),c.urlFeed=new v(n),c.w=i,c.h=r,c.isWebView=u.isWebView();var l=c.isWebView?"hidden":"visible";this.toggleVolume=function(){this._setVolume(!this.muted)},this.onMouseEnter=function(){this._setVolume(!1)},this.onMouseLeave=function(){this._setVolume(!0)},this._setVolume=function(t){this.setVolume(t),this.volumeSwitched=!0},this.setVolume=function(t,e){if(!this.vast||!this.adCurrentTime||"playing"!==this.state&&!0!==this.isAdFactory)return!1;if(this.muted=t,e=void 0!==e?e:1,"playing"===this.state||"paused"===this.state){this.vast.setVolume(this.muted?0:e),this.adPlayer.volume=t?0:e;var i=this.muted?"on":"off";this.adVolume.style.backgroundImage="url('"+this.files+"sound-"+i+".png')"}},this.loadTag=function(t,e){c.urlFeed.addMultiformatUrls(t,e,this.device)},this.setTagPriority=function(t){c.urlFeed.setTagPriority(t)},this.setTagPriorityToSunMedia=function(){c.urlFeed.setTagPriorityToSunMedia()},this.start=function(){c.platformAdImpressionEmitted=!1,c._urlFeedBlockHasBeenChanged=!1,c.urlFeed.reset(),c.vast=new y(c.plugin,c.adVpaid,c.adPlayer,"",c.urlFeed,o,c.device,d),c.vast.addListener("all",c),this.addStyleSheet(),(SMCurrentPlayer=this).auxBanner.style.display="none",this.adPlayer.style.display="block";try{this.vast.getVastRequest()}catch(t){g.debug(t,g.debugLevel.ERROR)}},this.startMobile=function(){"prefetch"===this.state&&this.vast.loadAd()},this.addStyleSheet=function(){var t=this.device.desktop()?"SMPlayer_d":"SMPlayer_m";if(!this.win.document.getElementById(t)){var e='<link id="'+t+'" href="'+(h.SDK_CSS_PATH+"SMVast/"+t+".css")+'" rel="stylesheet" type="text/css">';this.win.document.head.insertAdjacentHTML("beforeend",e)}},this.blockerOnClick=function(){this.vast&&this.vast.clickVastVideo()},this.prepareCreative=function(){var t=c.vast.mediaFileSelected&&c.vast.mediaFileSelected["@width"]?c.vast.mediaFileSelected["@width"]:640,e=c.vast.mediaFileSelected&&c.vast.mediaFileSelected["@height"]?c.vast.mediaFileSelected["@height"]:360;c.ratio=Math.round(100*c.getRatio(t,e))/100,c.creativeHeightOut=0;var i,r=this.vast.currentTagUrl;-1<r.indexOf("nvvtlsm")&&((i=parseInt(r.substr(r.indexOf("nvvtlsm=")+8,1),10))&&1===i&&(c.ratio=1.77));switch(c.ratio){case 1.77:c.creativeHeightOut=360*c.w/640,c.creativeType="normal";break;case 1.33:c.creativeHeightOut=360*c.w/480,c.creativeType="square";break;case.56:c.creativeHeightOut=540*c.w/304,c.creativeType="vertical";break;case.57:c.creativeHeightOut=576*c.w/326,c.creativeType="vertical";break;default:c.creativeHeightOut=360*c.w/640,c.creativeType="normal"}},this.on=function(t,e){switch(t){case"AdLoaded":e&&e.width&&e.height&&(c.w=e.width,c.h=e.height),this.prepareCreative(),"vertical"===c.creativeType&&(this.adPlayer.style.backgroundColor="transparent",c.emit(h.EVENTS.SM.UPDATE_CONFIG_OPTIONS,{ava:!1}),this.adPlayer.parentNode.className="SMMaximize_"+this.api);break;case"AdStarted":if("vertical"===c.creativeType&&c.emit(h.EVENTS.AD_FACTORY,{provider:"Creative",type:c.creativeType,width:this.w,height:c.creativeHeightOut,responsive:!0}),this.adPlayer.style.backgroundColor="#000",c.isWebView&&(c.adPlayer.style.visibility="visible"),c.toggleButtons("block"),c.vast.isVPAID)try{if("mobile"===c.device.mobileDesktop)c.adPlayer.onclick&&"function"==typeof c.adPlayer.onclick&&-1===c.adPlayer.click.toString().indexOf("[native code]")?c.adVpaid.style.zIndex=0:c.adPlayer.click&&"function"==typeof c.adPlayer.click&&-1===c.adPlayer.click.toString().indexOf("[native code]")?c.adVpaid.style.zIndex=0:!1===c.checkVpaidContainer()?c.adVpaid.style.zIndex=0:c.adVpaid.style.zIndex=3,c.blocker.style.zIndex=0;else{c.adVpaid.style.zIndex=3,c.blocker.style.zIndex=0;var r=document.createElement("style");r.innerHTML="body { cursor: pointer !important;}body * { cursor: pointer !important;}";var i=document.getElementById("SMVPAIDContainer_"+d).getElementsByTagName("iframe"),n=function(t){var e;for(e=0;e<t.length;e++){var i=t[e];if(!i.src||-1===i.src.indexOf("http")&&-1===i.src.indexOf(".js"))try{i.contentWindow&&(i.contentWindow.document.getElementsByTagName("head")[0].appendChild(r),0<i.contentWindow.document.getElementsByTagName("iframe").length&&n(i.contentWindow.document.getElementsByTagName("iframe")))}catch(t){}}}}n(i)}catch(t){}else c.vast.IMA?(c.adVpaid.style.zIndex=0,c.blocker.style.zIndex=0):(c.vast.isYoutube?c.adVpaid.style.zIndex=3:c.adVpaid.style.zIndex=0,c.blocker.style.zIndex=3,c.blocker.onclick=this.blockerOnClick.bind(this));c.initButtons(),c.state="playing",T.isAMP()||c.checkFrames(),c.emit("AdPlaying"),c._setPlayBackTimerInterval(),"mobile"!==c.device.mobileDesktop||"SMIntext"!==s&&"SMInHome"!==s||(c.isSelectedRichAudienceTag=m.isSelectedRichAudienceTag(c.vast.currentTagUrl),c.isSelectedMondelezTag=m.isSelectedMondelezTag(c.vast.currentTagUrl),c.isSelectedSpotxTag=m.isSelectedSpotxChangeTag(c.vast.currentTagUrl),c.isSelectedSpotxTag||c.isSelectedRichAudienceTag?(c.config.skip=!1,setTimeout(function(){c.setVolume(!1,.001)},2e3)):c.isSelectedMondelezTag&&(c.config.skip=!1,setTimeout(function(){c.setVolume(!1,.001)},2e3))),c.muted||setTimeout(function(){c.setVolume(!1)},1e3);break;case"NoVideoReminderImpression":this.platformAdImpressionEmitted||(this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_IMPRESSION),this.platformAdImpressionEmitted=!0);break;case"AdSkipped":case"AdVideoComplete":case"AdError":this.config.skip=this._skip,this.isAdFactory=!1,this.disableButtons=!1,c.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",this.adPlayer.style.display="block";break;case"AdComplete":!0===e.fireUnfilledTrackers&&c.emit(h.EVENTS.SM.UNFILLED);var a=!1;if(0===e.playedAdsCount&&o.pod&&!c._urlFeedBlockHasBeenChanged&&(c._urlFeedBlockHasBeenChanged=!0,c.urlFeed.changeFeedList())){a=!0,c.emit(h.EVENTS.SM.TAGS_BLOCK_CHANGED);try{c.vast.getVastRequest()}catch(t){g.debug(t,g.debugLevel.ERROR)}}if(a)return;c.toggleButtons("none"),this.adPlayer.style.backgroundColor="transparent",c._stopPlayBackTimerInterval(),c.fullscreen&&"smpvplayer"!==this.plugin&&this.exitFullscreen(),c.vast=null;break;case"AdClickThru":c.pauseAd(),e&&e[0]&&e[0].playing&&setTimeout(function(){g.setWindowFocusDetection(c.checkWindowFocus)},500);break;case"AdPaused":if("end"===c.state)return;c.state="paused",c.setPlayBtnDisplay("block"),c._stopPlayBackTimerInterval();break;case"AdPlaying":if("end"===c.state)return;c.state="playing","first"!==c.oversafari&&c.setPlayBtnDisplay("none"),this.adPlayer.style.backgroundColor="#000",c._setPlayBackTimerInterval();break;case"AdDurationChange":break;case"AdEnded":if(this.config.skip=this._skip,0===e.playedAdsCount&&o.pod&&!c._urlFeedBlockHasBeenChanged)return;c.state="end",c.toggleButtons("none");break;case"SMImaLoaded":break;case"AdVideoStart":c.state="playing";break;case"AdPrefetch":c.state="prefetch";break;case"AdRemainingTimeChange":break;case"AdVideoFirstQuartile":this.emitBillingTrackers();break;case h.EVENTS.SM.UPDATE_CONFIG_OPTIONS:e.hasOwnProperty("sound")&&(c.smAudioOn=e.sound),e.hasOwnProperty("skip")&&(c.config.skip=e.skip);break;case h.EVENTS.AD_FACTORY:this.onAdFactory(e);break;case h.EVENTS.AD_FACTORY_IMPRESSION:this.emitBillingTrackers()}c.emit(t,e)},this.checkVpaidContainer=function(){var t,e,i=this.win.document.getElementById("vpaid_creative_"+d),r=!1;if(i&&(t=i.contentWindow.document.body)&&t.childNodes&&0<t.childNodes.length)for(e=0;e<t.childNodes.length;e++)if(t.childNodes[e]&&t.childNodes[e].tagName&&"script"!==t.childNodes[e].tagName.toLowerCase()){r="ias-ad"!==t.childNodes[e].tagName.toLowerCase();break}return r},this.getRatio=function(t,e){return t/e},this.checkFrames=function(){try{var t=a.getElementsByTagName("iframe");if(t&&0<t.length)for(var e=0;e<t.length;e++)"absolute"!==t[e].style.position&&(t[e].style.position="absolute"),t[e].style.top="0px",t[e].style.left="0px",t[e].style.width=this.adPlayer.offsetWidth+"px",t[e].style.height=this.adPlayer.offsetHeight+"px"}catch(t){}},this.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.requestFullscreen=function(){var t=a;t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullscreen()},this.onFullscreenChange=function(){var t,e,i;this.fullscreen?(this.fullscreen=!1,t="on",f.removeClassFromElement(a,"fullscreenOn"),this.emit(h.EVENTS.SM.PLAYER_FULLSCREEN_EXIT)):(this.fullscreen=!0,a.className="fullscreenOn",i=360*(e=window.innerWidth)/640,t="out",this.resize(e,i,"fullscreen")),this.fullscreenBtn.style.backgroundImage="url('"+this.files+"fullscreen-"+t+".png')"},this.setCreativeSize=function(t,e,i){this.ratio=i,this.mainWidth=t,this.mainHeight=e,this.mainAvaWidth=400,this.mainAvaHeight=400*e/t},this.removeCurrentAd=function(){this.adPlayer.src="";try{this.adVpaid.firstChild.style.display="none"}catch(t){}},this.doRestart=function(){this.vast&&this.vast.requestTracker&&(this.vast.requestTracker=!1),this.emit("AdReplay"),this.start(),this.platformAdImpressionEmitted=!1,this.adPlayer.style.display="block"},this.displayRestart=function(t){var e=this.auxBanner,i=document.createElement("div");if(i.className="replay",(this.restartButton=i).onclick=function(){i.style.display="none",c.doRestart()}.bind(this),e.appendChild(i),t){var r=document.createElement("div");r.setAttribute("id","closeButton"),r.setAttribute("class","closeButton"),r.onclick=function(){i.style.display="none",e.removeChild(r),t()},r.style.display="block",e.appendChild(r)}this.adPlayer.style.display="none",this.auxBanner.style.display="block"},this.resize=function(t,e,i,r){return!("playing"!==this.state&&"paused"!==this.state&&!r)&&(parseInt(t,10)&&parseInt(e,10)?(i=i||"normal",this.h=e,this.w=t,a.height=e,a.style.height=e+"px",a.width=t,a.style.width=t+"px",this.vast&&this.vast.resizeAd(t,e,i),e):void 0)},this.pauseAd=function(){try{this.vast.pauseAd()}catch(t){}try{this.videoHasSource(c.adPlayer)&&this.adPlayer.pause()}catch(t){}},this.resumeAd=function(){try{c.vast.resumeAd()}catch(t){}try{c.adPlayer.paused&&this.videoHasSource(c.adPlayer)&&c.adPlayer.play()}catch(t){}},this.videoHasSource=function(t){if(!t)return!1;if(t.src)return!0;var e=t.getElementsByTagName("source");if(e)for(var i=0;i<e.length;i++)if(e[i]&&e[i].src)return!0;return!1},this.checkWindowFocus=function(t){"visible"===document.visibilityState&&(g.removeWindowFocusDetection(),c.resumeAd())},function(){var t=function(t,e){var i=document.createElement(t);for(var r in e)e.hasOwnProperty(r)&&i.setAttribute(r,e[r]);return i},e=c.plugin+"_Player_"+d,i=a;if(i.innerHTML='<video id="'+e+'" class="SMPlayer" style="visibility: '+l+'" autoplay muted playsinline webkit-playsinline></video>',c.adPlayer=c.win.document.getElementById(e),!c.adPlayer)try{c.adPlayer=c.win.parent.document.getElementById(e),c.adPlayer&&(c.win=c.win.parent)}catch(t){}c.adPlayer||c.emit("AdError"),c.adVpaid=i.appendChild(t("div",{id:c.plugin+"_vpaid_"+d,class:"SMPlayer_vpaid"})),c.blocker=i.appendChild(t("div",{id:c.plugin+"_blocker_"+d,class:"SMPlayer_blocker"})),c.adVolume=i.appendChild(t("div",{id:c.plugin+"_Audio_"+d,class:"SMPlayer_Audio"})),c.fullscreenBtn=i.appendChild(t("div",{id:c.plugin+"_Resize_"+d,class:"SMPlayer_Resize"})),c.skipBtn=i.appendChild(t("div",{id:c.plugin+"_Skip_"+d,class:"SMPlayer_Skip"})),c.remaining=i.appendChild(t("div",{id:c.plugin+"_remaining_"+d,class:"SMPlayer_remaining"})),c.label=i.appendChild(t("div",{id:c.plugin+"_label_"+d,class:"SMPlayer_label"})),c.playBtn=i.appendChild(t("div",{id:c.plugin+"_playBtn_"+d,class:"SMPlayer_playBtn"})),c.auxBanner=i.appendChild(t("div",{id:c.plugin+"_AuxBanner_"+d,class:"SMAuxBanner"})),c.adVolume.onclick=c.toggleVolume.bind(c),c.adPlayer.addEventListener("playing",function(){try{c.vast&&!c.vast.clientStarted&&this.pause()}catch(t){}},!1),c.playBtn.onclick=function(){c.setPlayBtnDisplay("none"),c.oversafari="done",c.resumeAd()},c.label.onclick=function(){},c.fullscreenBtn.onclick=function(){c.fullscreen?c.exitFullscreen():c.requestFullscreen()};var r=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange"];for(var n in r)document.addEventListener(r[n],c.onFullscreenChange.bind(c),!1)}(),g.extend(this,new S)}r.prototype.setPlayBtnDisplay=function(t){!0!==this.disableButtons&&(this.playBtn.style.display=t)},r.prototype._updateButtons=function(t,e,i){try{var r=Math.round(100*e/t);r||(r=1);var n=this.remaining.querySelector("#SMPlayer_bar_"+this.api),a=n.getAttribute("r"),s=(100-r)/100*(Math.PI*(2*a));if(n.style.strokeDashoffset=-1*s,this.remaining.querySelector("#SMPlayer_Currenttime_"+this.api).textContent=isNaN(i)?0:i,this.config.skip&&e>=this.config.skipTime&&(!this.skipBtn.style.display||"none"===this.skipBtn.style.display)){this.skipBtn.style.display="block",this.skipBtn.style.cursor="pointer";var o=this;o.skipBtn.onclick=function(){o.skipBtn.style.display="none",o.vast.skipAd()}}}catch(t){}},r.prototype._updatePlayTimer=function(){try{if(this.vast){if(this.isAdFactory&&"playing"!==this.state&&2<this.adCurrentTime)return;var t=this.vast.getDuration(),e=this.vast.getRemainingTime(),i=t-e;this.duration=t,this.adCurrentTime=i,e<this.duration&&0===this.adCurrentTime?this.emit("AdRemainingTimeChange",e):this.emit("AdRemainingTimeChange",this.adCurrentTime),this.vast&&!0!==this.disableButtons&&this._updateButtons(this.duration,this.adCurrentTime,e),2<this.adCurrentTime&&this.emitBillingTrackers()}}catch(t){}},r.prototype.emitBillingTrackers=function(){this.platformAdImpressionEmitted||(this.vast.setStart(),this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_IMPRESSION),this.emit(h.EVENTS.SM.TRACKER,h.TRACKERS.AD_VIDEOSTART),this.platformAdImpressionEmitted=!0)},r.prototype.initButtons=function(){!0!==this.disableButtons&&(this.remaining.style.display="block");var t=this.plugin+"_svg_"+this.api,e=this.plugin+"_bar_bg_"+this.api;this.remaining.innerHTML='<svg id="'+t+'" preserveAspectRatio="xMidYMid" viewport="0 0 100 100" viewBox="0 0 34 34">\t      <defs><linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\t        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\t        <stop offset="100%"  stop-color="#333" stop-opacity="0"></stop>\t      </linearGradient></defs>\t      <circle id="'+e+'" r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2">\t      </circle>\t      <circle id="SMPlayer_bar_'+this.api+'" r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\t      <text id="SMPlayer_Currenttime_'+this.api+'" \t        style="font-size:10px;fill:#ffffff" text-anchor="middle" y="21" x="17">0</text>\t    </svg>'},r.prototype.toggleButtons=function(t){if(!0!==this.disableButtons)for(var e="none"===t?[this.adVolume,this.fullscreenBtn,this.skipBtn,this.remaining,this.label,this.playBtn]:[this.adVolume,this.fullscreenBtn,this.remaining,this.label],i=0;i<e.length;i++)"mobile"===this.device.mobileDesktop&&e[i]===this.fullscreenBtn||(e[i].style.display=t);"smpvplayer"===this.plugin&&(this.fullscreenBtn.style.display="none")},r.prototype.onAdFactory=function(t){"SM"===t.provider&&(this.isAdFactory=!0,this.toggleButtons("none"),this.adPlayer.style.display="none","Video"!==t.type?this.disableButtons=!0:(this.disableButtons=!1,this.label.style.left="1.5%",this.skipBtn.style.left="10%"),this.vast.adFactoryInitialize(this.plugin))},r.prototype._setPlayBackTimerInterval=function(){this.intervalManager.addInterval(this.playBackIntervalName,this._updatePlayTimer.bind(this),1e3)},r.prototype._stopPlayBackTimerInterval=function(){this.intervalManager.stopInterval(this.playBackIntervalName)},t.exports=r},function(u,t){(function(n){function t(t){return-1!==window.uAgent.indexOf(t)}function e(){return t("windows")}function i(){return e()&&t("phone")}function r(){return t("ipod")}function a(){return t("ipad")}function s(){return!e()&&t("iphone")}function o(){return!e()&&t("android")}function d(){return t("blackberry")||t("bb10")||t("rim")}function c(){return(t("(mobile;")||t("(tablet;"))&&t("; rv:")}function l(){return o()&&t("mobile")||s()||r()||i()||d()&&!t("tablet")||c()&&t("mobile")||t("meego")}function h(){return a()||o()&&!t("mobile")||d()&&t("tablet")||e()&&t("touch")&&!i()||c()&&t("tablet")}function p(r,t){var e=function(t){try{return e=r.split(t)[1].trim().split(/[^\w\.]/)[0],i=e.split(/[\._]/),(parseInt(i[0],10)||0)+"."+(parseInt(i[1],10)||0)+"."+(parseInt(i[2],10)||0)}catch(t){}var e,i;return"0.0.0"};switch(t){case"Chrome for iOS":return e("CriOS/");case"Edge":return e("Edge/");case"Chrome":return e("Chrome/");case"Firefox":return e("Firefox/");case"Silk":return e("Silk/");case"AOSP":return e("Version/");case"IE":return/IEMobile/.test(r)?e("IEMobile/"):/MSIE/.test(r)?e("MSIE "):e("rv:");case"Safari":return e("Version/");case"WebKit":return e("WebKit/")}return"0.0.0"}window.uAgent=window.navigator.userAgent.toLowerCase(),u.exports={isIpad:a,isIphone:s,isAndroid:o,isWindows:e,isWebView:function(){var t=window.navigator.userAgent,e=function(t){switch(!0){case/Android/.test(t):return"Android";case/iPhone|iPad|iPod/.test(t):return"iOS";case/Windows/.test(t):return"Windows";case/Mac OS X/.test(t):return"Mac";case/CrOS/.test(t):return"Chrome OS";case/Firefox/.test(t):return"Firefox OS"}return""}(t),i=function(t){var e=/Android/.test(t);switch(!0){case/CriOS/.test(t):return"Chrome for iOS";case/Edge/.test(t):return"Edge";case e&&/Silk\//.test(t):return"Silk";case/Chrome/.test(t):return"Chrome";case/Firefox/.test(t):return"Firefox";case e:return"AOSP";case/MSIE|Trident/.test(t):return"IE";case/Safari\//.test(t):return"Safari";case/AppleWebKit/.test(t):return"WebKit"}return""}(t),r=p(t,i);switch(e+i){case"iOSSafari":return!1;case"iOSWebKit":return!("fullscreenEnabled"in document||"webkitFullscreenEnabled"in document);case"AndroidAOSP":return!1;case"AndroidChrome":return 42<=parseFloat(r)?/; wv/.test(t):!!/\d{2}\.0\.0/.test(r)||!("requestFileSystem"in n||"webkitRequestFileSystem"in n)}return!1},isMobile:l,isTablet:h,isDesktop:function(){return!h()&&!l()}}}).call(t,function(){return this}())},function(t,e,i){var r=i(21);function n(t){this._macrosValues=t,this.init()}n.prototype.setTagPriority=function(t){this.priority=t,this._urlList="sm"===this.priority?this._sunMediaList:this._clientList},n.prototype.init=function(){this._urlList=[],this._sunMediaList=[],this._clientList=[],this.reset()},n.prototype.reset=function(){this._currentSeqIndex=0,this._currentUrlIndex=0,this.priority&&this.setTagPriority(this.priority)},n.prototype.changeFeedList=function(){return this.priority="sm"===this.priority?"c":"sm",this.reset(),0<this._urlList.length},n.prototype.next=function(){if(this._currentSeqIndex>=this._urlList.length)return!1;this._currentUrlIndex>=this._urlList[this._currentSeqIndex].length&&(this._currentSeqIndex++,this._currentUrlIndex=0);try{var t=this._urlList[this._currentSeqIndex][this._currentUrlIndex++],e=r.parseUrl(t.url,this._macrosValues);if(e){var i=Object.assign({},t);return i.url=e,i}return this.next()}catch(t){return!1}},n.prototype.addUrlToCurrent=function(t){return this._urlList[this._currentSeqIndex].push(t)},n.prototype._formatUrl=function(t,e,i,r,n,a,s,o){e=e||1;for(var d=[],c=0;c<e;c++)d.push({url:t,wrapper:!1,passback:-1,type:i||"sm",mode:r||"vast",trafficType:a||"DIRECT",device:s||this.device,position:o||0,owner:n});return d},n.prototype.addUrl=function(t,e){this._urlList.push(this._formatUrl(t,e))},n.prototype._formatSeq=function(t,e){var i=this;return t.map(function(t){return{url:t.url,wrapper:!1,passback:-1,type:t.type,mode:t.mode||"vast",trafficType:t.trafficType||"DIRECT",device:t.device||i.device,position:t.position||0,owner:e}}).filter(function(t){return{url:t.url,type:t.type||"sm",owner:e}})},n.prototype.addSequence=function(t){this._urlList.push(this._formatSeq(t))},n.prototype._buildUrlList=function(t,o){var d=this;return("string"==typeof t?[t]:t).map(function(t){var e=typeof t;if("string"===e)return d._formatUrl(t,null,o,null,o,null,d.device);if("object"===e&&t instanceof Array)return d._formatSeq(t,o);var i=t.type||"sm",r=t.trafficType||"DIRECT",n=t.mode||"vast",a=t.device||d.device,s=t.position||0;return d._formatUrl(t.url,t.repeat,i,n,o,r,a,s)})},n.prototype.addMultiformatUrls=function(t,e,i){if(this.device=i.mobileDesktop,void 0===this.device)try{this.device=i.desktop()?"desktop":"mobile"}catch(t){}"sm"===e?this._sunMediaList=this._sunMediaList.concat(this._buildUrlList(t,e)):"c"===e&&(this._clientList=this._clientList.concat(this._buildUrlList(t,e)));for(var r=1,n=0;n<this._sunMediaList.length;n++)this._sunMediaList[n][this._currentSeqIndex].type||(this._sunMediaList[n][this._currentSeqIndex].type="sm"),this._sunMediaList[n][this._currentSeqIndex].position||(this._sunMediaList[n][this._currentSeqIndex].position=r,r++)},n.prototype.setTagPriorityToSunMedia=function(){this.setTagPriority("sm"),this._clientList=[]},t.exports=n},function(t,e,i){var n=i(8);function a(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e}function s(t){var e=(t=t.trim()).match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}}t.exports={objectToQuery:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")},queryToObject:function(t){var e=decodeURIComponent(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"');return JSON.parse('{"'+e+'"}')},composeUrl:a,decomposeUrl:s,parseUrl:function(t,e){var i=s(t);if("https"!==i.protocol)return!1;var r=a(i);return n.replace(r,e)},isIMA:function(t){return s(t).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var w=i(6),o=i(23),d=i(26),v=(i(28),i(29)),c=i(31),C=i(32),I=(i(33),i(34)),_=i(35),M=i(36),x=i(40),P=i(41),O=i(42),l=i(3),g=i(30);function r(t,e,i,S,r,n,a,T){var A,E,b,k=this;this.plugin=t,this.slot=e,this.videoSlot=i,this.options=n,this.duration=0,this.prefetch=n.prefetch||!1,this.adStack=[],this.playedAdsCount=0,this.device=a,this.reminderAd={},this.completed=!1,this.requestTracker=!1,this.fireUnfilledTrackers=!1,this.blur=!1,this.wrapperlevel=0,this.api=T,this._urlFeed=r,this._trackerStack=new d,this._mainTrackerStack=new d,this.eventsListened={},this.getVastRequest=function(t){if(this.IMA=!1,this.isVPAID=!1,this.isYoutube=!1,this.clientStarted=!1,t||(t=this._urlFeed.next()),!t)return l.debug("TOTAL: "+this.playedAdsCount+" ADS PLAYED"),l.debug("AD PLAYBACK END"),void k.endExecution();k.requestTracker||(k.requestTracker=!0,k.emit("SMAdRequest")),this.currentTag=t;var e=this.getTagUrl(t);if(this.currentTagUrl=e,t.waterfall||this.emit("changeBillingPB",t),"https://novideoreminder.com/"===e)return this.playedAdsCount=1,this.startTracking(),this.emit("NoVideoReminderImpression"),void this.endExecution(this.reminderAd);this.badFormedURL=!1;try{-1<e.indexOf("spotxchange")&&-1===e.indexOf("&ad_volume")&&(e+="&ad_volume=0");o.getTag(e,null,null,function(t){k.setAd(t.body)},function(t){k._errorRequestCallback("error on request",t)})}catch(t){k._errorRequestCallback("programmatic error on request",t)}},this.setAd=function(t){if(!(t=(b=new v(t)).select("VAST Ad")).length)return A||(k.fireUnfilledTrackers=!0),0!==this.wrapperlevel&&(this.wrapperlevel=0,A&&k._trackerStack.removeVideoPlazaFromErrorTracker(),k.fireTracker("AdError"),k._trackerStack.reset()),void this.loadAd();try{for(var e=0;e<t.length;e++){var i;if((i=b.select("InLine",t[e])).length)this.updateSDKOptionsFromTag(t[e],b),this.adReady(i[0]);else if((i=b.select("Wrapper VASTAdTagURI",t[e])).length){this.updateSDKOptionsFromTag(t[e],b);var r=b.toJson(i)[0].VASTAdTagURI.$,n=this._urlFeed.addUrlToCurrent({url:r,wrapper:!0,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:this.currentTag.waterfall||0});this.badFormedURL=!1===n;var a=b.select("Impression",t[e]);for(var s in a)a.hasOwnProperty(s)&&this._trackerStack.addImpressionTracker(b.toJson(a)[s].Impression.$);var o=b.select("Error",t[e]);for(var d in o)o.hasOwnProperty(d)&&this._trackerStack.addErrorTracker(b.toJson(o)[d].Error.$);var c=b.toJson(b.select("Creative Linear Tracking",t[e]));this._trackerStack.addTrackingEvents(c);var l=b.toJson(b.select("Creative Linear ClickTracking",t[e]));for(var h in l)l.hasOwnProperty(h)&&this._trackerStack.addClickThroughTracker(l[h].ClickTracking.$);var p=b.toJson(b.select("Creative Linear ClickThrough",t[e]));p&&0<p.length&&(this.ClickThrough=p[0].ClickThrough.$),this.wrapperlevel=1;var u=b.toJson(b.select("Creative CompanionAds Companion",t[e]));if(u.length)for(var m=u.map(function(t){return t.Companion}),f=0;f<m.length;f++)"SM_companion"===m[f]["@label"]&&(this.reminderAd[m[f]["@id"]]=m[f]);this.getVastRequest()}else this.loadAd()}}catch(t){if(!(t instanceof g))throw t;t.dump()}},this.setAdWaterfall=function(t){if(!t)return 0!==this.wrapperlevel&&(this.wrapperlevel=0,k.fireTracker("AdError"),k._trackerStack.reset()),void this.loadAd();try{if(t.inLine)this.adReadyInLineWt(t.inLine);else if(t.wrapper){this.getTrackersFromWaterfallAd(t.wrapper);var e={url:t.wrapper.vastadTagURI,device:this.device.mobileDesktop,trafficType:this.currentTag.trafficType||"DIRECT",owner:this.currentTag.owner||"sm",type:this.currentTag.type||"sm",mode:this.currentTag.mode||"vast",position:this.currentTag.position||1,waterfall:!0};this.getVastRequest(e)}else this.loadAd()}catch(t){if(!(t instanceof g))throw t;t.dump()}},this.makeCustomVPCreative=function(t){},this.adReady=function(t){this.emit(w.EVENTS.SM.UPDATE_TRACKER,t),this.isVPAID=!1,this.wrapperlevel=0;var e=b.select("Creative MediaFile",t),i=b.select("Creative InteractiveCreativeFile",t);if(!e.length&&!i.length)throw new C(101);var r=b.toJson(b.select("Impression",t));for(var n in r)r.hasOwnProperty(n)&&this._trackerStack.addImpressionTracker(r[n].Impression.$);var a=b.toJson(b.select("Error",t));for(var s in a)a.hasOwnProperty(s)&&(this.InVPAIDSunMedia?this._trackerStack.addTracker("InVpaidError",a[s].Error.$):this._trackerStack.addErrorTracker(a[s].Error.$));var o=b.toJson(b.select("Creative Linear Tracking",t));this._trackerStack.addTrackingEvents(o);var d=b.toJson(b.select("Creative Linear ClickTracking",t));for(var c in d)d.hasOwnProperty(c)&&this._trackerStack.addClickThroughTracker(d[c].ClickTracking.$);var l=b.toJson(b.select("Creative Linear ClickThrough",t));l&&0<l.length&&(this.ClickThrough=l[0].ClickThrough.$);var h=b.toJson(b.select("Creative Companion",t));if(S&&h.length){var p=h.map(function(t){return t.Companion});E=new O(p,S)}var u,m,f=b.toJson(e);if(i.length?(u=b.toJson(i)[0].InteractiveCreativeFile,m=!0):(u=this.getMediaFile(f),m=this.adIsVpaid(u)),this.prefetch&&m);else if(this.prefetch);else{if(this.adIsYoutube(u))this.isYoutube=!0,t=new _(u.$,this.slot,T);else if(m){var v=b.toJson(b.select("Creative",t))[0].Creative.Linear.AdParameters;if(-1<u.$.indexOf("passback_vpaid/passback_vpaid")){for(var g in A=new P(v),this.urlWaterFall=A,this._trackerStack.trackers){var y=this._trackerStack.trackers[g];this._mainTrackerStack.addTracker(y.name,y.urlList)}return this.setAdWaterfall(A.next()),!1}this.mediaFileSelected=u,t=new M(u,v?v.$:null,this.videoSlot,"window.parent."+this.getPlugin()+".vast.currentAd.on",k.slot,k,T)}else this.mediaFileSelected=u,t=new x(new I(u.$,this.videoSlot,this.device));this.adStack.push(t)}this.isVPAID=m,this.loadAd()},this.getPlugin=function(){switch(this.plugin){case"SMIntext":return this.plugin+"_"+k.api+".players[0]";default:return"SM"+this.plugin+"."+this.plugin+"_"+k.api+".player"}},this.adReadyInLineWt=function(t){if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){for(var e,i,r=t.creatives.creative[0]&&t.creatives.creative[0].linear.mediaFiles.mediaFile,n=[],a=0,s=0;s<r.length;s++){for(var o in e={},r[s])"value"===o?e.$=r[s][o]:e["@"+o]=r[s][o];n.push({MediaFile:e})}if(t.impression)for(a=0;a<t.impression.length;a++)this._trackerStack.addImpressionTracker(t.impression[a].value);if(t.error)for(a=0;a<t.error.length;a++)t.error[a]&&t.error[a].value&&this._trackerStack.addErrorTracker(t.error[a].value);if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var d;if((i=t.creatives.creative[0].linear).trackingEvents&&0<(d=i.trackingEvents.tracking).length)for(a=0;a<d.length;a++)this._trackerStack.addTrackingEvent(d[a].event,d[a].value);if(i.videoClicks){if(i.videoClicks.clickTracking&&0<(d=i.videoClicks.clickTracking).length)for(a=0;a<d.length;a++)this._trackerStack.addClickThroughTracker(d[a].value);if(i.videoClicks.customClick&&0<(d=i.videoClicks.customClick).length)for(a=0;a<d.length;a++)this._trackerStack.addClickThroughTracker(d[a].value);i.videoClicks.clickThrough&&(this.ClickThrough=i.videoClicks.clickThrough.value)}}this.mediaFileSelected=this.getMediaFile(n),this.adStack.push(new x(new I(this.getMediaFile(n).$,this.videoSlot,this.device))),this.isVPAID=!1,this.loadAd()}else{if(t.impression)for(a=0;a<t.impression.length;a++)this._trackerStack.addErrorTracker(t.impression[a].value);k.fireUnfilledTrackers=!0,this.fireTracker("AdError"),this.loadAd()}},this.loadAd=function(){E&&S&&(S.innerHTML="",E=!1),0<this.adStack.length?(this.currentAd=this.adStack.shift(),this.currentAd.addListener("all",this),this.checkStartVpaid()?this.emit(w.EVENTS.SM.NON_STARTED):this.currentAd.initAd()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(this._trackerStack.reset(),this.setAdWaterfall(this.urlWaterFall.next())):(this._mainTrackerStack.reset(),this.getVastRequest())},this.checkStartVpaid=function(){if(this.IMA)return!1;for(var t=0;t<w.NON_START.length;t++)if(-1<this.mediaFileSelected.$.indexOf(w.NON_START[t]))return!0;return!1},this.adIsVpaid=function(t){return!window.SMIMA&&t&&t["@apiFramework"]&&t["@apiFramework"].match(/^vpaid$/i)||this.adIsVpaidFlash(t)||this.adIsVpaidHTML5(t)},this.adIsYoutube=function(t){var e=e=-1<t.$.indexOf("www.youtube.com");return e};var s=function(t){return t["@mimeType"]?t["@mimeType"]:!!t["@type"]&&t["@type"]};this.adIsVpaidHTML5=function(t){var e=s(t);return e&&e.match(/application\/[x-]{0,2}javascript/)},this.adIsVpaidFlash=function(t){var e=s(t);return e&&"application/x-shockwave-flash"===e},this.getVolume=function(){return this.currentAd?this.currentAd.getVolume():0},this._setVolume=function(t){this.videoSlot.muted=0===t,this.currentAd.setVolume(t)},this.setVolume=function(t){this.currentAd&&this._setVolume(t),1===t&&this._setVolume(t)},this.resumeAd=function(){this.currentAd.resumeAd()},this.pauseAd=function(){this.currentAd.pauseAd()},this.getDuration=function(){try{var t=this.currentAd.getAdDuration();if((!(t=t&&t!==1/0?t:0)||parseInt(t,10)<=0)&&0<parseInt(this.videoSlot.duration,10)&&(t=this.videoSlot.duration),!t||parseInt(t,10)<=0){var e=this.getPlayerPlaying();e&&e.duration&&(t=parseInt(e.duration,10))}return t=Math.round(t),this.duration=t}catch(t){return 0}},this.getRemainingTime=function(){try{var t=this.currentAd.getAdRemainingTime();if(t=t&&t!==1/0?t:0,this.duration&&(!t&&0<this.videoSlot.currentTime&&(t=Math.round(this.duration-this.videoSlot.currentTime)),!t)){var e=this.getPlayerPlaying();e&&e.currentTime&&(t=Math.round(this.duration-parseInt(e.currentTime,10)))}return(t=Math.round(t))<0&&(t=0),this.checkVideoTrackers(t),t}catch(t){return 0}},this.resizeAd=function(t,e,i){this.currentAd&&this.currentAd.resizeAd(Math.round(t),Math.round(e),i)},this.skipAd=function(){try{k.currentAd.skipAd(),setTimeout(function(){k.skipped||k.on("AdSkipped")},1e3)}catch(t){}},this.clickVastVideo=function(t,e){if(t||k.on("AdClickThru"),e){var i=!1;"visible"===window.document.visibilityState?i=!0:window.parent&&"visible"===window.parent.document.visibilityState&&(i=!0),i&&window.open(k.ClickThrough)}else window.open(k.ClickThrough)},this.on=function(t,e){switch(t){case"AdVideoStart":k.startTracking(),k.emit("AdPlaying");break;case"AdStarted":A&&(A=null),-1===this.currentTagUrl.indexOf("https://track.adform.net/serving/videoad/?bn=36381637&v=2")&&k.startTracking(),this.setAutoPlayTerms(this.videoSlot),this.isSpotx()&&this.checkAutoPlayStart(),k.emit(t,e);break;case"AdStopped":k.stopped=!0,k.stopCurrentAd(),k.checkNextAd(),k.emit(t,e);break;case"AdImpression":k.startTracking();break;case"AdSkipped":k.skipped=!0,k.emit(t,e),k._trackerStack.reset(),k.checkNextAd();break;case"AdLoaded":k.completed=!1,k.emit(t,e);break;case"AdRemainingTimeChange":k.clearCheckAutoPlayStartIntInterval();break;case"AdVolumeChange":var i=this.getVolume();if(!i||0!==parseInt(i,10)&&1!==parseInt(i,10)){try{0<this.videoSlot.volume&&(k.emit("AdTracker","unmuted"),k.fireTracker("unmute"))}catch(t){}try{0===this.videoSlot.volume&&(k.emit("AdTracker","muted"),k.fireTracker("mute"))}catch(t){}}else 0===parseInt(i,10)?(k.emit("AdTracker","muted"),k.fireTracker("mute")):(k.emit("AdTracker","unmuted"),k.fireTracker("unmute"));k.emit(t,i);break;case"AdClickThru":k.fireTracker("clickTracking"),e&&e[0]&&"string"==typeof e[0]&&0===e[0].indexOf("http")&&(k.ClickThrough=e[0],k.clickVastVideo(!0,"vpaid")),k.emit(t,e);break;case"AdVideoComplete":if(e&&e[0]&&e[0].provider&&"SM"===e[0].provider&&!1==!!e[0].close)return void k.fireTracker(t);k.completed=!0,k.emit(t,e),setTimeout(function(){k.stopped||k.on("AdStopped")},1e3);break;case"AdPaused":k.emit(t,e);break;case"AdPlaying":k.startTracking(),k.clearCheckAutoPlayStartIntInterval(),k.emit(t,e);break;case"AdError":k.isVPAID&&!k.urlWaterFall&&k.fireTracker("AdError"),k.IMA=!1,k.isVPAID=!1,k.isYoutube=!1,k.clientStarted=!1;try{k.clearCheckAutoPlayStartIntInterval()}catch(t){}this.InVPAIDSunMedia&&this._trackerStack.fireTracker("InVpaidError"),k.started?(k.removeCurrentAd(),k.emit(t,e),k.endExecution()):this.urlWaterFall&&this.urlWaterFall.hasNext()?(k.removeCurrentAd(),k.emit(t,e),k.loadAd()):e&&!e.recoverable&&(k.removeCurrentAd(),k.emit(t,e),k.loadAd());break;case"SMImaLoaded":k.emit(t,e);break;case"AdVideoFirstQuartile":k.startTracking(),k.emit(t,e);break;case"AdVideoMidpoint":k.eventsListened.AdVideoFirstQuartile||k.on("AdVideoFirstQuartile"),k.emit(t,e);break;case"AdVideoThirdQuartile":k.eventsListened.AdVideoMidpoint||k.on("AdVideoMidpoint"),k.emit(t,e);break;case w.EVENTS.AD_FACTORY:case w.EVENTS.AD_FACTORY_IMPRESSION:case w.EVENTS.AD_FACTORY_SSP_VPAID_SIZE:k.emit(t,e)}"AdError"!==t&&k.fireTracker(t),k.eventsListened[t]=!0},this.initAd=function(){if(this.currentAd)try{this.currentAd.initAd()}catch(t){}},this.startAd=function(){if(this.currentAd){this.setAutoPlayTerms(this.videoSlot),this.clientStarted=!0,this.mediaFileSelected&&this.mediaFileSelected.$&&this.isSpotx()&&(this.checkAutoPlayStartInt=setInterval(k.checkAutoPlayStart.bind(k),1));try{this.currentAd.startAd()}catch(t){}}},this.isSpotx=function(){var t=!1;if(b){var e=b.select("AdSystem",this.ad)[0];this.mediaFileSelected&&this.mediaFileSelected.$&&(t=-1<this.mediaFileSelected.$.indexOf("spotxcdn.com")||e&&"SpotXchange"===e.innerHTML||-1<this.mediaFileSelected.$.indexOf("beta.js"))}return t},this.checkAutoPlayStart=function(){try{if(this.setAutoPlayTerms(this.videoSlot),this.isVPAID);}catch(t){}},l.extend(this,new c)}r.prototype.setAutoPlayTerms=function(t){try{t.muted||(t.muted=!0),t.autoplay||(t.autoplay=!0),0<t.volume&&(t.volume=0)}catch(t){}},r.prototype.clearCheckAutoPlayStartIntInterval=function(){try{this.checkAutoPlayStartInt&&clearInterval(this.checkAutoPlayStartInt)}catch(t){}},r.prototype.fireTracker=function(t){try{var e=this._trackerStack.getTracker(t),i=this._mainTrackerStack.getTracker(t);e&&this._trackerStack.fireTracker(t),i&&this._mainTrackerStack.fireTracker(t),this.emit("AdTracker",t)}catch(t){}},r.prototype.startTracking=function(){this.startTrck||(this.startTrck=!0,this.playedAdsCount++,this.fireTracker("AdImpression"),this.fireTracker("impression"),this.fireTracker("impressions"),this.fireTracker("AdVideoStart"),this.fireTracker("start"),this.fireUnfilledTrackers=!1)},r.prototype.setStart=function(){this.started=!0},r.prototype._errorRequestCallback=function(t,e){t=t||"",this.emit("AdTracker","request_error"),this.on("AdError",{msg:"Ad request failed: "+t,error:e})},r.prototype.getTagUrl=function(t){return t.url},r.prototype.adFactoryInitialize=function(t){try{this.currentAd.adFactoryInitialize(t)}catch(t){}},r.prototype.getTrackersFromWaterfallAd=function(t){var e=0;if(t.impression){var i=t.impression;if("object"==typeof i)for(e=0;e<i.length;e++)this._trackerStack.addImpressionTracker(i[e]);else"string"==typeof i&&this._trackerStack.addImpressionTracker(i)}if(t.error){var r=t.error;if("object"==typeof r)for(e=0;e<r.length;e++)this._trackerStack.addErrorTracker(r[e]);else"string"==typeof r&&this._trackerStack.addErrorTracker(r)}if(t.creatives&&t.creatives.creative[0]&&t.creatives.creative[0].linear){var n=t.creatives.creative[0].linear;if(n.trackingEvents&&0<(a=n.trackingEvents.tracking).length)for(e=0;e<a.length;e++)this._trackerStack.addTrackingEvent(a[e].event,a[e].value);if(n.videoClicks){var a;if(n.videoClicks.clickTracking&&0<(a=n.videoClicks.clickTracking).length)for(e=0;e<a.length;e++)this._trackerStack.addClickThroughTracker(a[e].value);if(n.videoClicks.customClick&&0<(a=n.videoClicks.customClick).length)for(e=0;e<a.length;e++)this._trackerStack.addClickThroughTracker(a[e].value)}}},r.prototype.removeCurrentAd=function(){this.currentAd&&this.currentAd.removeAd()},r.prototype.endExecution=function(t){this.started=!1;var e={};e.playedAdsCount=this.playedAdsCount,e.fireUnfilledTrackers=this.fireUnfilledTrackers||this.badFormedURL||0===this.playedAdsCount;var i=[];try{for(var r in t)t.hasOwnProperty(r)&&i.push(t[r])}catch(t){i=[]}i&&0<i.length&&(e.reminderAds=i),this._trackerStack.reset(),this.emit("AdComplete",e),this.emit("AdEnded",e)},r.prototype.checkNextAd=function(){this.endExecution(this.reminderAd)},r.prototype.stopCurrentAd=function(){this.stopped=!0,this.skipped||(this.eventsListened.AdVideoThirdQuartile||this.on("AdVideoThirdQuartile"),this.started&&(this.fireTracker("complete"),this.fireTracker("AdVideoComplete"))),this._trackerStack.reset()},r.prototype.updateSDKOptionsFromTag=function(t,e){try{var i=e.select("AdTitle",t);if(0<i.length&&(i=i[0].textContent)){var r={};-1!==i.indexOf("SM_NOSKIP")&&(r.skip=!1),-1!==i.indexOf("SM_NOAVA")&&(r.ava=!1),-1!==i.indexOf("SM_AUDIOON")&&(r.sound=!0),-1!==i.indexOf("SM_NORESTART")&&(r.restart=!1),-1!==i.indexOf("InVPAID")&&(this.InVPAIDSunMedia=!0),r!=={}&&this.emit(w.EVENTS.SM.UPDATE_CONFIG_OPTIONS,r)}}catch(t){}},r.prototype.getPlayerPlaying=function(){var t=this.currentAd.vpaidModule.container.getElementsByTagName("iframe"),n=null,a=function(t){var e,i;for(e=0;e<t.length;e++){var r;if(!t[e].src||""===t[e].src||"undefined"===t[e].src||-1===t[e].src.indexOf("http"))try{0<(i=(r=t[e].contentWindow.document).getElementsByTagName("video")).length&&-1<i[0].src.indexOf("http")&&(n=i[0]),n||0<r.getElementsByTagName("iframe").length&&a(r.getElementsByTagName("iframe"))}catch(t){}}};return a(t),n},r.prototype.checkVideoTrackers=function(t){if("number"==typeof this.duration&&0<=this.duration&&"number"==typeof t&&0<=t){if(!this.quartiles){var e=Math.round(this.duration/4);this.quartiles=[e+2,2*e+2,3*e+2]}var i=this.duration-t;if(i!==this.quartiles[0]||this.eventsListened.AdVideoFirstQuartile)if(i!==this.quartiles[1]||this.eventsListened.AdVideoMidpoint)if(i!==this.quartiles[2]||this.eventsListened.AdVideoThirdQuartile){if(i>=this.duration&&this.eventsListened.AdVideoFirstQuartile&&this.eventsListened.AdVideoMidpoint&&this.eventsListened.AdVideoThirdQuartile&&!this.completed&&!this.stopped){var r=this;setTimeout(function(){r.completed||r.on("AdVideoComplete")},2500)}}else this.on("AdVideoThirdQuartile");else this.on("AdVideoMidpoint");else this.on("AdVideoFirstQuartile")}},r.prototype.filterMediaFile=function(t){var e=this.device.desktop(),i=this.device.ios(),r=[],n=[],a=[];for(var s in t)if(t.hasOwnProperty(s)){var o=t[s].MediaFile,d=o.$.split(".").pop().toLowerCase();this.adIsVpaid(o)&&(this.adIsVpaidHTML5(o)||this.adIsVpaidFlash(o))?a.push(o):this.adIsYoutube(o)?n.push(o):e?-1<d.indexOf("mp4")&&r.push(o):(-1<d.indexOf("mp4")||-1<d.indexOf("ogg")||-1<d.indexOf("webm")||-1<d.indexOf("mov")&&i)&&r.push(o)}return{youtubeFiles:n,html5Videos:r,vpaidFiles:a}},r.prototype.getMediaFile=function(t){var e,i=this.filterMediaFile(t),r=i.html5Videos,n=i.youtubeFiles,a=i.vpaidFiles;if(a.length)a.sort(function(t,e){var i=t["@type"].toUpperCase(),r=e["@type"].toUpperCase();return i<r?-1:r<i?1:0}),e=a[0];else if(r.length)if(r.sort(function(t,e){return parseFloat(t["@bitrate"])-parseFloat(e["@bitrate"])}),this.device.desktop()){e=r[0];for(var s=0;s<r.length;s++){var o=parseFloat(r[s]["@bitrate"]),d=parseInt(r[s]["@width"]),c=parseFloat(e["@bitrate"]);o&&512<=o&&o<720&&d&&400<d&&d<800&&c&&c<o&&(e=r[s])}}else e=this.device.tablet()&&1<r.length&&r.length<3?r[1]:r[0];else n.length&&(e=n[0]);return e},t.exports=r},function(t,e,i){var c=i(24),l=i(25);t.exports=function(){var i;return{METHODS:c.METHODS,getTag:function(t,e,i,r,n){return a(t,e=e||{Accept:"*/*"},i,r,n)},get:a};function d(n,t,a,s){t=t||{},n.crossDomain=void 0===t.crossDomain||null===t.crossDomain||t.crossDomain,n.credentials=void 0===t.withCredentials||null===t.withCredentials||t.withCredentials;var e=new c(n),o=function(){if(i)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials&&"undefined"!=typeof XDomainRequest&&(t=new XDomainRequest,i=!0),!t)throw new SMError(102,"Run open before send");return t}();o.onreadystatechange=function(){if(4===o.readyState){var t=e&&e.headers&&e.headers.get?e.headers.get("X-Request-URL"):null,e={url:"responseURL"in o?o.responseURL:t,status:o.status,statusText:o.statusText,headers:o.getAllResponseHeaders()||""},i="response"in o?o.response:o.responseText,r=new l(i,e);404===o.status?"function"==typeof s&&s(new TypeError("Network request failed: Not Found")):o.status<200||400<=o.status?o.withCredentials?(e.withCredentials=!1,d(n,e,a,s)):"function"==typeof s&&s(new TypeError("Network request failed")):"function"==typeof a&&a(r)}},o.onerror=function(){},o.ontimeout=function(){"function"==typeof s&&s(new TypeError("Network request failed"))},i?o.open(e.method,e.url):o.open(e.method,e.url,!0),o.crossDomain=e.crossDomain,o.withCredentials=!0===e.credentials,e.forEachHeaders(function(t,e){o.setRequestHeader(e,t)}),o.send()}function a(t,e,i,r,n){return d({url:t,method:c.METHODS.GET,headers:e},i,r,n)}}()},function(t,e){function i(t){this.url=t.url,this.method=i.normalizeMethod(t.method||"GET"),this.headers=t.headers||{},this.referrer=t.referrer||null,this.credentials=t.credentials||!1,this.crossDomain=!t.hasOwnProperty("crossDomain")||t.crossDomain;var e=t.body;if(("GET"===this.method||"HEAD"===this.method)&&e)throw new TypeError("Body not allowed for GET or HEAD requests")}i.prototype.forEachHeaders=function(t){for(var e in this.headers)this.headers.hasOwnProperty(e)&&t(this.headers[e],e)},i.METHODS={GET:"GET",PUT:"PUT",POST:"POST",PATCH:"PATCH",DELETE:"DELETE"},i.normalizeMethod=function(t){var e=t.toUpperCase();return i.METHODS.hasOwnProperty(e)?e:t},t.exports=i},function(t,e){t.exports=function(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=e.headers,this.url=e.url||"",this.body=t}},function(t,e,i){var r=i(3),n=i(27);function a(){n.call(this)}((a.prototype=Object.create(n.prototype)).constructor=a).prototype.addImpressionTracker=function(t){this.addTracker("AdImpression",t)},a.prototype.addErrorTracker=function(t){this.addTracker("AdError",t)},a.prototype.addClickThroughTracker=function(t){this.addTracker("AdClickThru",t)},a.prototype.addTrackingEvent=function(t,e){var i=a.vastTrackerNameToEvent(t);this.addTracker(i,e)},a.prototype.addTrackingEvents=function(t){for(var e in t)t.hasOwnProperty(e)&&this.addTrackingEvent(t[e].Tracking["@event"],t[e].Tracking.$)},a.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()||"clickTracking"===t.name||"AdClickThru"===t.name},a.prototype.removeVideoPlazaFromErrorTracker=function(){this.removeTrackerUrl("AdError","es-sunicontent.videoplaza.tv")},a.vastTrackerNameToEvent=function(t){var e={impressions:"AdImpression",creativeView:"AdStarted",start:"AdVideoStart",skip:"AdSkipped",acceptInvitation:"AdUserAcceptInvitation",collapse:"AdUserMinimize",close:"AdUserClose",pause:"AdPaused",resume:"AdPlaying",firstQuartile:"AdVideoFirstQuartile",midpoint:"AdVideoMidpoint",thirdQuartile:"AdVideoThirdQuartile",complete:"AdVideoComplete"};return e[t]?e[t]:t.match(/^Ad/)?void 0:"Ad"+r.strUpperFirst(t)},t.exports=a},function(t,e,i){var r=i(16);function n(){this.trackers={}}n.prototype.exits=function(t){return t in this.trackers},n.prototype.getTracker=function(t){return!!this.exits(t)&&this.trackers[t]},n.prototype.reset=function(){for(var t in this.trackers)this.trackers.hasOwnProperty(t)&&this.trackers[t].reset()},n.prototype.addTracker=function(t,e){if(this.exits(t)||(this.trackers[t]=new r(t)),e){"string"==typeof e&&(e=[e]);for(var i=0;i<e.length;i++)this.trackers[t].addUrl(e[i])}},n.prototype.removeTrackerUrl=function(t,e){this.exits(t)&&this.trackers[t].removeUrl(e)},n.prototype.isStackTrackerFireable=function(t){return!t.hasBeenFired()},n.prototype.fireTracker=function(t){if(this.exits(t)){var e=this.trackers[t];if(this.isStackTrackerFireable(e))return e.fire()}return!1},t.exports=n},function(i,t){var a=[{reg:/^description_url$/i,replace:"empty"},{reg:/^(timestamp|random(_number)?)/i,replace:"ran"},{reg:/^referrer_url$/i,replace:"ref"},{reg:/^(ref_url|request.referrerurl|urlenc\(referrerurl\))$/i,replace:"ref_encode"}],r=i.exports={validate:function(t,e){e=r.decompose(e);return("https"!=(t=r.decompose(t)).protocol||"https"==e.protocol)&&i.exports.replaceMacros(t,e)},replaceMacros:function(t,e){if(void 0===e.query)return r.compose(e);var n={ran:Math.floor(1e9*Math.random()),ref:t.host,ref_encode:encodeURIComponent(t.host)};return e.query=e.query.replace(/(\[|%5B|%255B|7B|{|5B)([\w_\.\(\)]+)(\]|%5D|%255D|%7D|})/gi,function(t,e,i){for(k in a){var r=a[k];if(i.match(r.reg))return r.replace in n?n[r.replace]:""}}),r.compose(e)},compose:function(t){var e=t.protocol+"://"+t.host;return void 0!==t.port&&(e+=":"+t.port),void 0!==t.path&&(e+=t.path),void 0!==t.query&&(e+="?"+t.query),void 0!==t.anchor&&(e+="#"+t.anchor),e},decompose:function(t){var e=t.match(/^(https?):\/\/?([^:\/\s]+)(?::(\d+))?([^#?\s]+)(?:\?([^\s#]*))?(?:#([^\s]*))?$/);return!!e&&{protocol:e[1].toLowerCase(),host:e[2],port:e[3],path:e[4],query:e[5],anchor:e[6]}},isIMA:function(t){return(t=r.decompose(t)).host.match(/(googleads\.g|pubads\.g|ad)\.doubleclick\.net|imasdk.googleapis.com/)}}},function(t,e,i){var s=i(30);t.exports=function(t,e){var i;if(e=e||"text/xml",window.DOMParser){var r=new window.DOMParser;i=r.parseFromString(t,e)}else(i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(t);var n=[i.documentElement];this.toJson=function(t,e){return e=e||1/0,(t=t||n)instanceof Array?t.map(function(t){return p(t,e)}):p(v,e)},this.select=function(t,e){return e=e||i,n=Array.prototype.slice.call(e.querySelectorAll(t))};var p=function(t,e){e=e||1/0;var i=[],r=t.tagName,n={};n[r]={};var a=void 0!==t.attributes&&null!==t.attributes&&t.attributes.length,s=void 0!==t.childNodes&&null!==t.childNodes&&t.childNodes.length;if(a)for(var o=0;o<t.attributes.length;o++){var d=t.attributes.item(o);n[r]["@"+d.name]=d.value}if(e--,s&&e){for(var c=0;c<t.childNodes.length;c++){var l=t.childNodes.item(c);if(l.tagName){var h=p(l,e);if(!h)continue;n[r][l.tagName]&&n[r][l.tagName].length?n[r][l.tagName].push(h[l.tagName]):n[r][l.tagName]?n[r][l.tagName]=[n[r][l.tagName],h[l.tagName]]:n[r][l.tagName]=h[l.tagName]}else i.push(l.data.trim())}(i=i.join("")).length&&(n[r].$=i)}return n};if(this.select("parsererror").length){var a={errors:this.toJson(this.select("div")).map(function(t){return t.div.$}),vastCode:100};throw new s(104,"Parser Error",a)}return this}},function(t,e){var r=t.exports=function(t,e,i){return this.code=t||r.CODE.UNKNOWN_ERROR,e&&"string"==typeof e||(e=this.MESSAGES[this.code]),this.data=i||{},this.message=e,this.originalError=new Error(e),this.setOriginalError=function(t){return this.originalError=t,this},this.log=function(){console.error("SMError "+t+": "+e)},this.dump=function(){this.log(),console.log(i,this.originalError.stack)},this};r.MESSAGES={UNKNOWN_ERROR:"Unknown error",100:"Feature not supported",101:"Type error",102:"Precondition failed",103:"Not allowed",104:"VAST Error"}},function(t,e,i){var r=i(30);t.exports=function(){var n={};return this.addListener=function(t,e){if(!e||"function"!=typeof e&&"function"!=typeof e.on)throw new r(101,"The listener must be a function or have an on function",arguments);return"all"===t&&(t="#all"),n[t]?n[t].push(e):n[t]=[e],this.listeners=n,this},this.removeListener=function(t,e){var i=arguments.length;if("all"===t&&(t="#all"),1===i)n[t]={};else if(0===i)n={};else{var r=n[t];r.splice(r.indexOf(e),1)}return this.listeners=n,this},this.emit=function(t){var e=n[t]||[];"object"==typeof n["#all"]&&(e=e.concat(n["#all"]));var i=arguments;return e.forEach(function(t){"function"==typeof t?t(i[0],i[1]):t.on.apply(t,i)}),this},this}},function(t,e,i){var r=i(30),n=i(3);(t.exports=function(t,e,i){return n.extend(this,new r(t,e,i)),this}).MESSAGES={100:"XML parsing error.",101:"VAST schema validation error.",102:"VAST version of response not supported.",200:"Trafficking error. Video player received an Ad type \t\tthat it was not expecting and/or cannot display.",201:"Video player expecting different linearity.",202:"Video player expecting different duration.",203:"Video player expecting different size.",204:"Ad category was required but not provided.",300:"General Wrapper error."}},function(t,e,i){var o=i(3),d=i(31);t.exports=function(t,e,i,r,n,a){var s=this;return this.sdk=e,this.device=n,this.adDisplayContainer,this.adsLoader,this.status="pending",this.videoSlot=i,this.slot=r,this.adUrl=t,this.api=a,this.adUrl.indexOf("skippablelinear")&&!n.desktop()&&(this.adUrl=this.adUrl.replace("skippablelinear","linear")),this.loadingModuleTime=4e4,this.initAd=function(){var t=document.createElement("script");t.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",t.main=this,t.onload=function(){this.main.apiLoaded()},t.onerror=function(){this.main.adError()},document.body.appendChild(t)},this.apiLoaded=function(){try{this.device.desktop()?(!this.videoSlot.muted&&this.videoSlot.paused&&(this.videoSlot.muted=!0),this.videoSlot.autoplay||(this.videoSlot.autoplay=!0)):(this.videoSlot.autoplay=!0,this.videoSlot.muted=!0)}catch(r){}this.emit("SMImaLoaded"),this.loadingModule=setTimeout(this.adError.bind(this,{h:"Loading timeout exceded"}),this.loadingModuleTime);var t,e,i=this.slot.getElementsByTagName("div"),r=!1;for(t=0;t<i.length;t++)i[t].id&&i[t].id==="SMIMAContainer_"+this.api&&(r=!0,e=i[t]);r||((e=document.createElement("div")).setAttribute("style","position:absolute; width:100%; height:100%;z-Index:3;top:0px;left:0px;"),e.id="SMIMAContainer_"+this.api,this.slot.appendChild(e)),this.adContainer=e,google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.videoSlot),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.managerEvent.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adError.bind(this),!1);var n=new google.ima.AdsRequest;n.adTagUrl=this.adUrl;var a=this.adContainer.offsetWidth,s=360*this.adContainer.offsetWidth/640;n.linearAdSlotWidth=a,n.linearAdSlotHeight=s,n.nonLinearAdSlotWidth=a,n.nonLinearAdSlotHeight=s;var o=this.getAdWillAutoPlay();n.setAdWillAutoPlay(o);var d=this.getAdWillPlayMuted();n.setAdWillPlayMuted(d),this.adsLoader.requestAds(n)},this.getAdWillAutoPlay=function(){return this._getParamValue(/(vpa)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this.getAdWillPlayMuted=function(){return this._getParamValue(/(vpmute)(%3d|=)([\w_\.\(\)]+)/gi,!0)},this._getParamValue=function(t,e){var i=t.exec(this.adUrl);return null!==i&&void 0!==i[3]?"1"===i[3]:e},this.managerEvent=function(t){o.debug("IMA MANAGER EVENT",o.debugLevel.INFO);var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0;var i=t.getAdsManager(this.videoSlot,e);i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adEvent.bind(this)),i.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.adEvent.bind(this));var r=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE];for(var n in r)i.addEventListener(r[n],this.adEvent,!1,this);this.videoSlot.load(),this.adDisplayContainer.initialize(),this.adsManager=i;try{i.init(this.adContainer.offsetWidth,this.adContainer.offsetHeight,google.ima.ViewMode.NORMAL)}catch(t){this.adError(t)}},this.adEvent=function(t){var e=this,i={};switch(i[google.ima.AdEvent.Type.CLICK]="AdClick",i[google.ima.AdEvent.Type.MIDPOINT]="AdVideoMidpoint",i[google.ima.AdEvent.Type.FIRST_QUARTILE]="AdVideoFirstQuartile",i[google.ima.AdEvent.Type.THIRD_QUARTILE]="AdVideoThirdQuartile",t.type){case google.ima.AdEvent.Type.LOADED:this.ad=t.getAd(),this.ad.isLinear()?(clearTimeout(this.loadingModule),this.emit("AdLoaded"),this.status="loaded",this.replaceVideos()):o.debug("IMA Not Linear",o.debugLevel.INFO);break;case google.ima.AdEvent.Type.STARTED:this.ad.isLinear()?(this.status="started",this.emit("AdStarted")):this.adError();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:if(this.allAdsCompleted)return;this.allAdsCompleted=!0,setTimeout(function(){"skipped"!==e.status&&"completed"!==e.status&&(e.status="skipped",e.emit("AdSkipped"))},1500);break;case google.ima.AdEvent.Type.COMPLETE:this.ad.isLinear()&&"completed"!==this.status&&setTimeout(function(){e.status="completed",e.adCompleted()},1500);break;case google.ima.AdEvent.Type.USER_CLOSE:setTimeout(function(){"skipped"!==e.status&&(e.status="skipped",e.emit("AdSkipped"),e.adCompleted())},1500);break;case google.ima.AdEvent.Type.CLICK:this.emit("AdClickThru");break;default:"aderror"===t.type.toLowerCase()?this.adError():i[t.type]&&this.emit(i[t.type])}},this.replaceVideos=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&0<t.length)for(var e=0;e<t.length;e++)"absolute"!==t[e].style.position&&(t[e].style.position="absolute"),"0px"!==t[e].style.top&&(t[e].style.top="0px"),"left"!==t[e].style.position&&(t[e].style.left="0px")},this.startAd=function(){this.started=!0,this.adsManager.start(),this.device.android()&&setTimeout(s.checkStart.bind(s),500)},this.checkStart=function(){var t=this.adContainer.getElementsByTagName("video");if(t&&0<t.length)for(var e=0;e<t.length;e++)t[e].autoplay=!0,t[e].setAttribute("autoplay",!0),t[e].setAttribute("muted",!0),t[e].muted=!0,t[e].src&&"loaded"===this.status&&(t[e].load(),this.status="playing",this.emit("AdPlaying"))},this.getAdDuration=function(){return this.ad.getDuration()},this.getAdRemainingTime=function(){return this.adsManager.getRemainingTime()},this.adCompleted=function(){this.status="completed";try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),this.emit("AdVideoComplete")},this.adError=function(t){this.status="error";try{clearInterval(this.loadingModule)}catch(t){}try{clearInterval(this.intervalTimer)}catch(t){}this.adContainer&&this.adContainer.parentNode.removeChild(this.adContainer),t&&t.h?this.emit("AdError",t.h):t?this.emit("AdError",t):this.emit("AdError")},this.getVolume=function(){return this.adsManager.getVolume()},this.setVolume=function(t){this.adsManager.setVolume(t),this.emit("AdVolumeChange")},this.resizeAd=function(t,e,i){try{var r=this.adContainer.getElementsByTagName("iframe");if(r&&0<r.length)for(var n=0;n<r.length;n++)-1<r[n].src.indexOf("imasdk.googleapis.com")&&(r[n].width=t,r[n].style.width=t+"px",r[n].height=e,r[n].style.height=e+"px",r[n].parentNode&&-1===r[n].parentNode.id.indexOf("SMIMAContainer")&&(r[n].parentNode.style.left="50%",r[n].parentNode.style.marginLeft=-t/2+"px",r[n].parentNode.style.top="50%",r[n].parentNode.style.marginTop=-e/2+"px"))}catch(t){}this.adsManager&&this.adsManager.resize(t,e,i)},this.skipAd=function(){this.adsManager.skip()},this.resumeAd=function(){"playing"!==this.status&&(this.adsManager.resume(),this.status="playing",this.emit("AdPlaying"))},this.pauseAd=function(){"pause"!==this.status&&(this.adsManager.pause(),this.status="pause",this.emit("AdPaused"))},this.removeAd=function(){},o.extend(this,new d),this}},function(t,e,i){var o=i(3),d=i(31);t.exports=function(t,e,i){var r,n=this,a=navigator.userAgent.toLowerCase();this.isSafari=/^((?!chrome|android).)*safari/i.test(a),this.videoSlot=e,this.device=i,this.currentTime=0,this.load=function(){this.videoSlot.addEventListener("error",this.onDOMEvent,!1),this.videoSlot.addEventListener("ended",this.onDOMEvent,!1),this.videoSlot.addEventListener("playing",this.onDOMEvent,!1),this.videoSlot.addEventListener("paused",this.onDOMEvent,!1),this.videoSlot.addEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.addEventListener("durationchange",this.onDOMEvent,!1),this.emit("loaded")};var s=function(){if(!n.duration||!r){n.duration=Math.round(n.videoSlot.duration);var t=Math.round(n.duration/4);r=[t,2*t,3*t]}var e=n.currentTime=Math.round(n.videoSlot.currentTime);e===r[0]?n.emit("AdVideoFirstQuartile"):e===r[1]?n.emit("AdVideoMidpoint"):e===r[2]&&n.emit("AdVideoThirdQuartile")};this.pause=function(){clearInterval(this.videoTimer),this.videoSlot.pause(),this.emit("paused")},this.stop=function(){this.pause(),this.videoSlot.currentTime=0,this.videoSlot.removeEventListener("error",this.onDOMEvent,!1),this.videoSlot.removeEventListener("ended",this.onDOMEvent,!1),this.videoSlot.removeEventListener("playing",this.onDOMEvent,!1),this.videoSlot.removeEventListener("paused",this.onDOMEvent,!1),this.videoSlot.removeEventListener("suspend",this.onDOMEvent,!1),this.videoSlot.removeEventListener("durationchange",this.onDOMEvent,!1),this.emit("stopped")},this.play=function(){this.videoSlot.play(),this.videoTimer=setInterval(s,1e3)},this.clearPlayTimeout=function(){try{clearTimeout(this.autoPlayTimeout)}catch(t){}},this.canPlaySrcType=function(t){var e=t.split(".").pop(),i=e.indexOf("?"),r="video/"+(e=-1<i?e.substr(0,i):e);return!this.videoSlot.canPlayType||""!==this.videoSlot.canPlayType(r)},this.startAd=function(){if(!this.canPlaySrcType(t))return this.emit("AdError",{message:"Video can't play"});this.videoSlot.src=t,this.videoSlot.load(),this.videoTimer=setInterval(s,1e3),this.device.ios()&&this.isSafari},this.getDuration=function(){return this.videoSlot.duration},this.getCurrentTime=function(){return this.currentTime},this.getVolume=function(){return this.videoSlot.volume},this.setVolume=function(t){this.videoSlot.muted=0===t,this.videoSlot.volume=t,n.emit("AdVolumeChange")},this.onDOMEvent=function(t){switch(t.type){case"error":n.emit("AdError",{DOMEvent:t}),n.stop(),n.emit("ended",{DOMEvent:t});break;case"ended":n.stop(),n.emit("ended",{DOMEvent:t});break;case"playing":n.playing=!0,n.clearPlayTimeout(),n.emit("playing");break;case"paused":n.emit("paused");break;case"suspend":if(!n.suspend&&!n.playing){if(!n.suspendIntent)return n.suspendIntent=!0,setTimeout(function(){n.playing||n.onDOMEvent({type:"suspend"})},2500),!1;n.suspend=!0,n.device.mobile()?window.document.body.addEventListener("touchstart",function(){n.startWindowTouch()},!1):n.playing||(n.stop(),n.emit("AdError",{DOMEvent:t}))}break;case"durationchange":setTimeout(function(){n.playing||n.onDOMEvent({type:"suspend"})},1500)}},this.startWindowTouch=function(){n.videoSlot.play(),window.document.body.removeEventListener("touchstart",function(){n.startWindowTouch()},!1)},o.extend(this,new d)}},function(t,e,i){var r=i(3),n=i(31);function a(t,e,i){this.api=i,this.slot=e,this.youtubeId=t.substr(t.indexOf("v=")+2),this.containerId="SMYTContainer_"+i,r.extend(this,new n)}a.prototype.tick=function(){var t=this.getAdDuration();this._firstQuartile||(t=Math.round(t),this._firstQuartile=Math.round(t/4),this._midPoint=2*this._firstQuartile,this._thirdQuartile=3*this._firstQuartile);var e=Math.round(this.getCurrentTime());e===this._firstQuartile?this.emit("AdVideoFirstQuartile"):e===this._midPoint?this.emit("AdVideoMidpoint"):e===this._thirdQuartile&&this.emit("AdVideoThirdQuartile")},a.prototype.onStateChange=function(t){t.data===YT.PlayerState.PLAYING?(this.emit("AdPlaying"),this.videoTimer=setInterval(this.tick.bind(this),1e3)):t.data===YT.PlayerState.PAUSED?(this.emit("AdPaused"),clearInterval(this.videoTimer)):t.data===YT.PlayerState.ENDED&&(this.getAdDuration()===this.getCurrentTime()&&this.emit("AdVideoComplete"),this.emit("AdEnded"),clearInterval(this.videoTimer))},a.prototype.initAd=function(){var t=document.createElement("div");t.id=this.containerId,this.slot.appendChild(t),this.emit("AdLoaded")},a.prototype.startAd=function(){var t=document.createElement("script");if(t.setAttribute("src","https://www.youtube.com/iframe_api"),document.head.appendChild(t),!window.onYouTubeIframeAPIReady){var e=this;window.onYouTubeIframeAPIReady=function(){e.player=new YT.Player(e.containerId,{playerVars:{controls:0,modestbranding:1,disablekb:0,autoplay:1,rel:0},videoId:e.youtubeId,height:"100%",width:"100%",events:{onReady:function(t){t.target.playVideo(),e.emit("AdStarted",{event:t})},onError:function(t){e.emit("AdError",{event:t})},onStateChange:e.onStateChange.bind(e)}})}}},a.prototype.resumeAd=function(){this.player.playVideo()},a.prototype.pauseAd=function(){this.player.pauseVideo()},a.prototype.stopAd=function(){this.player.stopVideo(),this.emit("AdStopped")},a.prototype.removeAd=function(){this.stopAd()},a.prototype.skipAd=function(){this.emit("AdSkipped"),this.removeAd()},a.prototype.resizeAd=function(t,e){var i=document.getElementById(this.containerId);i.style.height=e.toString()+"px",i.style.width=t.toString()+"px",this.player.setSize(t,e)},a.prototype.getAdDuration=function(){return this.player.getDuration()},a.prototype.getCurrentTime=function(){return this.player.getCurrentTime()},a.prototype.getAdRemainingTime=function(){var t=this.getAdDuration(),e=this.getCurrentTime();return Math.round(t-e)},a.prototype.getVolume=function(){return this.player.getVolume()},a.prototype.setVolume=function(t){this.player.setVolume(t),this.emit("AdVolumeChange")},t.exports=a},function(t,e,i){var l=i(6),h=i(11),p=i(37),u=i(38),m=i(31),f=i(3),v=i(39),g=i(30),y={fn:{loadCreative:[],handshakeVersion:["playerVPAIDVersion"],initAd:["width","height","viewMode","desiredBitrate","creativeData","environmentVars"],startAd:[],stopAd:[],skipAd:[],resizeAd:["width","height","viewMode","w","h","m"],pauseAd:[],resumeAd:[],expandAd:[],collapseAd:[],subscribe:[],unsubscribe:[],SMInitialize:["params"]},prop:{adLinear:[],adWidth:[],adHeight:[],adExpanded:[],adDuration:[],adVolume:[],adRemainingTime:[]},extendedFn:{},events:["AdStarted","AdStopped","AdSkipped","AdLoaded","AdLinearChange","AdSizeChange","AdExpandedChange","AdSkippableStateChange","AdDurationChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdClickThru","AdInteraction","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdError","AdLog",l.EVENTS.AD_FACTORY,l.EVENTS.AD_FACTORY_IMPRESSION,l.EVENTS.AD_FACTORY_SSP_VPAID_SIZE]};for(var r in y.prop)if(y.prop.hasOwnProperty(r)){var n=f.arrayToCamelCase(["get",r]),a=f.arrayToCamelCase(["set",r]);y.extendedFn[n]=[],y.extendedFn[a]=[r]}function s(a,s,t,e,i,r,n){this.api=n,this.apiName=e,this.loadingModuleTime=3e4,this.vpaidPlayerId="SMVPAIDPlayer_"+n,this.playerElement=t,this.extendedVPAIDInterface=y;var o=function(t){return function(){return c.vpaidModule.vpaidInstruction({type:t})}};for(var d in this.extendedVPAIDInterface.fn)this.extendedVPAIDInterface.fn.hasOwnProperty(d)&&(this[d]=o(d));var c=this;this.vpaidInstruction=function(e){try{if(this.extendedVPAIDInterface.fn[e.type]||this.extendedVPAIDInterface.extendedFn[e.type])return c.vpaidModule.vpaidInstruction(e);c.on(e.type,e)}catch(t){c.on("AdError",{msg:"VPAID Instruction "+e.type+" failed",error:t})}},this.on=function(t,e){switch(t){case"wrapperLoaded":clearTimeout(c.loadingModule),c.loadingModule=setTimeout(c.on.bind(c,"AdError",{msg:"Loading timeout exceded"}),c.loadingModuleTime);var i=f.getElement(c.vpaidPlayerId,"swf"),r={type:"loadCreative"};r.vpaidObject={creative:{url:a.$},adParameters:""},s&&(r.vpaidObject.adParameters=s),i.vpaidInstruction(r),c.vpaidModule.VPAIDCreative=i;break;case"AdLoaded":clearTimeout(c.loadingModule),clearInterval(c.updateTime);break;case"AdStarted":clearInterval(c.updateTime),c.adRemainingTime=c.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoStart":break;case"AdDurationChange":var n=c.vpaidModule.vpaidInstruction({type:"getAdDuration"});0<n&&(this.adDuration=n),this.adRemainingTime=c.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});break;case"AdVideoComplete":c.adcompleted=!0;break;case"AdStopped":clearInterval(c.updateTime),(c.adcompleted||c.adSkipped||c.adRemainingTime<=0)&&c.removeAd();break;case"AdSkipped":break;case"AdError":c.loadingModule&&clearTimeout(c.loadingModule),c.deleteObject();break;case"AdPlaying":break;case"AdPaused":clearInterval(c.updateTime);break;case"AdImpression":break;case l.EVENTS.AD_FACTORY:e=Array.isArray(e)?e[0]:e}c.emit(t,e)},this.setVolume=function(t){this.vpaidInstruction({type:"setAdVolume",adVolume:t}),c.emit("AdVolumeChange")},this.getVolume=function(){return this.vpaidInstruction({type:"getAdVolume"})},this.initAd=function(){var t;if("application/x-shockwave-flash"===(t=a["@mimeType"]?a["@mimeType"]:a["@type"])){var e=new v;if(!e.checkFlashSupport()||e.mobile())return c.removing=setTimeout(c.removeAd.bind(c),1e3),c.on("AdError",{msg:"Loading timeout exceded"}),void h.warning("Device not compatible with VPAID Flash");"swf",this.vpaidModule=new p(this,n)}else{if(!t.match(/application\/[x-]{0,2}javascript/))throw new g(100,"Unsupported VPAID mimeType");"html5",this.vpaidModule=new u(this,n)}this.vpaidModule.init(i,a,s),this.vpaidModule.addListener("all",this),c.loadingModule=setTimeout(c.on.bind(c,"AdError",{msg:"Loading timeout exceded"}),c.loadingModuleTime)},this.removeAd=function(){this.vpaidModule instanceof u&&this.vpaidModule.unsetVPAIDEvents(),c.loadingModule&&clearTimeout(c.loadingModule),c.updateTime&&clearInterval(c.updateTime),c.adcompleted=!0,c.removing=setTimeout(function(){try{c.deleteObject()}catch(t){f.debug(t,f.debugLevel.INFO)}},l.CLOSE_MILLISECONDS-500)},this.deleteObject=function(){try{clearInterval(this.updateTime),clearInterval(this.removing),i.removeChild(this.vpaidModule.container)}catch(t){}},this.getAdDuration=function(){return this.vpaidModule.vpaidInstruction({type:"getAdDuration"})},this.getAdRemainingTime=function(){var t=this.vpaidModule.vpaidInstruction({type:"getAdRemainingTime"});if(t<0){var e=0;return(e=0<this.vpaidModule.vpaidInstruction({type:"getAdDuration"})?this.vpaidModule.vpaidInstruction({type:"getAdDuration"}):this.adDuration)<1&&(e=this.playerElement.duration),(t=e-this.playerElement.currentTime)<0&&(t*=-1),t}return t},this.resizeAd=function(t,e,i){var r=this.vpaidModule.container;r.style.width="100%",r.style.height="100%";try{var n=r.getElementsByTagName("iframe");if(n&&0<n.length)for(var a=0;a<n.length;a++)n[a].id==="vpaid_creative_"+this.api&&(n[a].width=t,n[a].style.width=t+"px",n[a].style.left="50%",n[a].style.marginLeft=-t/2+"px",n[a].height=e,n[a].style.height=e+"px",n[a].style.top="50%",n[a].style.marginTop=-e/2+"px")}catch(t){}this.vpaidModule.vpaidInstruction({type:"resizeAd",w:t,h:e,m:i})},this.skipAd=function(){this.vpaidModule.vpaidInstruction({type:"skipAd"})},f.extend(this,new m)}s.prototype.adFactoryInitialize=function(t){try{var e={plugin:t,api:this.api,SMContainer:this.vpaidModule.container};this.vpaidModule.vpaidInstruction({type:"SMInitialize",params:e})}catch(t){t instanceof g?console.log("VPAIDManager onAdFactory SMError",t):console.log("VPAIDManager onAdFactory",t)}},t.exports=s},function(t,e,i){var d=i(3),r=i(31);t.exports=function(o,t){this.vpm=o,this.api=t,this.init=function(t,e){var i,r,n,a,s=o.vpaidPlayerId;return i="api="+o.apiName,n='<object id="'+s+'" classid="clsid:D27CDB6E-AE6D-11cf-96BB-444553540000" name="'+s+'" type="application/x-shockwave-flash" data="'+(r=d.memoize(d.getBasePathMainJS)()+"assets/SMVPAIDSwfModule.swf")+'" width="100%" height="100%"><param name="movie" value="'+r+'"/><param name="quality" value="high"/><param name=" AllowScriptAccess" value="always"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+i+'"/><embed src="'+r+'" name='+s+' id="'+s+'" data="'+r+'" flashvars="'+i+'" wmode="transparent" width="100%" height="100%" AllowScriptAccess="always" allowfullscreen="true"></object>',(a=document.createElement("div")).setAttribute("id","SMVPAIDContainer_"+this.api),a.setAttribute("style","z-Index:10000;position:absolute;float:none;background-color:#000000;width:100%;height:100%;"),t.appendChild(a),(this.container=a).innerHTML=n,this},this.vpaidInstruction=function(t){return this.VPAIDCreative.vpaidInstruction(t)},d.extend(this,new r)}},function(t,e,i){var n=i(3),a=i(31),s=i(39);t.exports=function(d,t){var c=this,r={};this.device=new s,this.api=t,this.init=function(t,e,i){this.mediafile=e,this.adParameters=i,this.container=document.createElement("div"),this.container.setAttribute("id","SMVPAIDContainer_"+this.api),this.container.setAttribute("style","z-Index:10000;position:absolute;float:none;width:100%;height:100%;"),t.appendChild(this.container),this.loadCreative()},this.loadCreative=function(){var t=this,e=!0!==(t.mediafile.$&&-1<t.mediafile.$.indexOf("https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js"));if(e)try{e=-1<JSON.parse(this.adParameters).mediaFiles.shift().uri.indexOf("https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js")!=1}catch(t){}var i=!1;t.mediafile.$&&-1<t.mediafile.$.indexOf("https://creatives.sunmedia.tv/spd/vpaid.js")&&(i=!0),t.iframe=i?n.appendFrameScript(t.container,this.adParameters,t.creativeCallback,t.api,e,i):n.appendFrameScript(t.container,t.mediafile.$,t.creativeCallback,t.api,e,i)},this.creativeCallback=function(){var t,e=c.iframe.contentWindow.getVPAIDAd;return e&&"function"==typeof e?(c.VPAIDCreative=e(),c.checkVPAIDInterface(c.VPAIDCreative)?(c.setVPAIDEvents(),void i()):(t=new SMError(101,"Creative does not match the VPAID interface",c.VPAIDCreative),c.emit("AdError",t),!1)):(t=new SMError(101,"getVPAIDAd function does not exist"),c.emit("AdError",t),!1)},this.vpaidInstruction=function(t){var e=d.extendedVPAIDInterface.fn[t.type];if(e||(e=d.extendedVPAIDInterface.extendedFn[t.type]),!e)throw SMError(103,"Instruction "+t.type+" not allowed",t);if(c.VPAIDCreative[t.type]){var i=[];for(var r in e)if(e.hasOwnProperty(r)){if(void 0===t[e[r]])continue;i.push(t[e[r]])}return c.VPAIDCreative[t.type].apply(c.VPAIDCreative,i)}};var i=function(t){var e=c.container.getElementsByTagName("iframe")[0].contentWindow.document,i=e.body,r=i;if(c.mediafile.$&&-1<c.mediafile.$.indexOf("https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js")){var n=document.createElement("div");n.id="vpaid_slot",i.appendChild(n),r=e.getElementById("vpaid_slot")}else c.mediafile.$&&-1<c.mediafile.$.indexOf("https://vpaid.doubleverify.com/js/vpaid-transformer/0.19.29/vpaid-transformer.js")&&(r=c.container);var a={slot:r,videoSlot:d.playerElement};d.playerElement.volume=0,d.playerElement.muted=!0;var s=360*a.slot.offsetWidth/640,o={AdParameters:c.adParameters};c.VPAIDCreative.initAd(d.playerElement.offsetWidth,s,"normal",500,o,a)};this.checkVPAIDInterface=function(t){for(var e in d.extendedVPAIDInterface.fn)if(d.extendedVPAIDInterface.fn.hasOwnProperty(e)&&"SMInitialize"!==e){if(this[e])continue;if(!t[e]||"function"!=typeof t[e])return!1}return!0},this.setVPAIDEvents=function(){var t=function(t){return function(){c.emit(t,Array.prototype.slice.apply(arguments))}};for(var e in d.extendedVPAIDInterface.events)if(d.extendedVPAIDInterface.events.hasOwnProperty(e)){var i=d.extendedVPAIDInterface.events[e];r[i]=t(i),c.VPAIDCreative.subscribe(r[i],i)}},this.unsetVPAIDEvents=function(){for(var t in r)c.VPAIDCreative.unsubscribe(r[t],t)},n.extend(this,new a)}},function(t,e,i){var c=i(3);t.exports=function(){var t,e;e=window.smdevice,t={},window.smdevice=t,window.smuAgent=window.navigator.userAgent.toLowerCase(),this.ios=function(){return this.iphone()||this.ipod()||this.ipad()},this.iphone=function(){return!this.windows()&&i("iphone")},this.ipod=function(){return i("ipod")},this.ipad=function(){return i("ipad")},this.android=function(){return!this.windows()&&i("android")},this.androidPhone=function(){return this.android()&&i("mobile")},this.androidTablet=function(){return this.android()&&!i("mobile")},this.blackberry=function(){return i("blackberry")||i("bb10")||i("rim")},this.blackberryPhone=function(){return this.blackberry()&&!i("tablet")},this.blackberryTablet=function(){return this.blackberry()&&i("tablet")},this.windows=function(){return i("windows")},this.windowsPhone=function(){return this.windows()&&i("phone")},this.windowsTablet=function(){return this.windows()&&i("touch")&&!this.windowsPhone()},this.fxos=function(){return(i("(mobile;")||i("(tablet;"))&&i("; rv:")},this.fxosPhone=function(){return this.fxos()&&i("mobile")},this.fxosTablet=function(){return this.fxos()&&i("tablet")},this.meego=function(){return i("meego")},this.cordova=function(){return window.cordova&&"file:"===location.protocol},this.nodeWebkit=function(){return"object"==typeof window.process},this.mobile=function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()||this.meego()},this.tablet=function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},this.desktop=function(){return!this.tablet()&&!this.mobile()},this.television=function(){return r(/googletv|viera|smarttv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|pov_tv|hbbtv|ce-html/)},this.portrait=function(){return 1<window.innerHeight/window.innerWidth},this.landscape=function(){return window.innerHeight/window.innerWidth<1},this.noConflict=function(){return window.smdevice=e,this};var a,i=function(t){return-1!==window.smuAgent.indexOf(t)},r=function(t){return window.smuAgent.match(t)};this.getDevice=function(){if(this.ios()){if(this.ipad())return"ios ipad tablet";if(this.iphone())return"ios iphone mobile";if(this.ipod())return"ios ipod mobile"}else{if(this.android())return this.androidTablet()?"android tablet":"android mobile";if(this.blackberry())return this.blackberryTablet()?"blackberry tablet":"blackberry mobile";if(this.windows())return this.windowsTablet()?"windows tablet":this.windowsPhone()?"windows mobile":"desktop";if(this.fxos())return this.fxosTablet()?"fxos tablet":"fxos mobile";if(this.meego())return"meego mobile";if(this.nodeWebkit())return"node-webkit";if(this.television())return"television";if(this.desktop())return"desktop"}return!!this.cordova()&&"cordova"},this.checkFlashSupport=function(){var e=!1;function i(t){return(t=t.match(/[\d]+/g)).length=3,t.join(".")}if(navigator.plugins&&navigator.plugins.length){var t=navigator.plugins["Shockwave Flash"];t&&(e=!0,t.description&&i(t.description)),navigator.plugins["Shockwave Flash 2.0"]&&(e=!0,"2.0.0.11")}else if(navigator.mimeTypes&&navigator.mimeTypes.length){var r=navigator.mimeTypes["application/x-shockwave-flash"];(e=r&&r.enabledPlugin)&&i(r.enabledPlugin.description)}else try{var n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");e=!0,i(n.GetVariable("$version"))}catch(t){try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),e=!0,"6.0.21"}catch(t){try{n=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),e=!0,i(n.GetVariable("$version"))}catch(t){}}}return e},this.checkWifi=function(t){t(!1)},this.checkAutoplay=function(e){if(window.parent&&window.frameElement&&window.frameElement.id)var i=setInterval(function(){var t;0<=(t=window.frameElement.getBoundingClientRect()).top&&t.bottom<=screen.height&&(clearInterval(i),this.loadAutoplay(e))}.bind(this),100);else this.loadAutoplay(e)},this.loadAutoplay=function(t){var e=function(t,e){return"playing"===t?function(){a&&clearTimeout(a);var t=document.getElementById("SMAutoplayTesting");t&&t.parentNode.removeChild(t),e(!0)}:function(){a||(a=setTimeout(function(){window.SMAutoPlayChecking&&clearTimeout(a),e(!1)},2e3))}},i=document.createElement("video"),r=["loadeddata","loadedmetadata","playing"];for(var n in r)i.addEventListener(r[n],e(r[n],t));i.setAttribute("id","SMAutoplayTesting"),i.setAttribute("style","width:0.5px; height:0.5px; position:fixed;top:0px;left:0px;z-Index:2000000000"),i.setAttribute("src","https://static.sunmedia.tv/SMOutstream/files/video.mp4"),i.setAttribute("autoplay",!0),i.setAttribute("muted",!0),i.setAttribute("playsinline",!0),i.setAttribute("webkit-playsinline",!0),this.android()&&this.tablet()&&i.load(),document.body.appendChild(i)};var d;return this.speedTest=function(t){d=[];for(var e=0;e<10;e++)this.speedTestRequest(e,t)},this.speedTestRequest=function(t,e){var i,r,n,a=function(){var t=c.linearQuantile(d,75)/1e3,e=932024/t/1024/1024;return c.debug("75th quantile time : "+t+" seconds"),c.debug("Calculated speed : "+e.toFixed(2)+" Mbps"),e},s=new Image,o=(new Date).getTime();s.onload=(i=t,r=o,n=e,function(){var t=(new Date).getTime()-r;d[i]=t,c.debug("Test "+i+" : "+t+" ms"),10===d.filter(function(t){return t}).length&&n(a())}),s.onerror=function(t,e){},s.src="https://vod.sunmedia.tv/sunmedia/demos/bitrate.jpg?d="+t},this}},function(t,e,i){var r=i(3),n=i(31);t.exports=function(s){var i=!0;this.on=function(t,e){switch("playing"===t&&i&&(this.emit("AdStarted"),i=!1),t){case"loaded":this.emit("AdLoaded",e);break;case"paused":this.emit("AdPaused",e);break;case"playing":this.emit("AdPlaying",e);break;case"ended":e||(e={}),e.type="completed",this.emit("AdVideoComplete",e),this.emit("AdStopped",e);break;default:this.emit(t,e)}},this.handshakeVersion=function(t){},this.initAd=function(t,e,i,r,n,a){s.addListener("all",this),s.load()},this.startAd=function(){s.startAd()},this.stopAd=function(){s.stop()},this.pauseAd=function(){s.pause()},this.resumeAd=function(){s.play()},this.skipAd=function(){this.stopAd(),this.removeAd(),this.emit("AdSkipped")},this.removeAd=function(){this.stopAd()},this.expandAd=function(){},this.collapseAd=function(){},this.setVolume=function(t){s.setVolume(t)},this.getVolume=function(){return s.getVolume()},this.resizeAd=function(t,e,i){var r=s.videoSlot;r.style.width=r.style.height="100%"},this.getAdDuration=function(){var t=s.getDuration();return Math.round(t)},this.getAdRemainingTime=function(){var t=s.getDuration(),e=s.getCurrentTime();return Math.round(t-e)},r.extend(this,new n)}},function(t,e){t.exports=function(r){var n=[],t=-1;r=r;this.state="unloaded",this.init=function(){var t=JSON.parse(r.$).insertionPoint[0].slot[0].vast.ad[0].inLine.creatives.creative[0].linear.adParameters.value,e=JSON.parse(t);for(var i in n=e.ad)n[i].wrapper&&(n[i].wrapper.vastadTagURI=n[i].wrapper.vastadTagURI.replace(/&amp;/g,"&"));this.state="working"},this.next=function(){return t<n.length&&n[++t]},this.hasNext=function(){return t+1<n.length},this.init()}},function(t,e,i){var a=i(43),s=i(28);t.exports=function(t,i,e){console.log(t);var r=new a,n={HTMLResource:function(t,e){s.decompose(t.$)?r.get(t.$,function(){r.xhr.readyState==r.xhr.DONE&&200==xhrWrap.xhr.status?e.insertAdjacentHTML("beforeend",html):console.log("ERROR resources",r.xhr)},function(){console.log("ERROR resources")}):e.insertAdjacentHTML("beforeend",t.$)},StaticResource:function(t,e){var i=new Image;i.src=t.$,e.appendChild(i)},IFrameResource:function(t,e){var i=document.createElement("iframe");i.src=t.$,e.appendChild(i)}};t.forEach(function(t){for(var e in t)"@"!=e[0]&&n[e]&&n[e](t[e],i)})}},function(t,e,i){var r=i(30);t.exports=function(){var i=!1;return this.retry=!0,this.send=function(t){if(t=t||!1,!this.xhr)throw new r(102,"Run open before send");this.xhr.setRequestHeader("Accept","*/*"),this.xhr.withCredentials=t,this.xhr.send()},this.get=function(t,e,i){this.open("GET",t),"function"==typeof e&&(this.xhr.onload=e),"function"==typeof i&&(this.xhr.onerror=i),this.send(void 0)},this.open=function(t,e){this.xhr=function(){if(i)return new XDomainRequest;var t=new XMLHttpRequest;if(void 0===t.withCredentials){if("undefined"==typeof XDomainRequest)throw new r(102,"No XHR/XDR class");t=new XDomainRequest,i=!0}return t}(),this.xhr.crossDomain=!0,i?this.xhr.open(t,e):this.xhr.open(t,e,!0)},this}},function(t,e,i){var y=i(9);t.exports=function(t,e,i,r,n,a,s,v,g,o){return this.device=n,this.win=r,this.reference=i,this.companions=t,this.ava=e,this.frmMain=!1,this.frmRemember=!1,this.btnSize=25,this.viewMain=!1,this.position=e&&e.position?e.position:"left",this.skipReminder="boolean"==typeof a&&a,this.skipReminderTime=parseInt(s),this.init=function(){for(var t=0;t<this.companions.length;t++)y.isAMP()&&"Remember"===this.companions[t]["@id"]||this.buildContainer(this.companions[t])},this.isResourceEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return JSON.stringify(t)===JSON.stringify({})},this.buildContainer=function(t){var e=y.isAMP()&&y.isAMPStickyIntegration();if(!(t&&t.HTMLResource&&this.isResourceEmpty(t.HTMLResource))){var i,r,n,a,s,o,d,c=g.offsetWidth,l=360*g.offsetWidth/640;g.style.height=l+"px","Main"===t["@id"]&&(-1<t["@width"].indexOf("%")&&(t["@width"]=c,t["@height"]=l),t["@view"]&&"1"===t["@view"]&&(this.viewMain=!0)),o=t["@width"]?t["@width"]:300,d=t["@height"]?t["@height"]:250,e||((r=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_close_"+t["@id"]+v),r.setAttribute("class","SMIntext_close_companion")),(a=document.createElement("div")).setAttribute("id","SMIntext_remember_dv_frm_"+t["@id"]+v),a.setAttribute("style","width:"+o+"px;height:"+d+"px;position:absolute;top:0px;left:0px;"),(i=document.createElement("div")).id="SMIntext_remember_dv_"+t["@id"]+v,i.appendChild(a),e||i.appendChild(r);var h="z-index:50000;border:none;margin-bottom:10px;";if((s=this.win.document.createElement("iframe")).id="SMIntext_remember_"+t["@id"]+v,s.className="SMIntext_remember_"+t["@id"],s.scrolling="no",s.frameborder="0",s.onload=this.bannerLoaded.bind(this,t),s.width=o,s.height=d,s.setAttribute("style","border:none;width:"+o+"px;height:"+d+"px;"),a.appendChild(s),"Main"===t["@id"]){var p="width:"+c+"px;height:"+l+"px;z-Index:"+(y.isAMP()?20:this.reference.style.zIndex)+";position:relative;margin-bottom:10px;",u=this.win.document.createElement("div");u.setAttribute("style",p),u.setAttribute("id","SMAuxBanner_Main"+v),u.setAttribute("class","SMAuxBanner_Main"),e||(n="display:none;cursor:pointer;width:"+this.btnSize+"px;height:"+this.btnSize+"px;position:absolute;right:5px;top:5px;background-image:url('https://static.sunmedia.tv/SMOutstream/files/4.1/ico-cerrar.png');background-size: contain;background-repeat: no-repeat;",r.setAttribute("style",n));var m="position:absolute;top:0px;left:0px;width:"+o+"px;height:"+d+"px;display:none;";i.setAttribute("style",m),u.appendChild(i),g.appendChild(u),this.frmMain=!0}else if("Remember"===t["@id"]){var f=this.ava&&this.ava.bottom?this.ava.bottom:10;n="display:none;cursor:pointer;width:"+this.btnSize+"px;height:"+this.btnSize+"px;position:absolute;right:0px;top:0px;background-image:url('https://static.sunmedia.tv/SMOutstream/files/4.1/ico-cerrar.png');background-size: contain;background-repeat: no-repeat;",r.setAttribute("style",n),h="position:fixed;top:unset;left:unset;bottom:"+f+"px;width:"+(parseInt(o)+this.btnSize)+"px;height:"+(parseInt(d)+this.btnSize)+"px;display:none;z-Index:200000;",h+=-1<this.position.indexOf("left")?"left:10px":"right:10px;",this.frmRemember=!0,i.setAttribute("style",h),g.appendChild(i)}}},this.bannerLoaded=function(t){var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+v);e.onload=null;var i=e.contentDocument,r=document.createElement("div");this.srcToLoad=0,this.srcLoaded=0,r.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var n=!1,a=this,s=0;s<r.childNodes.length;s++)if(r.childNodes[s].tagName&&"undefined"!==r.childNodes[s].tagName)if("SCRIPT"===r.childNodes[s].nodeName.toUpperCase()){var o=i.createElement("script");r.childNodes[s].src&&(n=!0,this.srcToLoad++,r.childNodes[s].id&&(o.id=r.childNodes[s].id),r.childNodes[s].type&&(o.type=r.childNodes[s].type),r.childNodes[s].src&&(o.src=r.childNodes[s].src),r.childNodes[s].onload&&(o.onloadpre=r.childNodes[s].onload),o.onload=setTimeout(function(){a.BannerJSloaded(t)},1e3),i.body.appendChild(o))}else i.body.appendChild(r.childNodes[s].cloneNode(!0));i.body.style.margin="0 auto",n||setTimeout(function(){a.BannerJSloaded(t)},1e3)},this.BannerJSloaded=function(t){if(this.srcLoaded++,this.srcLoaded<this.srcToLoad)return!1;var e=this.win.document.getElementById("SMIntext_remember_"+t["@id"]+v),i=e.contentWindow?e.contentWindow:e.contentDocument.document?e.contentDocument.document:e.contentDocument,r=document.createElement("div");r.innerHTML=decodeURIComponent(t.HTMLResource.$);for(var n=0;n<r.childNodes.length;n++)r.childNodes[n].tagName&&"undefined"!==r.childNodes[n].tagName&&("SCRIPT"!==r.childNodes[n].nodeName.toUpperCase()||r.childNodes[n].src||i.eval(r.childNodes[n].innerHTML));this.CompanionsReady()},this.CompanionsReady=function(){var t=this;this.frmMain&&(this.SMmain=this.win.document.getElementById("SMIntext_remember_dv_Main"+v)),this.frmRemember&&(this.SMremember=this.win.document.getElementById("SMIntext_remember_dv_Remember"+v)),this.frmMain&&(this.SMmain.style.display="block"),this.frmMain&&this.frmRemember&&(this.postionController=setTimeout(function(){t.setScrollPosition()},10)),this.tryCloseRememberBanner(),setTimeout(function(){t.showCloseBtn()},1e4)},this.showCloseBtn=function(){var t=this.win.document.getElementsByClassName("SMIntext_close_companion");if(t&&0<t.length)for(var e=0;e<t.length;e++)t[e].onclick=function(){-1<event.currentTarget.parentNode.id.indexOf("Main")?(clearTimeout(this.postionController),g.parentNode.removeChild(g),"function"==typeof o&&o(),this.callbackMain&&this.callbackMain.callback&&this.win[this.callbackMain.callback](this.callbackMain.options)):g.parentNode.removeChild(g),this.tryCloseRememberBanner()}.bind(this),t[e].style.display="block"},this.setCallbackMain=function(t,e){this.callbackMain={},this.callbackMain.callback=t,this.callbackMain.options=e},this.setScrollPosition=function(){clearTimeout(this.postionController);var t=this.SMisScrolledIntoView(this.win.document.getElementById("SMAuxBanner_Main"+v));t&&(this.watched=!0),!t&&this.SMremember&&(this.viewMain?this.watched&&this.showBannerInScreen():this.showBannerInScreen()),t&&this.SMremember&&(this.SMremember.style.display="none");var e=this;this.postionController=setTimeout(function(){e.setScrollPosition()},10)},this.showBannerInScreen=function(){this.tryCloseRememberBanner()},this.closeRememberBanner=function(){this.SMremember.parentNode.removeChild(this.SMremember)},this.tryCloseRememberBanner=function(){try{this.SMremember&&(this.SMremember.style.display="block",this.skipReminder&&0<this.skipReminderTime&&!this.skipreminderDone&&(this.skipreminderDone=!0,setTimeout(this.showCloseBtn.bind(this),1e3*this.skipReminderTime)))}catch(t){}},this.SMisScrolledIntoView=function(t){try{var e=t.getBoundingClientRect().top,i=t.getBoundingClientRect().bottom;return"desktop"===this.device?70<=e&&i<=this.SMwindowHeight()-100:0<=e&&i<=this.SMwindowHeight()}catch(t){}},this.SMwindowWidth=function(){return this.win.innerWidth?this.win.innerWidth:this.win.documentElement.clientWidth?this.win.documentElement.clientWidth:void 0},this.SMwindowHeight=function(){return this.win.innerHeight?this.win.innerHeight:this.win.documentElement.clientHeight?this.win.documentElement.clientHeight:void 0},this.init(),this}},,function(t,e){var o=",";t.exports={getSupplyChain:function(t,e){if("string"==typeof t){var i,r=["sunmedia.tv",t,"1",n,a,s].join(o);return"string"==typeof e?(i=e.split("!")).push(r):i=["1.0,1",r],i.join("!")}var n,a,s}}},function(t,e,i){var r=i(6),n=i(23),a=i(9);function s(){this.fetchConsentDataFromCMP(),this.fetchGDPRFromSMService()}s.prototype.getSunMediaGDPR=function(){return window[r.SM_GEO_WINDOW_KEY]},s.prototype.setSunMediaGDPR=function(t){window[r.SM_GEO_WINDOW_KEY]=t},s.prototype.fetchGDPRFromSMService=function(){if(!window.hasOwnProperty(r.SM_GEO_WINDOW_KEY)){this.setSunMediaGDPR(-1);var t=function(t){var e=JSON.parse(t.body);this.setSunMediaGDPR(e&&!0===e.eu_country?1:0)}.bind(this),e=function(){this.setSunMediaGDPR(0)}.bind(this);n.get(r.SDK_GEO_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)}},s.prototype.fetchConsentDataFromCMP=function(){this._loadingDataFromCMP=!1;try{if(window.hasOwnProperty("__cmp")&&window.__cmp){this._loadingDataFromCMP=!0;var i=setTimeout(function(){this._loadingDataFromCMP=!1}.bind(this),2e3),t=function(t,e){try{clearTimeout(i)}catch(t){}e&&t&&(this.gdprApplies=t.gdprApplies,this.consentData=t.consentData,this.hasGlobalScope=t.hasGlobalScope),this._loadingDataFromCMP=!1}.bind(this);window.__cmp("getConsentData",null,t)}else a.isAMP()&&(this._loadingDataFromCMP=!0,window.context.getConsentState(function(t){t&&t.consentState&&(this.gdprApplies=3===t.consentState?0:1,this.consentData=window.context.initialConsentValue),this._loadingDataFromCMP=!1}.bind(this)))}catch(t){this._loadingDataFromCMP=!1}},s.prototype.isLoading=function(){return-1===this.getSunMediaGDPR()||this._loadingDataFromCMP},s.prototype.getGDPR=function(){return void 0!==this.gdprApplies?this.gdprApplies?1:0:this.getSunMediaGDPR()},s.prototype.getConsent=function(){return this.consentData||1},t.exports=s},function(t,e,i){var r=i(6),n=i(23);function a(){this.country=-1,this.fetchCountryFromSMService()}a.prototype.fetchCountryFromSMService=function(){var t=function(t){var e=JSON.parse(t.body);this.setCountry(e&&e.country?e.country:null)}.bind(this),e=function(){this.setCountry(null)}.bind(this);n.get(r.SDK_COUNTRY_PATH,null,{crossDomain:!1,withCredentials:!1},t,e)},a.prototype.isLoading=function(){return-1===this.country},a.prototype.getCountry=function(){return this.country},a.prototype.setCountry=function(t){this.country=t},t.exports=a},function(t,e,i){var r=i(6),n=i(23),a=i(8);function s(t,e){t||(t="outstream"),this.type=t,this.client=e,this.defaultTrackerloaded=!1,this.fetchSMDefaultTrackerService()}s.prototype.fetchSMDefaultTrackerService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTracker(e)}.bind(this),e=function(){this.setDefaultTracker()}.bind(this),i=r["SDK_DEFAULT_TRACKER_"+this.type.toUpperCase()];i=i.replace("[CLIENT]",this.client),n.get(i,null,{crossDomain:!1,withCredentials:!1},t,e)},s.prototype.isLoaded=function(){return this.defaultTrackerloaded},s.prototype.setDefaultTracker=function(t){this.defaultTracker=t?t.default_tracker:[],this.defaultTrackerloaded=!0},s.prototype.getTrackers=function(t){if(this.defaultTracker&&0<this.defaultTracker.length)for(var e=0;e<this.defaultTracker.length;e++)this.defaultTracker[e].data=a.replace(this.defaultTracker[e].data,t),this.defaultTracker[e].fired=!1;return this.defaultTracker},t.exports=s},function(t,e,i){var r=i(6),n=i(23);function a(t,e){this.type=t,this.defaultTagloaded=!1,void 0===e||!1===e?this.fetchSMDefaultTafService():(this.defaultTagloaded=!0,this.defaultTag=[])}a.prototype.fetchSMDefaultTafService=function(){var t=function(t){var e=JSON.parse(t.body);this.setDefaultTag(e)}.bind(this),e=function(){this.setDefaultTag()}.bind(this);n.get(r.SDK_DEFAULT_TAG_PATH+this.type+".json",null,{crossDomain:!1,withCredentials:!1},t,e)},a.prototype.isLoaded=function(){return this.defaultTagloaded},a.prototype.setDefaultTag=function(t){this.defaultTag=t||[],this.defaultTagloaded=!0},a.prototype.getTags=function(){return this.defaultTag},t.exports=a},function(t,e,i){var r=i(52);function n(t,e){this._wind=t,this._objName=e}n.prototype.add=function(t){this._wind.hasOwnProperty(this._objName)&&new r(this._wind,this._objName,t)},t.exports=n},function(t,e,i){var r=i(6),n=i(21);function a(t,e,i){this._wind=t,this._objName=e,this._pluginInstance=i,this.ptfOpportunityCounter=0,this.ptfRequestCounter=0,this.ptfEffectiveCounter=0,this.ptfVideoTrackers={},this.init(i.config),this.subscribeToPluginEvents()}a.prototype.init=function(t){t&&(this._config=t,this._loopEnabled=this._config.loop&&this._config.loop.enabled,this._onlyOneVideo=this._loopEnabled&&this._config.loop.onlyOneVideo)},a.prototype.subscribeToPluginEvents=function(){this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UPDATE_PARAMS,this.onUpdateConfig.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_OPPORTUNITY_FIRED,this.onOpportunityFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_REQUEST_FIRED,this.onRequestFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_EFFECTIVE_FIRED,this.onEffectiveFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_UNFILLED_FIRED,this.onUnfilledFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_VIDEO_TRACKER_FIRED,this.onVideoTrackerFired.bind(this)),this._pluginInstance.addEventListener(this._pluginInstance.EVENTS.SM_COMPLETED,this.onAdComplete.bind(this))},a.prototype.onUpdateConfig=function(t){this.init(t)},a.prototype.onOpportunityFired=function(){this.ptfOpportunityCounter+=1},a.prototype.onRequestFired=function(){this.ptfRequestCounter+=1},a.prototype.onEffectiveFired=function(){this.ptfEffectiveCounter+=1},a.prototype.onUnfilledFired=function(t){this._unfilledTracker=t},a.prototype.onVideoTrackerFired=function(t){if(void 0!==t&&0<t.urlList.length){var e=n.decomposeUrl(t.urlList[0]),i=n.queryToObject(e.query);this.ptfVideoTrackers.hasOwnProperty(i.loop)||(this.ptfVideoTrackers[i.loop]={trackers:{}}),this.ptfVideoTrackers[i.loop].priority=this._pluginInstance.currentPriority,this.ptfVideoTrackers[i.loop].blockChanged=this._pluginInstance.tagsBlockHasChanged,this.ptfVideoTrackers[i.loop].trackers[i.tp]=i,this.ptfVideoTrackers[i.loop].trackers[i.tp]._url=t.urlList[0]}},a.prototype.onAdComplete=function(){try{this._wind[this._objName][this._pluginInstance.api]={isPltTrackerOK:this.checkPtfTrackers(),complete:!0}}catch(t){console.error(t)}},a.prototype.checkPtfTrackers=function(){var t=1===this.ptfOpportunityCounter&&1===this.ptfRequestCounter&&1===this.ptfEffectiveCounter,e=this._checkPtfVideoTrackers();if(!this._loopEnabled||this._onlyOneVideo){var i=Object.keys(this.ptfVideoTrackers).length<=1;e=e&&i}return t&&e},a.prototype._checkPtfVideoTrackers=function(){var t=this.isSunMediaUnfilled(),e=this.isClientUnfilled(),i=!0;for(var r in this.ptfVideoTrackers)if(this.ptfVideoTrackers.hasOwnProperty(r)){var n=this.ptfVideoTrackers[r],a=this.getPb(n.priority),s=!1;for(var o in n.trackers)if(n.trackers.hasOwnProperty(o)){var d=n.trackers[o];"reqe"!==d.tp&&(i=i&&d.pb===a,s=s||"imp"===o,t&&(i=i&&"1"!==d.pb),e&&(i=i&&"0"!==d.pb))}i=i&&s,n.blockChanged&&(i=i&&n.priority!==this._config.priority)}return i},a.prototype.getPb=function(t){return(t=t||this._config.priority)===r.SM_PRIORITY.SUN_MEDIA?"1":"0"},a.prototype._isACorrectUnfilled=function(e){var i=0;return void 0!==this._unfilledTracker&&this._unfilledTracker.urlList.forEach(function(t){0<t.indexOf(e)&&i++}),1===i},a.prototype.isSunMediaUnfilled=function(){return this._isACorrectUnfilled("pb=1")},a.prototype.isClientUnfilled=function(){return this._isACorrectUnfilled("pb=0")},t.exports=a},,,,,,,function(t,e,i){var d=i(6),c=i(3),l=i(9),r=i(60),n=i(47),a=i(48),h=i(49),p=i(50),s=i(51),o=i(39),u=i(7),m=i(11),f=i(46);function v(){this._device=new o,this._gdpr=new n,this._country=new a,this._testerManager=new s(window,"__sm__"),this._device.mobileDesktop=this._device.desktop()?"desktop":"mobile",window.SMIntextPlaylist||(window.SMIntextPlaylist=[])}v.prototype.createIntext=function(t,e){if(!this._gdpr.isLoading()&&this._dftTracker.isLoaded()&&!this._country.isLoading()&&this._dftTag.isLoaded()){if(e.options.country=this._country.getCountry(),e.options.gdprApplies=this._gdpr.getGDPR(),e.options.consentData=this._gdpr.getConsent(),!l.isAMP()&&1===e.options.consentData&&-1<d.STRICT_USER_CONSENT.indexOf(e.publisher))throw Error("STRICT_USER_CONSENT");if(this.currentScript=u.getCurrentSMScript(e.it),this.currentScript){var i=this.currentScript.getAttribute("data-publisher");i&&(e.publisher=i)}e.options.supplyChain=f.getSupplyChain(e.publisher),e.options.category="string"==typeof e.category?e.category:"",e.defaultTracker=this._dftTracker.getTrackers(e.options),e.defaultTag=this._dftTag.getTags();var r=!1;if(e.options&&e.options.extra&&-1<e.options.extra.indexOf("inblock")?(r=!0,e.options.extra=e.options.extra.substr(0,e.options.extra.indexOf("inblock"))):e.options.inblock&&(r=!0),r){var n=e.options.country;if(n&&"ES"!==n&&"MX"!==n&&"CO"!==n){var a;e.options.inblock=!0;for(var s=0;s<3;s++)e.options.inblockId=s,a=c.deepClone(e),this._createAndInitPluginInstance(a,t+s)}else e.options.inblock=!1,this._createAndInitPluginInstance(e,t)}else this._createAndInitPluginInstance(e,t)}else{var o=function(){this.createIntext(t,e)}.bind(this);setTimeout(o,500)}},v.prototype._createAndInitPluginInstance=function(t,e){var i=new r({api:e,config:t},this._device,this.currentScript);this._testerManager.add(i),i.init(),window["SMIntext_"+e]=i},v.prototype.checkAdBlock=function(t,e){var i=function(){try{this.createIntext(t,e)}catch(t){m.error(t)}}.bind(this),r=function(){m.error("Blocking Ads: Yes"),e.options.callback&&"function"==typeof e.w[e.options.callback]&&e.w[e.options.callback]({status:"SunMediaEnd",class:e.class,ads:0})},n=document.createElement("script");n.src=d.SM_AD_BLOCKER_DETECT_JS_PATH,n.onerror=r,n.onload=function(){void 0===window.adblockDetector?r():window.adblockDetector.init({debug:!1,fireNow:!0,found:r,complete:function(t){!1===t?i():r()}})};try{document.getElementsByTagName("head")[0].appendChild(n)}catch(t){r()}},v.prototype.init=function(t){var e,i=this._parseExtraOptions(t.options.extra);i&&(t.options=c.deepExtend(t.options,i),delete t.options.extra),this._dftTag=new p(t.client+"/intext-1-0",t.options.ignoreDefaultTags),this._dftTracker=new h("outstream",t.client),t&&t.options&&!t.options.adPosition&&(t.options.adPosition=0);var r=t.options.adPosition.hasOwnProperty(this._device.mobileDesktop)?t.options.adPosition[this._device.mobileDesktop]:t.options.adPosition;"string"==typeof t.options.css&&(t.options.css=t.options.css.replace(/\r?\n|\r/g,""));for(var n=function(t,e){var i=this;return function(){i.checkAdBlock(t,e)}}.bind(this),a=0;a<r.length;a++){var s=parseInt(r[a]),o=c.deepClone(t);e=(new Date).getTime()+a;var d=0<s?s-1:s;o.options.adPosition=d+a,0<a?(o.options.adPosition+=3,o.ava.desktop.enabled=!1,o.ava.mobile.enabled=!1,setTimeout(n(e,o),500)):this.checkAdBlock(e,o)}0===t.options.adPosition.length&&(e=(new Date).getTime(),this.checkAdBlock(e,t))},v.prototype._parseExtraOptions=function(t){try{return JSON.parse(t)}catch(t){return!1}},t.exports=v},function(t,e,i){var f=i(6),A=i(7),E=i(10),v=i(11),g=i(12),y=i(13),S=i(15),T=i(3),b=i(18),k=i(28),w=i(61),C=i(44),I=i(9);function r(t,e,i){y.call(this);var h=Object.assign({},t);this.states=Object.freeze(T.objInvert(["INITIAL","LOADING","READY","PLAYING","PAUSED","STARTING","COMPLETED","CLOSING"])),this.state=this.states.INITIAL;var p=this;this.api=h.api,this.device=e,this.players=[],this.played={state:"init",data:null},this.skippedViaOutOfPage=!1,this.loopIntents=1,this.hasBeenAds=!1,this.initTimeoutLimit=5,this.initTimeoutCurrent=1,this.tagsBlockHasChanged=!1;var r=h.config.it;this.clearfixInstanceId="SMIntext_clearfix_"+this.api,this.frameContainerInstanceId="SMIntext_frame_"+this.api,this.configStyleIntegrationId="SMIntext_config_css_"+r;var n="SMIntext-loading";this.loadingIntegrationName=n+"-"+r,this.loadingClassName=n+" "+this.loadingIntegrationName,this.loadingInstanceId=n+"-"+this.api;var a="SMIntext-reference";this.referenceIntegrationName=a+"-"+r,this.referenceClassName=a+" "+this.referenceIntegrationName,this.referenceInstanceId=a+"-"+this.api;var s="SMIntext-effective";this.effectiveClassName=s+" "+s+"-"+r,this.effectiveInstanceId=s+"-"+this.api;var o="SMIntext-clearfix",d=o+"-"+r;this.clearfixClassName=o+" "+d,this.clearfixInstanceId=o+"-"+this.api;var c="SMIntext-reminder";function u(t,e,i){"string"==typeof e&&(e=e.split(","));for(var r={},n=0;n<e.length;n++)try{var a=e[n].trim();if("SMIntext"!==a&&(r=l(t,a,i)).c)break}catch(t){v.warning(t)}return r}function l(t,e,i){var r=function(t,e){return void 0===e&&(e=0),e>=t.length&&(e=t.length-1),t[e]},n={};n.w=t;try{var a,s,o;if(-1<e.indexOf(".")||-1<e.indexOf("#"))return a=t.document.querySelectorAll(e),n.c=r(a,i),n;if(t.document.getElementById(e))n.c=t.document.getElementById(e);else if(0<t.document.getElementsByClassName(e).length)a=t.document.getElementsByClassName(e),n.c=r(a,i);else{for(a=[],s=t.document.getElementsByTagName("div"),o=0;o<s.length;o++)s[o].getAttribute("itemprop")&&s[o].getAttribute("itemprop")===e&&a.push(s[o]);if(n.c=r(a,i),!n.c){for(a=[],s=t.document.getElementsByTagName("article"),o=0;o<s.length;o++)s[o].getAttribute("itemprop")&&s[o].getAttribute("itemprop")===e&&a.push(s[o]);n.c=r(a,i)}}}catch(t){}return n}this.reminderIntegrationName=c+"-"+r,this.reminderClassName=c+" "+this.reminderIntegrationName,this.reminderInstanceId=c+"-"+this.api,this.referenceFoldHeight=30,this.currentScript=i,this.initDefaultAvaWidth(h.config),this.initialRatio={width:4,height:3},this.getContainerInScreen=function(t){for(var e=null,i=0;i<t.length;i++)!1===this.isOutOfScreen(t[i])&&(e=t[i]);return e},this.setContainerFromScript=function(t){var e,i,r=this.currentScript.parentNode,n=0;if(r&&1===r.nodeType)if(i=r,t&&0!==t.length)n=t;else{var a=[];for(e=0;e<r.childNodes.length;e++){var s=r.childNodes[e];1===s.nodeType&&T.isChildNodeAllowed(s)&&a.push(s),s===this.currentScript&&(n=a.length)}}return{c:i,ps:n}},this.externalLogsCallback=function(t){p.externalLogs||(p.externalLogs={}),p.externalLogs[t]=!0},this.initPlatformTrackerManager=function(t,e,i){if(!p.ptfTrackerManager){var r=!0;i.inblock&&i.inblockId&&0<i.inblockId&&(r=!1),p.ptfTrackerManager=new S(t,p.dcAdPosition,e,r,this.externalLogsCallback),p.ptfTrackerManager.initVideoTracker(p.currentPriority,p.loopIntents)}},this.init=function(){var t=this;try{t.initTimeout&&clearTimeout(t.initTimeout)}catch(t){}if(window.SMIntextPlaylist)for(var e=0;e<window.SMIntextPlaylist.length;e++)if("loading"===window.SMIntextPlaylist[e].state)return setTimeout(t.init.bind(this),1e3),!1;if(!h.config)return!1;var i=function(){var t,e=Object.assign({},h.config),i=e;v.info("Device: "+p.device.mobileDesktop),e.tags.sm&&e.tags.sm[p.device.mobileDesktop]&&(i.tag=e.tags.sm[p.device.mobileDesktop],i.defaultTag&&i.defaultTag[p.device.mobileDesktop.toUpperCase()]&&(i.tag=E.buildSunmediaTags(i.tag,i.defaultTag[p.device.mobileDesktop.toUpperCase()],p.device.mobileDesktop))),e.tags.client&&e.tags.client[p.device.mobileDesktop]&&(i.clientTag=e.tags.client[p.device.mobileDesktop]),i.priority&&(i.priority=e.priority[p.device.mobileDesktop],p.dcAdPosition="number"==typeof i.options.adPosition?i.options.adPosition:"no-pos",p.currentPriority=i.priority,p.initPlatformTrackerManager(i.it,i.defaultTracker,i.options)),i.ava=e.ava[p.device.mobileDesktop],i.banner=e.banner[p.device.mobileDesktop],void 0===i.banner.tag?i.banner.tag=[]:"string"==typeof i.banner.tag&&(i.banner.tag=[i.banner.tag]),i.loop&&(i.loop=e.loop[p.device.mobileDesktop]),i.minMargin=e.minMargin?e.minMargin:15,I.isAMP()&&(i.ava.enabled=!1,i.options.fold=!1,i.options.class=[I.getAMPContainerClass()],f.CLOSE_MILLISECONDS=1e3);var r="string"==typeof i.options.class?i.options.class.trim():i.options.class;if(r&&0<r.length){var n=u(window,i.options.class,i.options.classPosition);if(n.c?(i.w=n.w,i.container=n.c):(n=u(window.parent,i.options.class,i.options.classPosition)).c&&(i.w=n.w,i.container=n.c),!i.container){if(p.initTimeoutCurrent<p.initTimeoutLimit)return p.initTimeoutCurrent++,p.initTimeout=setTimeout(function(){p.init()},2e3),!1;if(i.options.classMandatory)return!1;t=p.setContainerFromScript(i.options.adPosition),i.container=t.c,i.adPosition=t.ps,i.options.adPosition=t.ps,i.w=window}}else t=p.setContainerFromScript(),i.container=t.c,i.adPosition=t.ps,i.options.adPosition=t.ps,i.w=window;if(!i.container)throw new Error("SMx.container is undefined");i.zIndex=1;var a=i.container,s=[];s.unshift(a);for(var o=!1;a.parentNode&&a.parentNode!==i.w.document.body;)a=a.parentNode,s.unshift(a);for(var d=0;d<s.length;d++){var c=s[d];if(c.style){var l=i.w.getComputedStyle(c).getPropertyValue("position");!1===o&&"static"!==l&&(c.style.zIndex&&(i.zIndex=c.style.zIndex),i.w.getComputedStyle(c).getPropertyValue("z-index")&&(i.zIndex=i.w.getComputedStyle(c).getPropertyValue("z-index")),o=!0)}}return 0!==i.zIndex&&"auto"!==i.zIndex||!a.style||(a.style.zIndex&&(i.zIndex=a.style.zIndex),i.w.getComputedStyle(a).getPropertyValue("z-index")&&(i.zIndex=i.w.getComputedStyle(a).getPropertyValue("z-index"))),0!==i.zIndex&&"auto"!==i.zIndex||(i.zIndex=1),i.w.addEventListener("message",_,!1),i.options&&("number"==typeof i.options.skipreminder?(i.options.skipReminder=0<i.options.skipreminder,i.options.skipReminderTime=i.options.skipreminder):(i.options.skipReminder="boolean"==typeof i.options.skipReminder&&i.options.skipReminder,i.options.skipReminderTime="number"==typeof i.options.skipReminderTime?i.options.skipReminderTime:0)),i}(),r=t.ptfTrackerManager.fireOpportunity();if(this.dispatchPlatformTrackerEvent(this.EVENTS.SM_OPPORTUNITY_FIRED,r),!i)return!1;if(t.params=Object.assign({},i),t.initialAva=Object.assign({},t.params.ava),t.initialUp=t.params.options.up,t.dispatchEvent(t.EVENTS.SM_UPDATE_PARAMS,t.params),0<window.SMIntextPlaylist.length){for(var n=!1,a=0;a<window.SMIntextPlaylist.length;a++)window.SMIntextPlaylist[a].p.ava&&window.SMIntextPlaylist[a].p.ava.enabled&&(n=!0),t.api===window.SMIntextPlaylist[a].api&&(currentPlayer=a);t.params.ava&&n&&!t.params.options.inblock&&(t.params.ava.enabled=!1),t.params.banner&&(t.params.banner.display="fixed")}if(t.params.options.inblock){t.params.options.up||(t.params.options.up=!0),t.params.ava||(t.params.ava={}),t.params.ava.enabled||(t.params.ava.enabled=!0),t.params.ava.position="bottom_left";var s=Math.floor(360*t.avaDefaultWidth.mobile/640*t.params.options.inblockId)+60,o=Math.floor(360*t.avaDefaultWidth.desktop/640*t.params.options.inblockId+60);t.params.ava.bottom="mobile"===t.device.mobileDesktop?s:o}if(window.SMIntextPlaylist.push({p:t.params,state:"loading",api:h.api}),t.params.api=t.api,t.params.options.extra){var d=document.createElement("script");d.src="https://static.sunmedia.tv/SMSdk/extra/"+t.params.options.extra+"/extra.js?"+h.api,d.onload=t.afterExtra.bind(t),d.error=t.afterExtra.bind(t),document.getElementsByTagName("head")[0].appendChild(d)}else t.afterExtra()},this.afterExtra=function(){var e=this;if(e.params.whitelist&&0<e.params.whitelist.length){var i=k.decompose(e.params.w.location.href);if(i&&e.params.whitelist&&!e.params.whitelist.some(function(t){return t===i.host}))return void v.info("The host "+i.host+" is not allowed to run this ad");v.info("HOST "+i.host+" ALLOWED")}"mobile"===this.device.mobileDesktop&&e.mobileNetBlacklist?e.device.checkWifi(function(t){t?v.info("HOST  "+i.host+" *NOT* ALLOWED TO RUN IN MOBILE NET"):e.loadPlayer()}):e.loadPlayer()},this.loadPlayer=function(){var t=this;t.setupPluginElements(),t.setupPluginStyle(),g.checkForScreenHunter(t.params);var e=t.newSMPlayer();e.addListener("all",t),t.params.clientTag&&e.loadTag(t.params.clientTag,"c"),t.params.tag&&e.loadTag(t.params.tag,"sm"),t.params.priority&&e.setTagPriority(t.params.priority),t.players.push(e),t.state=t.states.LOADING,t.frameContainer.style.display="block",t.isScrolledIntoView(t.frameContainer)||"mobile"!==t.device.mobileDesktop||(t.players[0].adPlayer.autoplay=!1,t.players[0].adPlayer.removeAttribute("autoplay")),t.createIntervalByName("effectivePosition",t.setScrollEffective,50);for(var i=0;i<window.SMIntextPlaylist.length;i++)window.SMIntextPlaylist[i].api===t.params.api&&(window.SMIntextPlaylist[i].state="loaded");t.mutationObserver(),t.samsungb=navigator.userAgent.toLowerCase().indexOf("samsungbrowser"),-1<t.samsungb&&(t.players[0].adPlayer.addEventListener("canplaythrough",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("error",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("suspend",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("waiting",t.videoMsn.bind(t)),t.players[0].adPlayer.addEventListener("stalled",t.videoMsn.bind(t))),t.players[0].start(),t.createIntervalByName("outOfPageInterval",t.setOutOfPage,50),t.bringPlayerUp()},this.setupPluginStyle=function(){var t="."+this.referenceIntegrationName+"{background-color:#e7e7e7;position:relative;width:100%;float:left; z-Index:1;margin-top:10px;margin-bottom:20px;}."+this.reminderIntegrationName+"{width:100%;}.SMIntext-loading {z-index: 18;position: absolute;top: 50%;left: 50%;margin-top: -32px;margin-left: -32px;height: 64px;width: 64px;display: none;}.SMIntext-loading div {box-sizing: border-box;display: block;position: absolute;width: 51px;height: 51px;margin: 6px;border: 6px solid;border-radius: 50%;animation: SMLoading 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color: #ff8f00 transparent transparent transparent;}.SMIntext-loading div:nth-child(1) { animation-delay: -0.45s; }.SMIntext-loading div:nth-child(2) { animation-delay: -0.3s; }.SMIntext-loading div:nth-child(3) { animation-delay: -0.15s; }@keyframes SMLoading { 0% {transform: rotate(0deg);} 100% {transform: rotate(360deg); }}";"string"==typeof p.params.options.css&&(t+=p.params.options.css);var e=p.getOrCreateStyle(p.configStyleIntegrationId,t);p.params.w.document.getElementsByTagName("head")[0].appendChild(e),p.buildCSS("ref"),p.buildCSS("noava"),p.buildCSS("starting")},this.setupPluginElements=function(){for(var t=[],e=0;e<p.params.container.childNodes.length;e++){var i=p.params.container.childNodes[e];1===i.nodeType&&T.isChildNodeAllowed(i)&&t.push(i)}(p.effective=p.getOrCreateEffective(),p.params.container.insertBefore(p.effective,t[p.params.options.adPosition]),p.reference=p.getOrCreateReference(),p.params.container.insertBefore(p.reference,t[p.params.options.adPosition]),p.loadingDiv=p.createLoadingDiv(),p.reference.appendChild(p.loadingDiv),p.clearfix=p.getOrClearfixDiv(),p.params.container.insertBefore(p.clearfix,t[p.params.options.adPosition]),p.frameContainer=p.getOrCreateFrameContainer(),I.isAMP())?p.params.w.document.getElementById("c").appendChild(p.frameContainer):p.params.w.document.body.appendChild(p.frameContainer)},this.createLoadingDiv=function(){var t=p.params.w.document.getElementById(p.loadingInstanceId);return t||((t=p.params.w.document.createElement("div")).setAttribute("id",p.loadingInstanceId),t.setAttribute("class",p.loadingClassName+" "+p.device.mobileDesktop)),t.innerHTML="<div></div><div></div><div></div><div></div>",t},this.getOrCreateReference=function(){var t=p.params.w.document.getElementById(p.referenceInstanceId);return t?t.innerHTML="":((t=p.params.w.document.createElement("div")).setAttribute("id",p.referenceInstanceId),t.setAttribute("class",p.referenceClassName+" "+p.device.mobileDesktop)),t},this.getOrCreateEffective=function(){var t=p.params.w.document.getElementById(p.effectiveInstanceId);return t||((t=p.params.w.document.createElement("div")).setAttribute("id",p.effectiveInstanceId),t.setAttribute("class",p.effectiveClassName+" "+p.device.mobileDesktop),t.setAttribute("style","position:relative;width:100%;height:1px;")),t},this.getOrClearfixDiv=function(){var t=p.params.w.document.getElementById(p.clearfixInstanceId);return t||((t=p.params.w.document.createElement("div")).setAttribute("id",p.clearfixInstanceId),t.setAttribute("class",p.clearfixClassName+" "+p.device.mobileDesktop),t.setAttribute("style",'display:block;clear:both;content:"";')),t},this.getOrCreateFrameContainer=function(){var t=p.params.w.document.getElementById(p.frameContainerInstanceId);t||((t=p.params.w.document.createElement("div")).setAttribute("id",p.frameContainerInstanceId),t.setAttribute("data-id",r),t.setAttribute("data-device",p.device.mobileDesktop));var e=p.params.ava.enabled?"SMstarting":"SMContainer";return t.setAttribute("class",e+"_"+p.api),t},this.getOrCreateStyle=function(t,e){var i=p.params.w.document.getElementById(t);if(!i)if((i=p.params.w.document.createElement("style")).setAttribute("id",t),i.setAttribute("type","text/css"),i.styleSheet)i.styleSheet.cssText=e;else{var r=p.params.w.document.createTextNode(e);i.appendChild(r)}return i},this.mutationObserver=function(){var t=(p=this).params.w.document.body,e=function(t){try{var e={};t.forEach(function(t){if((-1===t.target.id.indexOf("SM")||-1!==t.target.id.indexOf(p.effectiveInstanceId))&&("childList"===t.type||"attributes"===t.type&&t.oldValue&&t.oldValue!==t.target.className))throw p.rebuildCSSDirect(),e})}catch(t){}};p.styleMutationObserver=MutationObserver?new MutationObserver(e):WebKitMutationObserver?new WebKitMutationObserver(e):null,p.styleMutationObserver?p.styleMutationObserver.observe(t,{attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["class","style"]}):p.createIntervalByName("makingStyles",p.rebuildCSSDirect,500)},this.stopMutationObserver=function(){try{p.styleMutationObserver.disconnect()}catch(t){}},this.newSMPlayer=function(){var t=this;return new b("SMIntext",t.frameContainer,t.params.options,t.device,t.params.w,t.params.api)},this.setScrollEffective=function(){if(!p.effectiveFired){var t=p.reference.parentNode?p.reference:p.effective,e=this.isScrolledIntoView(t),i=this.isScrolledBellowView(t);if(e||i){if(!p.skipAdTimeout){var r="mobile"===p.device.mobileDesktop?1e5:6e4;p.skipAdTimeout=setTimeout(function(){"init"===p.played.state&&(p.players[0]&&p.players[0].vast?p.players[0].vast.skipAd():p.close())},r)}p.fireEffectiveTracker(),p.fireUnfilledTrackers()}}},this.unfold=function(){this.params.options.fold=!1,this.buildCSS("ref"),this.buildCSS("maxmin")},this.on=function(t,e){var i=this;switch(t){case"NoVideoReminderImpression":this.unfold();break;case"AdReplay":i.ptfTrackerManager&&(i.state=i.states.READY,i.players[0].setTagPriorityToSunMedia(),i.currentPriority=f.SM_PRIORITY.SUN_MEDIA,i.ptfTrackerManager.initVideoTracker(i.currentPriority,i.loopIntents+1)),i.restarted=!0,i.effectiveFired=!1,i.createIntervalByName("effectivePosition",i.setScrollEffective,50),i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case"AdLoaded":"mobile"===this.device.mobileDesktop&&(this.isSelectedSpotxTag=E.isSelectedSpotxChangeTag(this.players[0].vast.currentTagUrl),this.isRichAudienceTag=E.isSelectedRichAudienceTag(this.players[0].vast.currentTagUrl),(this.isSelectedSpotxTag||this.isRichAudienceTag)&&(this.params.ava.position="top",this.params.ava.enabled=!0,this.params.options.up=!0,this.bringPlayerUp())),this.adFactory&&"SSP"===this.adFactory.type?(this.state=this.states.STARTING,this.players[0].vast.startAd()):(this.loadingDiv&&(this.loadingDiv.style.display="none"),this.unfold()),this.sspSize=null,i.played={state:"loaded",data:e},i.currentTimStarted=0,i.state=this.states.READY,i.buildCSS("ref"),i.buildCSS("maxmin"),"mobile"===this.device.mobileDesktop?((i.isScrolledIntoView(i.frameContainer)||i.evalStartAdAvaCondition())&&(i.state=i.states.STARTING,i.players[0].vast.startAd()),i.touchenabled||(i.touchenabled=!0,this.params.w.document.addEventListener("touchstart",m,!0),this.params.w.document.addEventListener("touchcancel",m,!0),this.params.w.document.addEventListener("touchmove",m,!0),this.params.w.document.addEventListener("touchend",m,!0)),-1<i.samsungb&&i.createIntervalByName("samsungInterval",i.setScrollPositionSamsung,5)):i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5),I.requestResizeUntilSuccess(this.reference.offsetWidth,this.reference.offsetHeight,!0);break;case"AdStarted":this.adFactory&&"SSP"===this.adFactory.type&&(this.loadingDiv&&(this.loadingDiv.style.display="none"),this.unfold());try{if(i.params.w){i.params.w.addEventListener("resize",function(){setTimeout(function(){if(i.state===i.states.PLAYING||i.state===i.states.PAUSED){if(i.minimized)return!1;i.buildCSS("maxmin"),i.buildCSS("ref"),i.players[0].fullscreen||i.maximizeVideo(!0)}}.bind(this),200)}.bind(i),!1),I.isAMP()&&i.players[0].adPlayer.addEventListener("pause",function(t){this.tryToResumePlayer(!1)}.bind(this))}}catch(t){}i.params.options.callback&&"function"==typeof i.params.w[i.params.options.callback]&&i.params.w[i.params.options.callback]({status:"SunMediaStart"}),this.minimized&&this.resizePlayer(),this.adFactory&&this.adFactory.type&&"SSP"===this.adFactory.type&&this.buildCSS("ref");break;case"AdPlaying":i.played={state:"played",data:{playedAdsCount:1}},this.state=this.states.PLAYING,i.buildCSS("maxmin"),i.minimized||i.players[0].fullscreen||i.maximizeVideo(!0),i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case"AdPaused":this.state=this.states.PAUSED;break;case"AdComplete":i.clearAllIntervals();try{this.state!==this.states.COMPLETED&&(this.state=this.states.COMPLETED,i.endAd(e))}catch(t){this.state=this.states.COMPLETED,v.warning(t)}break;case"SMImaLoaded":i.minimized||this.players[0].fullscreen||(i.buildCSS("maxmin"),i.maximizeVideo());break;case"AdRemainingTimeChange":if(i.samsungStartClick&&0<e)try{i.samsungStartClick.parentNode.removeChild(i.samsungStartClick)}catch(t){}"mobile"===i.device.mobileDesktop&&i.touchenabled&&0<e&&(i.touchenabled=!1,this.params.w.document.removeEventListener("touchstart",m,!0),this.params.w.document.removeEventListener("touchend",m,!0),this.params.w.document.removeEventListener("touchcancel",m,!0),this.params.w.document.removeEventListener("touchmove",m,!0));break;case"SMAdRequest":var r=this.ptfTrackerManager.fireRequest();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_REQUEST_FIRED,r);break;case"AdTracker":!1===this.ptfTrackerManager.isBillingTracker(e)&&this.fireTracker(e);break;case f.EVENTS.SM.TRACKER:!0===this.ptfTrackerManager.isBillingTracker(e)&&(this.fireTracker(e),I.reportEntity(this.api));break;case f.EVENTS.SM.UNFILLED:this.updateBlockEmptyFlags(!0);break;case f.EVENTS.SM.TAGS_BLOCK_CHANGED:this.tagsBlockHasChanged=!0,this.currentPriority=this.params.priority===f.SM_PRIORITY.CLIENT?f.SM_PRIORITY.SUN_MEDIA:f.SM_PRIORITY.CLIENT,this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents);break;case f.EVENTS.SM.PLAYER_FULLSCREEN_EXIT:var n=this.minimized?"SMMinimize_":"SMMaximize_";this.frameContainer.className=n+this.api,this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight);break;case f.EVENTS.SM.UPDATE_CONFIG_OPTIONS:e.hasOwnProperty("ava")&&(this.params.ava.enabled=e.ava),e.hasOwnProperty("restart")&&(this.params.options.restart=e.restart);break;case f.EVENTS.AD_FACTORY:this.onAdFactory(e);break;case f.EVENTS.AD_FACTORY_SSP_VPAID_SIZE:this.onAdFactoryVpaidSSPSize(e);break;case f.EVENTS.SM.NON_STARTED:this.state="NONSTARTED",-1<i.samsungb?i.createIntervalByName("samsungInterval",i.setScrollPositionSamsung,5):i.createIntervalByName("scrollPositionInterval",i.setScrollPosition,5);break;case f.EVENTS.SM.UPDATE_TRACKER:i.ptfTrackerManager.updateTracker(e);break;case"AdError":case"AdCompleted":case"AdEnded":this.adFactory=null;break;case"AdSkipped":this.params.loop&&this.params.loop.enabled&&(this.params.loop.enabled=!1),this.adFactory=null;break;case"changeBillingPB":"sm"===this.currentPriority&&this.ptfTrackerManager.setPBType(e)}this.dispatchEvent(t,e)},this.setScrollPositionSamsung=function(){if("samsung"!==p.played.state&&(p.played.state="samsung"),this.isScrolledIntoView(this.frameContainer)&&p.samsungstart){if(p.clearIntervalByName("samsungInterval"),p.samsungStartClick)return!1;var t=document.createElement("div");t.setAttribute("id","SMIntext_SamsungStarted_"+p.api),t.setAttribute("style","width:100%;height:100%;position:absolute;top:0px;left:0px;z-Index:50000000;background-color:#e5e5e5;opacity:0.5;");'<circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#666"/>','<polygon points="70, 55 70, 145 145, 100" fill="#666"/>',"</svg>",t.innerHTML='<svg style="position:relative; width:50%;height:50%;left:25%;top:25%;" viewBox="0 0 200 200" alt="Play video"><circle cx="100" cy="100" r="90" fill="none" stroke-width="15" stroke="#666"/><polygon points="70, 55 70, 145 145, 100" fill="#666"/></svg>',t.onclick=function(){try{p.samsungStartClick.parentNode.removeChild(p.samsungStartClick)}catch(t){}p.touchSamsungBrowser()},p.samsungStartClick=t,p.frameContainer.appendChild(t)}},this.touchSamsungBrowser=function(){var t=p.players[0].adPlayer;-1<p.samsungb&&1<t.offsetWidth&&1<t.offsetHeight&&(p.samsungstart?(p.state===p.states.PLAYING&&p.players[0].vast.isVPAID||p.state===p.states.STARTING&&!p.players[0].vast.isVPAID)&&p.players[0].resumeAd():p.state===p.states.READY&&(p.state=this.states.STARTING,p.players[0].vast.startAd()))},this.touch=function(){-1<p.samsungb?p.touchSamsungBrowser():p.setScrollPosition()};var m=p.touch.bind(p);this.maximizeVideo=function(t){this.players[0].fullscreen||this.adFactory&&"SSP"===this.adFactory.type&&this.params.ava.enabled||(this.frameContainer.className="SMMaximize_"+this.api,this.minimized=!1,!this.players[0].fullscreen&&t&&this.resizePlayer(),this.adFactory&&this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight,"normal",this.params.options.up))},this.minimizeVideo=function(t){this.players[0].fullscreen||(this.frameContainer.className="SMMinimize_"+this.api,this.minimized=!0,this.players[0].fullscreen||this.resizePlayer(t),this.adFactory&&this.players[0].resize(this.frameContainer.offsetWidth,this.frameContainer.offsetHeight,"normal",this.params.options.up))},this.setOutOfPage=function(){!this.isOutOfScreen(this.reference)||this.state!==this.states.PLAYING&&this.state!==this.states.PAUSED?this.isOutOfScreen(this.reference)&&(this.skippedViaOutOfPage=!0,this.close({playedAdsCount:0,remainderAds:null})):(this.skippedViaOutOfPage=!0,this.players[0].vast.skipAd())},this.tryToResumePlayer=function(t){try{!t&&this.state===this.states.PLAYING&&this.players[0].adPlayer.paused&&p.players[0].vast.clientStarted&&2<this.players[0].duration-this.players[0].adCurrentTime&&(this.adFactory&&this.adFactory.type&&"SSP"!==this.adFactory.type?this.players[0].resumeAd():this.adFactory||this.players[0].resumeAd())}catch(t){}},this.setScrollPosition=function(){if(this.state!==this.states.COMPLETED){var t=this.isScrolledIntoView(this.reference);try{if(this.params.options.up&&(t=this.isScrolledIntoView(this.frameContainer)),(t||p.evalStartAdAvaCondition())&&"NONSTARTED"===this.state)return this.state="LOADING",void this.players[0].vast.initAd();this.state===this.states.READY&&(t&&this.players.length||this.minimized||p.evalStartAdAvaCondition())&&(this.state=this.states.STARTING,this.players[0].vast.startAd())}catch(t){}this.tryToResumePlayer(t);var e=this.isScrolledOutOfAvaRegion(this.reference);try{if(this.state!==this.states.PLAYING||this.players[0].fullscreen||t||this.minimized||p.players[0].vast.clientStarted||!p.players[0].vast.isVPAID||p.players[0].pauseAd(),t&&!p.players[0].vast.clientStarted&&p.players[0].vast.isVPAID?this.state!==this.states.PAUSED&&this.state!==this.states.PLAYING||(this.players[0].vast.startAd(),this.players[0].pauseAd(),this.players[0].resumeAd(),this.players[0].vast.clientStarted=!0):this.minimized&&e&&(this.sspSize||this.maximizeVideo(!0)),!this.params.ava.enabled)return;this.players[0].fullscreen||e||this.minimized||!p.players[0].vast.clientStarted||this.minimizeVideo()}catch(t){}}},this.videoMsn=function(t){"canplaythrough"===t.type&&(p.samsungstart=!0)},this.isScrolledOutOfAvaRegion=function(t){var e=t.getBoundingClientRect(),i=T.windowHeight(this.params.w)-50;return 100<=e.top&&e.bottom<=i},this.isScrolledIntoView=function(t){var e=t.getBoundingClientRect();return 0<=e.top&&e.bottom-(e.height-55)<=T.windowHeight(this.params.w)},this.isScrolledBellowView=function(t){return t.getBoundingClientRect().top<0},this.isOutOfScreen=function(t){var e=t.getBoundingClientRect(),i=Math.round(e.left),r=Math.floor(e.left+e.width);return i<0||r>T.windowWidth(window)},this.createIntervalByName=function(t,e,i){p.intervals=p.intervals||{},p.intervals[t]||(p.intervals[t]=setInterval(e.bind(p),i))},this.clearIntervalByName=function(t){try{p.intervals.hasOwnProperty(t)&&(clearInterval(p.intervals[t]),delete p.intervals[t])}catch(t){v.warning(t)}},this.clearAllIntervals=function(){p.stopMutationObserver(),p.clearIntervalByName("makingStyles"),p.clearIntervalByName("scrollPositionInterval"),p.clearIntervalByName("outOfPageInterval")},this.endAd=function(t){this.initDefaultAvaWidth(this.params),this.params.ava=Object.assign({},this.initialAva),this.params.options.up=this.initialUp,this.isSelectedTag=!1,this.adFactory=null,this.sspSize=null,this.players[0].removeCurrentAd(),this.params.ava.enabled&&this.buildCSS("maxmin"),this.hasBeenAds=this.hasBeenAds||t&&0<t.playedAdsCount,this.params.loop&&this.params.loop.enabled&&this.hasBeenAds&&this.params.loop.onlyOneVideo&&(this.params.loop.enabled=!1);try{p.samsungStartClick.parentNode.removeChild(p.samsungStartClick)}catch(t){}if(p.played={state:"ended",data:t},t&&t.reminderAds&&0<t.reminderAds.length){this.pluginEnded=!0,this.fireUnfilledTrackers(),this.params.content=null,this.params.banner=null,this.params.options.restart=!1,this.reminderContainer=this.params.w.document.createElement("div"),this.reminderContainer.setAttribute("id",this.reminderInstanceId),this.reminderContainer.setAttribute("class",this.reminderClassName+" "+this.device.mobileDesktop);for(var e=[],i=0;i<this.reference.parentNode.childNodes.length;i++){var r=this.reference.parentNode.childNodes[i];1===r.nodeType&&T.isChildNodeAllowed(r)&&e.push(r)}this.reference.parentNode.insertBefore(this.reminderContainer,e[this.params.options.adPosition]);var n=function(){I.isAMP()&&(this.close(t),I.closeAd())}.bind(this);this.params.w["reminderDisplay"+this.api]=new C(t.reminderAds,this.params.ava,this.reference,this.params.w,this.device.mobileDesktop,this.params.options.skipReminder,this.params.options.skipReminderTime,this.params.api,this.reminderContainer,n),this.close(t)}else if(this.params.loop&&this.params.loop.enabled){var a=t&&0===t.playedAdsCount||this.params.loop.autoStart;this.restartPlayer(a)}else this.params.banner&&0<this.params.banner.tag.length&&("empty"===this.params.banner.schedule&&t&&0===t.playedAdsCount||"always"===this.params.banner.schedule)?(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.params.w.bannerDisplay=new w(this.params,this.device),this.close(t),this.params.banner=!1):(this.pluginEnded=!0,this.fireUnfilledTrackers(),this.minimized&&this.maximizeVideo(),this.params.options.restart&&t&&0<t.playedAdsCount?(this.players[0].displayRestart(function(){this.clearAllIntervals(),this.endAd(t)}.bind(this)),this.params.options.restart=!1):this.params.content&&this.params.content.type&&"string"==typeof this.params.content.data&&""!==this.params.content.data.trim()?(this.displayStatic(this.params.content,this.close.bind(this),t),this.params.content.type=!1):this.close(t))},this.displayStatic=function(t){var e=this.params.content,i=document.createElement("div");i.id="SMAuxContent";var r,n=this.reference.offsetHeight;n<2&&(n=360*this.reference.offsetWidth/640),i.setAttribute("style","width:100%;height:"+n+"px;transform:translateX(-50%);margin-left:50%;margin-bottom:10px;"),"img"===e.type?((r=new Image).src=e.data,r.style.maxWidth="100%"):"video"===e.type?((r=document.createElement("video")).setAttribute("playsinline",""),r.setAttribute("webkit-playsinline",""),r.setAttribute("muted",""),r.setAttribute("autoplay",""),r.setAttribute("controls",""),r.src=e.data,r.style.height=r.style.width="100%"):i.innerHTML=e.data,r&&i.appendChild(r),this.params.container.insertBefore(i,this.params.container.childNodes[this.params.options.adPosition]),this.close(t)},this.close=function(t){if(this.dispatchEvent(this.EVENTS.SM_COMPLETED,this.api),p.clearAllIntervals(),this.state!==p.states.CLOSING){this.state=p.states.CLOSING,window.SMDevTesting&&console.log("SMDevTesting",window.SMDevTesting),t||(t={playedAdsCount:0,remainderAds:null}),this.loadingDiv&&(this.loadingDiv.style.display="none"),this.reference.style.height="0px";var e=I.isAMP()?"relative":window.getComputedStyle(this.frameContainer).getPropertyValue("position"),i=window.getComputedStyle(this.frameContainer).getPropertyValue("top"),r=window.getComputedStyle(this.frameContainer).getPropertyValue("left"),n=window.getComputedStyle(this.frameContainer).getPropertyValue("width"),a=window.getComputedStyle(this.frameContainer).getPropertyValue("z-index"),s=" .SMMaximize_"+this.params.api+"{position:"+e+";top:"+i+";left:"+r+";height:0px !important;width:"+n+";z-Index:"+a+";}",o="SMStyle_maxmin_"+this.api,d=document.createElement("style");d.type="text/css",d.innerHTML=s,d.id=o,document.getElementById(o)&&document.getElementById(o).parentNode.removeChild(document.getElementById(o)),document.getElementsByTagName("head")[0].appendChild(d),this.minimized&&this.maximizeVideo(),this.params.options.callback&&"function"==typeof this.params.w[this.params.options.callback]&&this.params.w[this.params.options.callback]({status:"SunMediaEnd",ads:t.playedAdsCount,container:this.params.container}),setTimeout(function(){this.reference&&this.reference.parentNode&&this.reference.parentNode.removeChild(this.reference),this.frameContainer&&this.frameContainer.parentNode&&this.frameContainer.parentNode.removeChild(this.frameContainer),this.containerSizeChange(),this.dispatchEvent(this.EVENTS.CLOSED,this),this.params.w.bannerDisplay||this.reminderContainer||I.closeAd()}.bind(this),f.CLOSE_MILLISECONDS)}},this.containerSizeChange=function(){if(window.SMIntextPlaylist&&0<window.SMIntextPlaylist.length){for(var t=-1,e=0;e<window.SMIntextPlaylist.length;e++)try{window.SMIntextPlaylist[e].api!==this.params.api?window["SMIntext_"+window.SMIntextPlaylist[e].api].rebuildCSS():this.skippedViaOutOfPage&&(this.skippedViaOutOfPage=!1,t=e)}catch(t){}-1<t&&window.SMIntextPlaylist.splice(t,1)}},this.rebuildCSS=function(){setTimeout(function(){try{p.buildCSS("starting"),p.buildCSS("noava"),p.buildCSS("maxmin"),p.minimized||!p.players||p.players[0].fullscreen||p.maximizeVideo()}catch(t){}},500)},this.rebuildCSSDirect=function(){p.buildCSS("starting"),p.buildCSS("noava"),p.buildCSS("maxmin"),p.minimized||!p.players||p.players[0].fullscreen||p.maximizeVideo()},this.getCreativeHeight=function(e){try{var i=1,t=this.players[0].vast.mediaFileSelected,r=0,n=0;t&&(r=t.width,n=t.height),0!==parseInt(r,10)&&r&&"undefined"!==r||(r=640,n=360);var a=this.getRatio(r,n),s=r/a+":"+n/a;switch(t.apiFramework&&"vpaid"===t.apiFramework.toLowerCase()&&(s="16:9"),s){case"9:16":case"16:9":i=360*e/640,this.ratio=1;break;case"3:4":case"4:3":i=360*e/480,this.ratio=2;break;case"76:135":i=540*e/304,this.ratio=3;break;default:i=360*e/640,this.ratio=1}}catch(t){i=360*e/640,this.ratio=1}return v.info("SMIntext ratio",this.ratio),i},this.getRatio=function(t,e){return 0===e?t:this.getRatio(e,t%e)}}function _(t){}((r.prototype=Object.create(y.prototype)).constructor=r).prototype.EVENTS={SM_OPPORTUNITY_FIRED:"SMOpportunityFired",SM_REQUEST_FIRED:"SMRequestFired",SM_EFFECTIVE_FIRED:"SMEffectiveFired",SM_UNFILLED_FIRED:"SMUnfilledFired",SM_VIDEO_TRACKER_FIRED:"SMVideoTrackerFired",SM_AVA_DONE:"SMAvaDone",SM_COMPLETED:"SMCompleted",SM_UPDATE_PARAMS:"SMUpdateParams",BROADCAST:"SMPluginBroadcast",CLOSED:"SMPluginClosed"},r.prototype.dispatchPlatformTrackerEvent=function(t,e){e&&e.urlList.length&&this.dispatchEvent(t,e)},r.prototype.updateBlockEmptyFlags=function(t){t=void 0!==t&&(t&&!0),this.currentPriority===f.SM_PRIORITY.SUN_MEDIA?this.sunMediaBlockEmpty=void 0!==this.sunMediaBlockEmpty?t&&this.sunMediaBlockEmpty:t:this.clientBlockEmpty=void 0!==this.clientBlockEmpty?t&&this.clientBlockEmpty:t},r.prototype.fireTracker=function(t){var e,i=this.ptfTrackerManager.isImpressionTracker(t);if(i&&this.updateBlockEmptyFlags(),this.hasBeenAds){var r=this.ptfTrackerManager.isSkipTracker(t);(i||r)&&(e=this.ptfTrackerManager.fireVideoTracker(t))}else e=this.ptfTrackerManager.fireVideoTracker(t);this.dispatchPlatformTrackerEvent(this.EVENTS.SM_VIDEO_TRACKER_FIRED,e)},r.prototype.fireEffectiveTracker=function(){this.effectiveFired=!0,this.clearIntervalByName("effectivePosition");var t=this.ptfTrackerManager.fireEffective();this.dispatchPlatformTrackerEvent(this.EVENTS.SM_EFFECTIVE_FIRED,t)},r.prototype.fireUnfilledTrackers=function(){var t;if(this.effectiveFired&&this.pluginEnded){if(this.tagsBlockHasChanged)t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty,this.clientBlockEmpty);else{var e=this.params.priority===f.SM_PRIORITY.SUN_MEDIA;t=this.ptfTrackerManager.fireUnfilled(this.sunMediaBlockEmpty&&e,this.clientBlockEmpty&&!e)}this.dispatchPlatformTrackerEvent(this.EVENTS.SM_UNFILLED_FIRED,t)}},r.prototype.evalStartAdAvaCondition=function(){return this.params.ava.enabled&&!0===this.effectiveFired},r.prototype.resizePlayer=function(t){var e=this.frameContainer.offsetWidth,i=this.frameContainer.offsetHeight;if(this.adFactory&&this.adFactory.width&&"SSP"!==this.adFactory.type){var r=this.getAdFactoryCreativeSize();i=r.height,e=r.width}this.players[0].resize(e,i,"normal",t)},r.prototype._buildStyle=function(t){var e,i=this.getAdFactoryCreativeSize();switch(t){case"maxmin":try{var r=window.getComputedStyle(this.reference).getPropertyValue("z-index");parseInt(this.params.zIndex,10)<=parseInt(r,10)&&(this.params.zIndex=parseInt(r,10)+10)}catch(t){}var n=i.width,a=i.height,s=this.reference.getBoundingClientRect(),o=s.left;this.params.options.fold&&(a=this.referenceFoldHeight),this.adFactory&&this.adFactory.height&&this.adFactory.width&&this.adFactory.forceDimensions&&s.width>n&&(o+=(s.width-n)/2);var d=this.sspSizeBanner();if(this.sspSize&&d)0===(f=s.width)&&(f=this.params.container.offsetWidth),this.sspSize.rescale?(n=s.width,a=s.width*this.sspSize.h/this.sspSize.w,o=s.left):(n=this.sspSize.w,a=this.sspSize.h,o=s.left+(s.width-this.sspSize.w)/2);if(I.isAMP()&&I.isAMPStickyIntegration())if(d){var c=I.convertSizesForStickyAd(n,a);n=c.width,a=c.height,o=s.left+(s.width-n)/2}else a=I.getStickyAdMaxHeight();o+="px",e=".SMMaximize_"+this.api+"{position:absolute !important; top:"+A.getElementPosition(this.reference).y+"px !important;left:"+o+" !important;width:"+n+"px !important;height:"+a+"px !important;z-index:"+this.params.zIndex+";}";var l,h=this.avaDefaultWidth.desktop;if("desktop"!==this.device.mobileDesktop&&(h=this.avaDefaultWidth.mobile),"number"==typeof this.params.ava.width&&(h=this.params.ava.width),this.adFactory&&this.adFactory.forceDimensions&&(this.adFactory.width&&0<parseInt(this.adFactory.width,10)&&void 0!==this.adFactory.width&&(h=this.adFactory.width),this.adFactory.height&&0<parseInt(this.adFactory.height,10)&&void 0!==this.adFactory.height&&(l=this.adFactory.height),void 0===l&&(l=this.getHeightFromWidth(h)),"desktop"!==this.device.mobileDesktop&&(h/=2,l/=2)),void 0===l){l=this.getHeightFromWidth(h);var p=this.getCreativeHeight(h);("16:9"!==E.getRatioAsString(h,p)||this.adFactory||E.isVerificationTag(this.players[0]))&&(l=p)}var u=this.params.w.getComputedStyle(this.reference),m={height:l,width:h};if("desktop"!==this.device.mobileDesktop&&(m.right=parseInt(u.right),m.left=parseInt(u.left)),this.sspSize&&this.sspSizeBanner()){var f=m.width;if(this.sspSize.rescale?(m.width=f,m.height=f*this.sspSize.h/this.sspSize.w):(m.width=this.sspSize.w,m.height=this.sspSize.h),this.sspSize.avareduce&&(m.width=m.width/2,m.height=m.height/2),"desktop"!==this.device.mobileDesktop&&this.sspSize.rescaleMobile&&(m.width=m.width/2,m.height=m.width*this.sspSize.h/this.sspSize.w),"desktop"!==this.device.mobileDesktop&&this.sspSize.mobileWidth){var v=this.avaDefaultWidth.mobile;m.width=this.sspSize.mobileWidth*v/100,m.height=m.width*this.sspSize.h/this.sspSize.w}}i=this.getAdFactoryCreativeSize();var g=E.getFrameAVAStyle(this.params.ava,i,m);e+=".SMMinimize_"+this.api+"{position:fixed!important;z-Index:900000;"+g+"}";break;case"noava":e=".SMContainer_"+this.api+"{position:absolute !important;top:"+A.getElementPosition(this.reference).y+"px !important;left:"+this.reference.getBoundingClientRect().left+"px !important;width:"+this.reference.getBoundingClientRect().width+"px !important;height:"+this.reference.getBoundingClientRect().height+"px !important;z-Index:20000}";break;case"ref":var y=this.buildReferenceStyle();e="#"+this.referenceInstanceId+"{"+y+"}";break;case"starting":var S=this.reference.getBoundingClientRect(),T=this.params.options.fold?this.referenceFoldHeight:Math.round(360*S.width/640);e=".SMstarting_"+this.api+"{position:absolute !important;top:"+A.getElementPosition(this.reference).y+"px !important;left:"+S.left+"px !important;width:"+S.width+"px !important;height:"+T+"px !important;}"}return e},r.prototype.buildReferenceStyle=function(){var t,e=this.getAdFactoryCreativeSize(),i=this.reference.getBoundingClientRect(),r=0<i.width?i.width:this.params.container.offsetWidth,n=this.adFactory&&e.height?e.height:this.getHeightFromWidth(r),a=0;this.adFactory&&this.adFactory.height&&this.adFactory.forceDimensions&&(n=e.height),this.sspSize&&this.sspSizeBanner()&&!this.params.ava.enabled&&(n=this.sspSize.h,this.sspSize.rescale&&(n=e.width*this.sspSize.h/this.sspSize.w),"desktop"!==this.device.mobileDesktop&&(this.sspSize.rescaleMobile||this.sspSize.mobileWidth)&&(n=e.width*this.sspSize.h/this.sspSize.w)),this.referenceInitialHeight=n,this.state!==this.states.PLAYING&&this.state!==this.states.PAUSED&&this.params.options.fold&&(n=this.referenceFoldHeight),this.params.options.margin&&0<parseInt(this.params.options.margin)&&(r=this.params.container.offsetWidth-this.params.options.margin,a=this.params.options.margin/2),t=this.adFactory&&("AdImage"===this.adFactory.type||"SocialAd"===this.adFactory.type||"Scroller"===this.adFactory.type||"Display"===this.adFactory.type||"SSP"===this.adFactory.type&&!this.params.ava.enabled||"vertical"===this.adFactory.type)?"transparent":"#e7e7e7",this.params.options.fold&&(n=this.referenceFoldHeight,t="rgba(246,246,246,.4)");var s="";return I.isAMP()?(s+="margin-top:-1px;margin-left:0px;margin-bottom:0px;",I.isAMPStickyIntegration()&&(n=I.getStickyAdMaxHeight())):s+="margin-left:"+a+"px;",s+="height:"+n+"px;width:"+r+"px;background-color:"+t+";"},r.prototype.sspSizeBanner=function(){for(var t=[{w:300,h:250,rescale:!1,rescaleMobile:!0,avareduce:!1},{w:320,h:480,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:66},{w:300,h:600,rescale:!1,rescaleMobile:!0,avareduce:!0,mobileWidth:50},{w:640,h:360,rescale:!0},{w:728,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:980,h:90,rescale:!0,rescaleMobile:!1,avareduce:!1},{w:300,h:100,rescale:!1,rescaleMobile:!0,avareduce:!1}],e=0;e<t.length;e++)if(this.sspSize&&this.sspSize.w&&this.sspSize.w===t[e].w&&this.sspSize.h&&this.sspSize.h===t[e].h)return this.sspSize.rescale=t[e].rescale,this.sspSize.rescaleMobile=t[e].rescaleMobile,this.sspSize.avareduce=t[e].avareduce,t[e].mobileWidth&&(this.sspSize.mobileWidth=t[e].mobileWidth),!0;return!1},r.prototype.buildCSS=function(t){var e="SMStyle_"+t+"_"+this.api,i=document.createElement("style");i.type="text/css",i.innerHTML=this._buildStyle(t),i.id=e;var r=window;if(!r.document.getElementById("SMIntext_frame_"+this.api))try{do{if((r=r.parent).document.getElementById("SMIntext_frame_"+this.api))break}while(r.parent&&r!==r.parent)}catch(t){}if(r){var n=r.document.getElementById(e);n&&n.parentNode.removeChild(n),r.document.getElementsByTagName("head")[0].appendChild(i)}},r.prototype.onAdFactory=function(t){"SM"===t.provider?("SocialAd"!==t.type&&"Scroller"!==t.type||(this.params.ava.enabled=!1,this.minimized&&this.maximizeVideo(!0)),this.adFactory={height:t.height,width:t.width,responsive:t.responsive,forceDimensions:"SocialAd"===t.type||"Display"===t.type||"Scroller"===t.type,type:t.type}):"Creative"===t.provider&&"vertical"===t.type&&(this.adFactory={type:t.type,height:t.height,width:t.width,responsive:t.responsive,forceDimensions:!0}),(this.adFactory.height&&this.adFactory.width&&"SSP"!==this.adFactory.type||"SSP"===this.adFactory.type&&!this.params.ava.enabled)&&(this.buildCSS("ref"),this.buildCSS("maxmin"))},r.prototype.onAdFactoryVpaidSSPSize=function(t){this.sspSize=t[0],this.sspSize.w=parseInt(this.sspSize.w,10),this.sspSize.h=parseInt(this.sspSize.h,10),this.sspSizeBanner(),this.buildCSS("ref"),this.buildCSS("maxmin"),this.params.ava.enabled&&this.minimizeVideo(),this.resizePlayer()},r.prototype.getAdFactoryCreativeSize=function(){var t=this.reference.getBoundingClientRect().width,e={width:t,height:this.getHeightFromWidth(t)};return this.adFactory&&this.adFactory.height&&this.adFactory.width?this.adFactory.responsive?(e.height=this.adFactory.height*e.width/this.adFactory.width,e.height>window.innerHeight&&!I.isAMP()&&(e.height=window.innerHeight-40,e.width=this.adFactory.width*e.height/this.adFactory.height)):this.adFactory.forceDimensions&&(e.height=this.adFactory.height,e.width=this.adFactory.width):(this.adFactory&&"Video"===this.adFactory.type||E.isVerificationTag(this.players[0]))&&(e.height=Math.round(9*e.width/16)),e},r.prototype.bringPlayerUp=function(){this.params.ava.enabled&&this.params.options.up&&(this.minimizeVideo(!0),this.fireEffectiveTracker())},r.prototype._doPlayerRestart=function(){void 0!==this.previousAVA&&(this.params.ava.enabled=this.previousAVA,this.previousAVA=void 0),this.state=this.states.LOADING,this.maximizeVideo(),0<this.params.loop.times&&(this.loopIntents++,this.params.loop.times<=this.loopIntents&&(this.params.loop.enabled=!1)),this.currentPriority=this.params.priority,this.players[0].setTagPriority(this.currentPriority),this.ptfTrackerManager.initVideoTracker(this.currentPriority,this.loopIntents),this.createIntervalByName("effectivePosition",this.setScrollEffective,50),this.createIntervalByName("scrollPositionInterval",this.setScrollPosition,5),this.hasBeenAds&&this.loadingDiv&&(this.loadingDiv.style.display="block"),this.players[0].start(),this.bringPlayerUp()},r.prototype.callPlayerRestart=function(){this.params.w.removeEventListener("scroll",this._bindedRestartListener,!0),this._doPlayerRestart()},r.prototype.restartPlayer=function(t){t?this._doPlayerRestart():(this._bindedRestartListener=this.callPlayerRestart.bind(this),this.params.w.addEventListener("scroll",this._bindedRestartListener,!0))},r.prototype.initDefaultAvaWidth=function(t){t.options&&"ES"===t.options.country?this.avaDefaultWidth={mobile:Math.round(.63*screen.width),desktop:420}:this.avaDefaultWidth={mobile:Math.round(.5*screen.width),desktop:420}},r.prototype.getHeightFromWidth=function(t){return E.isVerificationTag(this.players[0])?Math.round(9*t/16):Math.round(t*this.initialRatio.height/this.initialRatio.width)},t.exports=r},function(t,e,i){var n=i(3),r=(i(6),i(8)),a=i(10),s=i(9);function o(t,e){this.mainConfig=t,this.params=t.banner,this.container=t.container,this.position=t.options.adPosition,this.api=t.api,this.itId=t.it,this.win=t.w,this.device=e,0<this.params.tag.length&&(this.selectedTag=1<this.params.tag.length?a.selectRandomElementInArr(this.params.tag):this.params.tag[0],this.content=decodeURIComponent(this.selectedTag),this.content=this.replaceMacros(),this.init())}o.prototype.init=function(){for(var t=[],e=0;e<this.container.childNodes.length;e++){var i=this.container.childNodes[e];1===i.nodeType&&n.isChildNodeAllowed(i)&&t.push(i)}var r=this.win.document.createElement("div");r.setAttribute("id","SMAuxBanner_"+this.api),r.setAttribute("class","SMAuxBanner_"+this.itId+" "+this.device.mobileDesktop),this.aux=r,"fixed"===this.params.display?(r.setAttribute("style","display:none;transform:translateX(-50%);margin-left:50%;z-Index:100000000; background:none;float:left; margin-bottom:20px;"),this.container.insertBefore(r,t[this.position])):(r.setAttribute("style","display:none;position:fixed;bottom:20px;"+this.params.position+":20px;"),this.win.document.body.appendChild(r)),this.iframe=n.appendFrameCode(this.aux,!0,this.content,null,this.api),this.iframe.onload=this.resizeIframe.bind(this)},o.prototype.resizeIframe=function(){try{this.aux.style.display="block",this.iframe.contentWindow.document.body.style.margin=0;var t=this.iframe.contentWindow.document.body.scrollHeight,e=this.iframe.contentWindow.document.body.scrollWidth;0===t||0===e?this.bannerContentDoubleCheck?s.isAMP()||setTimeout(function(){this.closeBanner()}.bind(this),2e3):(this.bannerContentDoubleCheck=!0,setTimeout(function(){this.resizeIframe()}.bind(this),2e3)):(this.aux.style.height=t+"px",this.aux.style.width=e+"px",s.requestResizeUntilSuccess(window.document.body.offsetWidth,t,!0),"ava"===this.params.display&&setTimeout(function(){this.buildCloseBannerButton()}.bind(this),5e3))}catch(t){}},o.prototype.buildCloseBannerButton=function(){var t=document.createElement("div");t.setAttribute("id","closeButton_"+this.api),t.setAttribute("style","z-Index:50000;cursor:pointer;width:26px;height:26px;background-image: url('https://static.sunmedia.tv/SMSdk/ico/close.png');background-size:contain;background-repeat:no-repeat;position:absolute;top:10px;right:10px;display:block"),t.onclick=this.closeBanner.bind(this),this.aux.appendChild(t)},o.prototype.closeBanner=function(){this.aux.style.display="none",this.aux.parentNode.removeChild(this.aux)},o.prototype.replaceMacros=function(){var t={publisherId:this.mainConfig.publisher,gdprApplies:this.mainConfig.options.gdprApplies,consentData:this.mainConfig.options.consentData,category:this.mainConfig.options.category,height:this.container.offsetHeight,width:this.container.offsetWidth};return r.replace(this.content,t)},t.exports=o}]);
